/*! For license information please see unify.js.LICENSE.txt */
!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=25)}([function(e,t,i){"use strict";(function(e,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o;i.d(t,"a",(function(){return $e})),i.d(t,"b",(function(){return Ze})),i.d(t,"c",(function(){return pt})),i.d(t,"d",(function(){return $i})),i.d(t,"e",(function(){return jn})),i.d(t,"f",(function(){return we})),i.d(t,"g",(function(){return at})),i.d(t,"h",(function(){return Ui})),i.d(t,"i",(function(){return ne})),i.d(t,"j",(function(){return st})),i.d(t,"k",(function(){return Ge})),i.d(t,"l",(function(){return Xi})),i.d(t,"m",(function(){return Ct})),i.d(t,"n",(function(){return on})),i.d(t,"o",(function(){return Gi})),i.d(t,"p",(function(){return Vi})),i.d(t,"q",(function(){return ki})),i.d(t,"r",(function(){return Ei})),i.d(t,"s",(function(){return Ke})),i.d(t,"t",(function(){return Zi})),i.d(t,"u",(function(){return nn})),i.d(t,"v",(function(){return Xe})),i.d(t,"w",(function(){return Je})),i.d(t,"x",(function(){return fi})),i.d(t,"y",(function(){return z})),i.d(t,"z",(function(){return L})),i.d(t,"A",(function(){return $})),i.d(t,"B",(function(){return vt})),i.d(t,"C",(function(){return qn}));var a,l,c,h={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},d="GUEST",u="MEMBER",p=0,m=1,_=2,f=(s(o={},d,"li_gc"),s(o,u,"li_mc"),o),E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var o in r(this,e),t=t||{},this.consentAvailable=!1,this.issuedAt=i,this.userMode=n,this.optedInConsentMap={},h)t[o]=t[o]||p,t[o]!==p&&(this.consentAvailable=!0),this.optedInConsentMap[o]=t[o]===m||t[o]===p&&s===m},g=(a=[h.ADVERTISING,h.ANALYTICS_AND_RESEARCH,h.FUNCTIONAL],l=[p,m,_,p],c=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),{parseConsentBody:function(e,t){var i=e.match(c);if(!i)return{error:"Invalid consent body encoding",consent:new E};for(var n=parseInt(i[1],10),r={},s=0;s<a.length;s++)r[a[s]]=l[n>>2*s&3];var o=new Date(1e3*parseInt(i[2],10)),h=parseInt(i[3],10),d=p;return h>=0&&h<=3&&(d=l[h]),{error:null,consent:new E(r,o,t,d)}}}),y=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),b=function(e,t){var i=t.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")));return i&&i.length>1?i[1]:null},v=function(e,t){var i=b(f[e],t);return i?T(i,e):b(f[d],t)||b(f[u],t)?w(_):w(m)},w=function(e){var t={};for(var i in h)t[i]=e;return{error:null,consent:new E(t,null,null,e)}};var T=function(t,i){t&&t.length>1&&'"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1));var n,r=null;try{r=(n=t,"undefined"==typeof atob&&void 0!==e?e.from(n,"base64").toString("binary"):atob(n)).match(y)}catch(e){}if(!r)return{error:"Invalid consent encoding",consent:new E};var s=parseInt(r[1],10),o=r[2];switch(s){case 1:return g.parseConsentBody(o,i);default:return{error:"Invalid encoded consent version ".concat(s),consent:new E}}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.cookie;return e||(e=b("liap",t)?b(f[u],t)?u:d:b(f[d],t)?d:u),v(e,t)};window.encodeURIComponent;function I(e){let t=e.querySelector('meta[name="pageKey"]');return t?t.content+"_jsbeacon":""}function A(e){let t=e.querySelector('meta[name="linkedin:pageTag"]');return t&&t.content||""}function O(e){let t=e.querySelector('meta[name="locale"]');return t&&t.content||""}function N(e){let t=e.domain;return t?t.split(".").slice(-2).join("."):""}function R(e){return e&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)?e.slice(1,-1):e}var L=Object.freeze({__proto__:null,getPageKey:I,getPageTag:A,getLocale:O,getDomain:N,trimDoubleQuotes:R});const C={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ESCAPE:"Escape",ENTER:"Enter",SPACEBAR:" ",TAB:"Tab"},P={Down:C.ARROW_DOWN,Right:C.ARROW_RIGHT,Left:C.ARROW_LEFT,Up:C.ARROW_UP,Esc:C.ESCAPE,Spacebar:C.SPACEBAR,Tab:C.TAB};function F(e){return P[e]||e}function k(e,t){if(!e)return null;let i=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;for(;e&&!i.call(e,t);)e=e.parentElement;return e}function M(e){"complete"===document.readyState?e():window.addEventListener("load",()=>{setTimeout(e)})}function D(e){return null==e||"object"!=typeof e?[]:Array.prototype.slice.call(e)}function U(e){const t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,r=t.top<=i&&t.top+t.height>=0,s=t.left<=n&&t.left+t.width>=0;return r&&s}function x({scrollTop:e=scrollY,clientHeight:t=window.innerHeight,scrollHeight:i=document.body.scrollHeight}={},n=0){return e>=i-(t+t*n)}function B(e,t,i){const n=new RegExp("([\\?&])".concat(i?t:encodeURIComponent(t),"=([^&#]*)")).exec(e);return n&&(i?n[2]:decodeURIComponent(n[2]))}function j(e,t,i,n){if(!e||!t)throw new Error("Required param of addQueryParam missing: url = ".concat(e,",  key = ").concat(t));t=encodeURIComponent(t),i=encodeURIComponent(i);const r=B(e,t,!0);if(r)return n?e.replace(r,i):e;{const n=e.indexOf("?");let[r,s]=e.split("#"),o="&";return n<0?o="?":n===e.length-1&&(o=""),s&&(s="#".concat(s)),"".concat(r).concat(o).concat(t,"=").concat(i).concat(s||"")}}function q(e,t,i){if("function"!=typeof e)throw new TypeError("Expected a function.");let n;return(...r)=>{const s=i&&!n;clearTimeout(n),n=setTimeout(()=>{n=null,i||e.apply(this,r)},t),s&&e.apply(this,r)}}function H(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t&&t[2]}function G(e,t,i={}){const n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}function V(){let e,t;const i=new Promise((i,n)=>{e=i,t=n});return i.resolve=e,i.reject=t,i}var z=Object.freeze({__proto__:null,closest:k,onload:M,makeArray:D,outerWidth:function(e){let t=e.offsetWidth,i=getComputedStyle(e);return t+=(parseInt(i.marginLeft,10)||0)+(parseInt(i.marginRight,10)||0),t},elementInViewport:U,hasElementScrolledToThreshold:x,getQueryParam:B,addTrackingCode:function(e,t){return j(e,"trk",t)},addQueryParam:j,debounce:q,getCookie:H,dispatchCustomEvent:G,getDeferredPromise:V,isDocumentHidden:function(e){return void 0!==e.msHidden?e.msHidden:void 0!==e.hidden?e.hidden:void 0}});class J{constructor(e,t,{mainButton:i,closeButton:n},r={}){if(!e)throw Error("An element must be provided to Collapsible");if(!t)throw Error("An expandable element must be provided to Collapsible");if(!i)throw Error("A main button element must be provided to Collapsible");this.el=e,this.expandableEl=t,this._isList=["UL","OL","DL"].includes(this.expandableEl.tagName);const{isOpen:s=!1}=r;this.isOpen=s,this.mainButton=i,this.closeButton=n,this.buttons=[i],this._isList&&this.el.addEventListener("keyup",e=>this._onKeyUp(e)),this.expandableEl.addEventListener("keydown",e=>this._onKeyDown(e)),this.mainButton.addEventListener("click",e=>this.closeButton?this._open(e):this._toggle(e)),this.mainButton.addEventListener("keydown",e=>this._onButtonKeyDown(e)),this.closeButton&&(this.closeButton.addEventListener("click",()=>this.close()),this.closeButton.addEventListener("keydown",e=>this._onButtonKeyDown(e)),this.buttons.push(this.closeButton))}get isList(){return this._isList}_toggle(e){this.isOpen?this.close():this._open(e)}_onButtonKeyDown(e){switch(F(e.key)){case C.ENTER:case C.SPACEBAR:e.preventDefault(),this.isOpen?this.close():this._open(e);break;case C.ARROW_UP:this.isOpen||this._open(e);break;case C.ARROW_DOWN:this.isOpen&&this.close()}}_onKeyUp(e){F(e.key)===C.SPACEBAR&&e.preventDefault()}_onKeyDown(e){const t=F(e.key);if(t===C.ESCAPE&&this.isOpen)this.close();else if(this._isList){let i;switch(t){case C.SPACEBAR:G(e.target,"click");break;case C.ARROW_LEFT:case C.ARROW_UP:i=k(e.target,"li");let t=i.previousElementSibling;t&&G(t,"focusEl");break;case C.ARROW_RIGHT:case C.ARROW_DOWN:i=k(e.target,"li");let n=i.nextElementSibling;n&&G(n,"focusEl")}}}_open(e={}){if(!this.isOpen){const{key:t}=e;this.isOpen=!0,this.buttons.forEach(e=>e.setAttribute("aria-expanded",this.isOpen)),G(this.el,"open",{key:t})}}close({shouldReturnFocusToTrigger:e=!0}={}){this.isOpen&&(this.isOpen=!1,this.buttons.forEach(e=>e.setAttribute("aria-expanded",this.isOpen)),G(this.el,"close"),e&&this.mainButton.focus())}}const W=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([disabled]):not([tabindex^="-"]):not([type="hidden"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','[tabindex]:not([tabindex^="-"]):not([disabled])'].join(",");function Y(e){const t=window.getComputedStyle(e);return"hidden"===t.visibility||"none"===t.display}function K(e,t=document.documentElement,i){if(e===t)return!Y(e);if(i&&i.get(e))return i.get(e);let n;return Y(e)?n=!1:e.parentNode&&(n=K(e.parentNode,t,i)),i&&i.set(e,n),n}const Q=".".concat("collapsible-dropdown","__list"),X=".".concat("collapsible-dropdown","__button");class Z{constructor(e,{getFocusItemFromListItem:t=(e=>e.querySelector(W)),elementToFocus:i,dropdownTriggerEl:n,dropdownContentEl:r}={}){if(!e)throw Error("An element must be provided to CollapsibleDropdown");if(this.el=e,this.dropdownContentEl=r||this.el.querySelector(Q),!i){const e=this.dropdownContentEl===this.dropdownContentEl.parentElement.querySelector(W),t="-1"===this.dropdownContentEl.getAttribute("tabIndex");e||t||console.warn('elementToFocus not provided and the dropdown container is not focusable. Consider adding tabindex="-1" to:',this.dropdownContentEl)}this.elementToFocus=i||this.dropdownContentEl,this.dropdownTriggerEl=n||this.el.querySelector(X),this.hideClass="hidden",this.collapsible=new J(e,this.dropdownContentEl,{mainButton:this.dropdownTriggerEl}),this._handleBodyClick=this._handleBodyClick.bind(this),this._focusOutsideDropdown=this._focusOutsideDropdown.bind(this),this._leaveWindow=this._leaveWindow.bind(this),this._attachEventListeners(),this.collapsible.isList&&(this._getFocusItemFromListItem=t)}_attachEventListeners(){this.el.addEventListener("open",e=>this._showDropdownList(e)),this.el.addEventListener("close",()=>this._hideDropdownList()),this.collapsible.isList&&this.dropdownContentEl.addEventListener("focusEl",e=>this._manageFocus(e))}_manageFocus(e){const{target:t}=e;if(t&&this._getFocusItemFromListItem){const e=this._getFocusItemFromListItem(t);e&&e.focus()}}_handleBodyClick(e){this.el.contains(e.target)||this.collapsible.close({shouldReturnFocusToTrigger:!1})}_showDropdownList(e){this.el.addEventListener("focusout",this._focusOutsideDropdown),window.addEventListener("blur",this._leaveWindow),this.dropdownContentEl.classList.remove(this.hideClass),this.elementToFocus.focus();const{key:t}=e&&e.detail;t?this.elementToFocus.classList.remove("no-focus-ring"):this.elementToFocus.classList.add("no-focus-ring"),document.addEventListener("mousedown",this._handleBodyClick)}_hideDropdownList(){document.removeEventListener("mousedown",this._handleBodyClick),this.el.removeEventListener("focusout",this._focusOutsideDropdown),window.removeEventListener("blur",this._leaveWindow),this.dropdownContentEl.classList.add(this.hideClass)}_focusOutsideDropdown(e){e.relatedTarget&&!this.el.contains(e.relatedTarget)&&this.collapsible.isOpen&&this.collapsible.close()}_leaveWindow(){this.collapsible.isOpen&&this.collapsible.close()}}function $(e,{method:t="GET",headers:i={},sendCookies:n=!0,skipCsrfToken:r=!1,postData:s,isPemEnabled:o=!1,pemDegradationTrackingMetadata:a=[],pemEntityIds:l=[]}={}){const c=new Promise((o,a)=>{const l=new XMLHttpRequest;if(l.addEventListener("load",(function(){if(l.status>=200&&l.status<300||304===l.status)o({status:l.status,responseText:l.responseText});else{const i=new Error("".concat(t," request for ").concat(e," has failed with status code ").concat(l.status));i.response={status:l.status,responseText:l.responseText},l.response&&(i.response.rawHeaders=l.getAllResponseHeaders()),a(i)}})),l.addEventListener("error",(function(e){a(e)})),l.open(t,e,!0),l.withCredentials=n,Object.keys(i).forEach(e=>{l.setRequestHeader(e,i[e])}),!r){const e=H("JSESSIONID");e&&l.setRequestHeader("Csrf-Token",R(e))}l.send(s)});return o&&(a.length?function(e,t,i,n){try{const r=e.then((e={})=>new Response(e,{status:e.status})).catch((e={})=>new Response(e.response,{status:e.response?e.response.status:500,headers:e.response&&e.response.rawHeaders?ee(e.response.rawHeaders):new Headers}));window.tracking.then(e=>{window.pemTracking.then(s=>{s.trackFeatureDegradationsForFetch(t,i,n,r,e.state.currentPageInstance)})})}catch(e){}}(c,e,l,a):console.warn("Please set the value for the option pemDegradationTrackingMetadata when PEM is enabled.")),c}function ee(e){const t=new Headers;return e&&e.trim().split(/[\r\n]+/).forEach(e=>{const i=e.trim().split(": "),n=i.shift();if(n){const e=i.join(": ");t.set(n.toLocaleLowerCase(),e)}}),t}const te=".".concat("language-selector__link"),ie="".concat(te,"--selected");class ne{constructor(e){if(!e)throw Error("An element must be provided to LanguageSelector");this._el=e,this.listEl=this._el.querySelector(".collapsible-dropdown__list"),this.dropdownTriggerEl=this._el.querySelector(".language-selector__button"),this.currentListItem=this.listEl.querySelector(ie),this.collapsibleDropdown=new Z(e,{dropdownTriggerEl:this.dropdownTriggerEl,elementToFocus:this.currentListItem}),this._attachCustomEventListeners()}_attachCustomEventListeners(){this.listEl.addEventListener("click",this._handleLocaleButtonClick.bind(this))}_handleLocaleButtonClick(e){return function(e){const t=R(H("bcookie")||""),i=function(e){let t="";return e.indexOf("linkedin.cn")>-1?t="https://www.linkedin.cn":e.indexOf("linkedin-ei.cn")>-1?t="https://www.linkedin-ei.cn":e.indexOf("linkedin-ei.com")>-1?t="https://www.linkedin-ei.com":e.indexOf("linkedin.com")>-1&&(t="https://www.linkedin.com"),t}(N(document));return $("".concat(i,"/psettings/update-language/cors?csrfToken=").concat(encodeURIComponent(t)),{method:"POST",headers:{"Content-Type":"application/json"},postData:JSON.stringify({locale:e}),skipCsrfToken:!0})}(e.target.getAttribute("data-locale")).then(()=>{location.reload()})}}var re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function se(e,t){return e(t={exports:{}},t.exports),t.exports}var oe=/^\s+|\s+$/g,ae=/^[-+]0x[0-9a-f]+$/i,le=/^0b[01]+$/i,ce=/^0o[0-7]+$/i,he=parseInt,de="object"==typeof re&&re&&re.Object===Object&&re,ue="object"==typeof self&&self&&self.Object===Object&&self,pe=de||ue||Function("return this")(),me=Object.prototype.toString,_e=Math.max,fe=Math.min,Ee=function(){return pe.Date.now()};function ge(e,t,i){var n,r,s,o,a,l,c=0,h=!1,d=!1,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,s=r;return n=r=void 0,c=t,o=e.apply(s,i)}function m(e){return c=e,a=setTimeout(f,t),h?p(e):o}function _(e){var i=e-l;return void 0===l||i>=t||i<0||d&&e-c>=s}function f(){var e=Ee();if(_(e))return E(e);a=setTimeout(f,function(e){var i=t-(e-l);return d?fe(i,s-(e-c)):i}(e))}function E(e){return a=void 0,u&&n?p(e):(n=r=void 0,o)}function g(){var e=Ee(),i=_(e);if(n=arguments,r=this,l=e,i){if(void 0===a)return m(l);if(d)return a=setTimeout(f,t),p(l)}return void 0===a&&(a=setTimeout(f,t)),o}return t=be(t)||0,ye(i)&&(h=!!i.leading,s=(d="maxWait"in i)?_e(be(i.maxWait)||0,t):s,u="trailing"in i?!!i.trailing:u),g.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=l=r=a=void 0},g.flush=function(){return void 0===a?o:E(Ee())},g}function ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function be(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==me.call(e)}(e))return NaN;if(ye(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ye(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(oe,"");var i=le.test(e);return i||ce.test(e)?he(e.slice(2),i?2:8):ae.test(e)?NaN:+e}var ve=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ye(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),ge(e,t,{leading:n,maxWait:t,trailing:r})};class we{constructor(e=window,{threshold:t=0,scrollLoadLimit:i=10,useDebounce:n=!1,wait:r=1e3,loadResults:s,onLoading:o=this._defaultOnLoading,onDoneLoading:a=this._defaultOnDoneLoading,loaderEl:l=document.querySelector(".loader"),showMoreButtonEl:c=document.querySelector(".infinite-scroller__show-more-button")}={}){if(!s)throw new Error("loadResults should be passed to the component");if(i<=0)throw new Error("scrollLoadLimit should be greater than 0, if you only need the button and not the scroller do not use this module");this.el=e,this.threshold=t,this.scrollLoadLimit=i,this.useDebounce=n,this.wait=r,this.loaderEl=l,this.onLoading=o,this.onDoneLoading=a,this.loadResults=s,this.showMoreButtonEl=c,this.isLoading=!1,this.loadNumber=0,this._onScroll=this._onScroll.bind(this),this._onClick=this._onClick.bind(this),this._scrollListener=this.useDebounce?q(this._onScroll,this.wait):ve(this._onScroll,this.wait),this._attachScrollEventListener()}_defaultOnLoading(){this.isShowMoreButtonTheTrigger?this.showMoreButtonEl.disabled=!0:this.loaderEl&&this.loaderEl.classList.add("loader--show")}_defaultOnDoneLoading(){this.isShowMoreButtonTheTrigger?this.showMoreButtonEl.disabled=!1:this.loaderEl&&this.loaderEl.classList.remove("loader--show")}_onScroll(){!this.isLoading&&x(this.el,this.threshold)&&(this.isLoading=!0,this.onLoading(),this.loadResults().finally(()=>{this.onDoneLoading(),this.isLoading=!1,++this.loadNumber>=this.scrollLoadLimit&&(this.removeInfiniteScroller(),this.showMoreButtonEl&&this._switchToShowMoreButton())}))}_onClick(){this.onLoading(),this.loadResults().finally(()=>{this.onDoneLoading()})}_switchToShowMoreButton(){this.isShowMoreButtonTheTrigger=!0,this.showMoreButtonEl.classList.add("infinite-scroller__show-more-button--visible"),this.showMoreButtonEl.addEventListener("click",this._onClick)}removeInfiniteScroller(){this.isShowMoreButtonTheTrigger?(this.showMoreButtonEl.removeEventListener("click",this._onClick),this.showMoreButtonEl.classList.remove("infinite-scroller__show-more-button--visible")):this.el.removeEventListener("scroll",this._scrollListener)}_attachScrollEventListener(){this.el.addEventListener("scroll",this._scrollListener)}}"".concat(".member-nav-menu","__button");var Te=se((function(e,t){!function(e){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==re||"undefined"!=typeof self&&self;var t,i,n,r,s=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){!function(e,t){var i="undefined"!=typeof window&&window&&"node"!==window.appEnvironment,n=i&&!!window.requestIdleCallback,r={AJAX_METHOD:"POST",DEFAULT_PAGE_TYPE:"ajax",globalTrackingUrl:null,globalTrackingAppId:"no.app.id",queue:[],paused:!1,maxQueueSize:1,queueTimeout:1e3,timeoutId:null,disableSendBeacon:!0,csrfToken:"",testId:"",testSegId:"",setProperty:function(e,t){void 0!==t&&(this[e]=t)},setTrackingUrl:function(e){this.setProperty("globalTrackingUrl",e)},setAppId:function(e){this.setProperty("globalTrackingAppId",e)},setCsrfToken:function(e){this.setProperty("csrfToken",e)},setTestId:function(e){this.setProperty("testId",e)},setTestSegId:function(e){this.setProperty("testSegId",e)},getCookieString:function(){return document.cookie},getCsrfToken:function(){for(var e=this.getCookieString().split(";"),t=0;t<e.length;t++){for(var i=e[t];" "===i.charAt(0);)i=i.substring(1);if(-1!==i.indexOf("JSESSIONID=")){var n=i.substring("JSESSIONID=".length,i.length);return'"'===n[0]&&'"'===n[n.length-1]&&(n=n.substring(1,n.length-1)),n}}return""},createXmlHttpObject:function(){return i&&window.XMLHttpRequest?new XMLHttpRequest:null},beacon:function(e,t,n,r){this._beacon(e,t,n,r||this.globalTrackingUrl,this.disableSendBeacon?null:i&&navigator.sendBeacon&&navigator.sendBeacon.bind(navigator))},_beacon:function(e,t,i,n,r){if(r){var s=void 0;try{s=r(n,e)}catch(t){throw"object"==typeof t&&(t.message="Error sending ["+e+"] to "+n+" using sendBeacon:"+t.message,t.tags=["tracking"]),t}if(s)return void(t&&t(s))}this.ajax(e,t,i,n)},ajax:function(e,t,i,n){var r;n?(r=this.createXmlHttpObject())&&(r.open(this.AJAX_METHOD,n,!0),r.withCredentials=!0,r.setRequestHeader("Content-type","application/json"),this.csrfToken?r.setRequestHeader("Csrf-Token",this.csrfToken):r.setRequestHeader("Csrf-Token",this.getCsrfToken()),this.testId&&r.setRequestHeader("X-LinkedIn-traceDataContext-ENG_TEST_ID",this.testId),this.testSegId&&r.setRequestHeader("X-LinkedIn-traceDataContext-ENG_TEST_SEGMENT_ID",this.testSegId),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||304===r.status?"function"==typeof t&&t(r):i&&i('Response is not "OK" or "Not Modified" for tracking request'))},4!==r.readyState&&r.send(e)):i&&i("Tracking url is not defined")},pause:function(){this.paused=!0},unpause:function(){this.paused=!1,this.queue.length>=this.maxQueueSize&&this.flush()},flush:function(){this.queue.length>0&&(this.beacon(JSON.stringify(this.queue),null,this.logError),this.queue=[]),n?cancelIdleCallback(this.timeoutId):clearTimeout(this.timeoutId),this.timeoutId=null,this.paused=!1},idleFlush:function(e){var t=this,i=Date.now();return requestIdleCallback((function(n){n.timeRemaining()>8||n.didTimeout?t.flush():t.timeoutId=t.idleFlush(e-(Date.now()-i))}),{timeout:e})},addToQueue:function(e){if(this.queue.push(e),this.queue.length>=this.maxQueueSize&&!this.paused)return this.flush();if(!this.timeoutId){var t=this;n&&!this.paused?this.timeoutId=this.idleFlush(this.queueTimeout):this.timeoutId=setTimeout((function(){t.flush()}),this.queueTimeout)}},validateEvent:function(e,t,i){this.beacon(JSON.stringify([{eventInfo:this.populateEventInfo(e),eventBody:this.populateEventHeaders(t)}]),(function(e){return i(null,e)}),(function(e){return i(e)}),this.globalTrackingUrl+"/validate")},sendEvent:function(e,t){this.addToQueue({eventInfo:this.populateEventInfo(e),eventBody:this.populateEventHeaders(t)})},getTimestamp:function(){return Math.round((new Date).getTime()/1e3)},populateEventInfo:function(e){return"string"==typeof e&&(e={eventName:e}),e&&"object"==typeof e?(e.appId||(e.appId=this.globalTrackingAppId),e):(this.logError("Event info must be object"),{})},populateEventHeaders:function(e){return e&&"object"==typeof e?e:(this.logError("Event body must be object"),{})},logError:function(e){var t=window.console;t&&t.error&&t.error(e)},init:function(){this.setTrackingUrl(),this.setAppId(),this.onBeforeUnload=this.onBeforeUnload.bind(this),i&&window.addEventListener("beforeunload",this.onBeforeUnload)},destroy:function(){this.flush(),i&&window.removeEventListener("beforeunload",this.onBeforeUnload)},onBeforeUnload:function(){this.flush()}};t.exports=r}(0,e)}));function o(){if("undefined"!=typeof window&&void 0!==window.sessionStorage)try{return JSON.parse(window.sessionStorage.getItem("li_trk_navigation"))}catch(e){}}function a(e){if("undefined"!=typeof window&&void 0!==window.sessionStorage)try{window.sessionStorage.setItem("li_trk_navigation",JSON.stringify(e))}catch(e){}}(r=e.ControlInteractionType||(e.ControlInteractionType={}))[r.FOCUS=0]="FOCUS",r[r.UNFOCUS=1]="UNFOCUS",r[r.KEYBOARD_SUBMIT=2]="KEYBOARD_SUBMIT",r[r.DRAG=3]="DRAG",r[r.PINCH_OPEN=4]="PINCH_OPEN",r[r.PINCH_CLOSE=5]="PINCH_CLOSE",r[r.DOUBLE_PRESS=6]="DOUBLE_PRESS",r[r.LONG_PRESS=7]="LONG_PRESS",r[r.SHORT_PRESS=8]="SHORT_PRESS",r[r.SWIPE_UP=9]="SWIPE_UP",r[r.SWIPE_DOWN=10]="SWIPE_DOWN",r[r.SWIPE_LEFT=11]="SWIPE_LEFT",r[r.SWIPE_RIGHT=12]="SWIPE_RIGHT",r[r.FLICK_UP=13]="FLICK_UP",r[r.FLICK_DOWN=14]="FLICK_DOWN",r[r.FLICK_LEFT=15]="FLICK_LEFT",r[r.FLICK_RIGHT=16]="FLICK_RIGHT",r[r.SHAKE=17]="SHAKE",r[r.KEYBOARD_NEXT=18]="KEYBOARD_NEXT",r[r.HOVER=19]="HOVER",(n=e.PageViewPageType||(e.PageViewPageType={}))[n.FULL=1]="FULL",n[n.AJAX=2]="AJAX",n[n.IFRAME=3]="IFRAME",n[n.REDIRECT=4]="REDIRECT",n[n.API=5]="API",n[n.FORM=6]="FORM",n[n.ROUTER=7]="ROUTER",n[n.ERROR=8]="ERROR",(i=e.EventTypes||(e.EventTypes={}))[i.PageViewEvent=0]="PageViewEvent",i[i.NavigationEvent=1]="NavigationEvent",i[i.ExternalNavigationEvent=2]="ExternalNavigationEvent",i[i.ControlInteractionEvent=3]="ControlInteractionEvent",i[i.PageVisibilityChangeEvent=4]="PageVisibilityChangeEvent";var l="undefined"!=typeof window?window:null;l?function(){var e=l.crypto||l.msCrypto;if(!t&&e&&e.getRandomValues){var i=new Uint8Array(16);(t=function(){return e.getRandomValues(i),i})()}if(!t){var n=new Uint8Array(16);t=function(){for(var e=0,t=void 0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=(t||0)>>>((3&e)<<3)&255;return n}}}():t=function(){return new Uint8Array(16).fill(Math.floor(256*Math.random()))};for(var c=[],h=0;h<256;h++)c[h]=(h+256).toString(16).substr(1);function d(){var e=new Uint8Array(16),i=t();i[6]=15&i[6]|64,i[8]=63&i[8]|128;for(var n=0;n<16;n++)e[0+n]=i[n];return e}function u(){return function(e){for(var t=[],i=0;i<e.length;i+=32768)t.push(String.fromCharCode.apply(null,e.subarray(i,i+32768)));return btoa(t.join(""))}(d())}function p(e){return e?"urn:li:page:"+e:null}function m(e,t){return e&&t?"urn:li:control:"+t+"-"+e:null}function _(e){return e?e.split(":").pop():null}function f(e,t){return e?{trackingId:t||u(),pageUrn:p(e)}:null}function E(e){if("string"!=typeof e)return null;var t=e.split(";");return 2===t.length?{pageUrn:t[0],trackingId:t[1]}:null}function g(e){return e&&e.referrer}function y(e){if(e&&e.URL){var t=e.URL.match(/trk=([^&]+)/);if(t&&2===t.length)return t[1]}return null}var b=Object.assign||function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=0;r<t.length;r++){var s=t[r];if(null!==s)for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},v=function(){function t(e){void 0===e&&(e={appId:null,initialPageInstance:null}),this.config=e;var t=this.config.disableInitialAnchorPageViewEvent||!1;if(!this.config.appId)throw new Error("TrackingTwo requires an appId.");if(!this.config.initialPageInstance){var i=document.querySelector('meta[name="trk-pageinstance"]');if(i&&(this.config.initialPageInstance=E(i.getAttribute("content"))),!this.config.initialPageInstance)throw new Error("TrackingTwo requires an initialPageInstance");t=!0}this.config.eventHeaderProperties?this.config.eventHeaderProperties.pageInstance&&delete this.config.eventHeaderProperties.pageInstance:this.config.eventHeaderProperties={},this.config.userRequestHeaderProperties?this.config.userRequestHeaderProperties.pageKey&&delete this.config.userRequestHeaderProperties.pageKey:this.config.userRequestHeaderProperties={},this.config.validationMode=!!this.config.validationMode||!1,this.config.trackingUrl=this.config.trackingUrl||"/li/track";var n=function(){var e=window.location.pathname,t=e+window.location.search,i=window.location.href,n=o();if(!n)return null;for(var r=0;r<n.length;r++){var s=n[r].href;if(s===e||s===t||s===i){var l=n.splice(r,1)[0];return a(n),l}}return null}();n&&(e.previousPageInstance=n.prevInstance),Object.freeze(this.config.eventHeaderProperties),Object.freeze(this.config.userRequestHeaderProperties),Object.freeze(this.config),s.init(),s.setProperty("disableSendBeacon",!1),s.setTrackingUrl(this.config.trackingUrl),s.setProperty("maxQueueSize",this.config.requestBatchingMaxQueueSize||10),s.setProperty("queueTimeout",1e3*(this.config.requestBatchingMaxWaitSeconds||10)),this.state={currentPageInstance:e.initialPageInstance,previousPageInstance:e.previousPageInstance||null};var r=this.config.prevControlName||(n?n.controlName:null);this.fireNavigationEvent(this.state.previousPageInstance,r),t||this.firePageViewEvent(),this._boundDocumentClickHandler=this._handleDocumentClicks.bind(this),document&&document.body.addEventListener("click",this._boundDocumentClickHandler,!0),this._boundDocumentClickBubbleHandler=this._handleDocumentClicksBubble.bind(this),document&&document.body.addEventListener("click",this._boundDocumentClickBubbleHandler,!1),this._boundWindowBeforeUnloadHandler=this._handleWindowBeforeUnload.bind(this),window&&window.addEventListener("beforeunload",this._boundWindowBeforeUnloadHandler,!0),this._boundDocumentVisibilityChangeHandler=this._handleDocumentVisibilityChange.bind(this);var l="visibilitychange";document&&(void 0!==document.msHidden&&(l="msvisibilitychange"),document.addEventListener(l,this._boundDocumentVisibilityChangeHandler,!0))}return t.prototype._handleDocumentClicks=function(e){for(var t=e.target;t!==e.currentTarget&&!t.hasAttribute("data-tracking-control-name");)t=t.parentElement;if(t!==e.currentTarget){var i=t.getAttribute("data-tracking-control-name");!t.hasAttribute("data-tracking-no-cie")&&this.fireControlInteractionEvent(i)}},t.prototype._handleDocumentClicksBubble=function(e){for(var t=e.target;t!==e.currentTarget&&!t.hasAttribute("data-tracking-control-name");)t=t.parentElement;if(t!==e.currentTarget){var i=t.getAttribute("data-tracking-control-name"),n=t.hasAttribute("data-tracking-will-navigate"),r=t.getAttribute("data-tracking-href")||t.getAttribute("href");n&&!e.defaultPrevented&&this.saveStateForPageDeparture({controlName:i,href:r})}},t.prototype._handleWindowBeforeUnload=function(e){var t=e.target.activeElement,i=t,n=null,r=!1;if(t){for(;i!==e.currentTarget&&("function"!=typeof i.hasAttribute||!i.hasAttribute("data-tracking-control-name"))&&i.parentElement;)i=i.parentElement;i!==e.currentTarget&&("getAttribute"in i&&(n=i.getAttribute("data-tracking-control-name")),"hasAttribute"in i&&(r=i.hasAttribute("data-tracking-will-navigate")))}r||this.fireExternalNavigationEvent(n)},t.prototype._handleDocumentVisibilityChange=function(){var e=!1;if(void 0!==document.msHidden)e=document.msHidden;else{if(void 0===document.hidden)return;e=document.hidden}this.firePageVisibilityChangeEvent(e)},t.prototype.saveStateForPageDeparture=function(e){if(e){var t,i,n=e.controlName,r=e.href;t={controlName:n,href:r,prevInstance:this.state.currentPageInstance},(i=o()||[]).push(t),a(i)}},t.prototype.fireControlInteractionEvent=function(t,i,n){if(void 0===i&&(i=e.ControlInteractionType.SHORT_PRESS),void 0===n&&(n={}),!t)throw new Error("controlName is required.");var r=_(this.state.currentPageInstance.pageUrn),s=n.uiControlPageKey||r;this.fireTrackingEvent(e.EventTypes[e.EventTypes.ControlInteractionEvent],{requestHeader:{},header:{},controlUrn:m(t,s),interactionType:e.ControlInteractionType[i]},n)},t.prototype.fireNavigationEvent=function(t,i,n){void 0===n&&(n={});var r=t?_(t.pageUrn):null,s=n.uiControlPageKey||r;this.fireTrackingEvent(e.EventTypes[e.EventTypes.NavigationEvent],{requestHeader:{},header:{},previousPageInstance:t,triggerControlUrn:m(i,s)},n)},t.prototype.fireExternalNavigationEvent=function(t,i){void 0===i&&(i={});var n=i.uiControlPageKey||_(this.state.currentPageInstance.pageUrn);this.fireTrackingEvent(e.EventTypes[e.EventTypes.ExternalNavigationEvent],{requestHeader:{},header:{},triggerControlUrn:m(t,n)},i,!0)},t.prototype.firePageViewEvent=function(t,i){void 0===i&&(i={});var n=(i=b({},i)).pageViewPageType||e.PageViewPageType.AJAX,r=_(this.state.currentPageInstance.pageUrn),s=t||r;this.fireTrackingEvent(e.EventTypes[e.EventTypes.PageViewEvent],{requestHeader:{pageKey:s},header:{},pageType:e.PageViewPageType[n].toLowerCase(),trackingInfo:{clientTimestamp:Date.now().toString()}},i)},t.prototype.fireAnchorPageViewEvent=function(e,t,i){if(void 0===i&&(i={}),!e)throw new Error("newPageKey is required.");var n=b({},this.state.currentPageInstance),r=f(e);this.state.previousPageInstance=n,this.state.currentPageInstance=r,this.fireNavigationEvent(n,t,i),this.firePageViewEvent(e,i)},t.prototype.firePageVisibilityChangeEvent=function(t,i){void 0===i&&(i={}),this.fireTrackingEvent(e.EventTypes[e.EventTypes.PageVisibilityChangeEvent],{requestHeader:{},header:{},isVisible:!t},i)},t.prototype.fireTrackingEvent=function(e,t,i,n){if(void 0===i&&(i={}),void 0===n&&(n=!1),!e||!t)throw new Error("eventName and body are required.");t=b({},t),(i=b({},i)).topicName||(i.topicName=e),i.pageInstance||(i.pageInstance=this.state.currentPageInstance);var r=b({pageKey:_(i.pageInstance.pageUrn),path:window.location.href,referer:g(document),trackingCode:y(document)},this.config.userRequestHeaderProperties,t.requestHeader);delete t.requestHeader,delete t.header.pageInstance;var o=b({pageInstance:i.pageInstance,time:Date.now()},this.config.eventHeaderProperties,t.header);delete t.header;var a={requestHeader:r,header:o};this.config.mapHeaders&&(a=this.config.mapHeaders(a));var l=b(a,t),c={eventName:e,topicName:i.topicName,appId:this.config.appId};this.config.validationMode?s.validateEvent(c,l,(function(t){t&&console.error("Event "+e+" failed validation!")})):(s.sendEvent(c,l),n&&s.flush())},t.prototype.destroy=function(){s.destroy(),document.removeEventListener("click",this._boundDocumentClickHandler,!0)},t.createFromPageKey=function(e,i){return e.initialPageInstance=f(i),new t(e)},t}();e.AppTrackingInstance=v,e.clearNavStorage=function(){window.sessionStorage.removeItem("li_trk_navigation")},e.derivePageInstanceFromString=E,e.derivePageKeyFromUrn=_,e.generateControlUrn=m,e.generatePageInstance=f,e.generatePageUrn=p,e.generateTrackingId=u,e.getReferrer=g,e.getTrackingCode=y,e.stringifyPageInstance=function(e){return e?e.pageUrn+";"+e.trackingId:null},e.uuid=d,e.webTrackingTransport=s}(t)}));let Se=null;function Ie(e,t="ajax",i){e.fireTrackingEvent("PageViewEvent",Ae(i,t))}function Ae(e,t="ajax"){const i=A(document),n=O(document);let r={};return n&&(r.interfaceLocale=n),e&&(r.pageKey=e),{header:{},requestHeader:r,pageType:t,trackingInfo:{clientTimestamp:Date.now(),pageTag:i}}}function Oe(e,t){t=t||"log";if("undefined"!=typeof window&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}const Ne=/ /g,Re=/[\s\u0000<>"]|%00/,Le=/\\/,Ce=/([.]|%2e){2}/i;let Pe=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function Fe(e){let t;if("string"!=typeof e)return Oe("jSecure Warning: url must be a string","error"),"invalid://";if(t=e.trim(),t.indexOf(" ")>-1&&(Oe("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(Ne,"+")),!Pe.test(t))return Oe("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),"invalid://";if(Re.test(t))return Oe("jSecure Error: not valid url character found in url: "+e,"error"),"invalid://";let i,n=t.split("?")[0],r=!1;try{i=decodeURI(n)}catch(e){r=!0}return r?(Oe("jSecure Error: malformed url path detected: "+n),"invalid://"):Le.test(n)||Ce.test(n)||Ce.test(i)?(Oe("jSecure Error: malicious data found in url path: "+n,"error"),"invalid://"):e}const ke={redirect(e){window&&(window.location.href=e)}};function Me(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function De(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(i),!0).forEach((function(t){Ue(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Me(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ue(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class xe{constructor(e){if(!e)throw new Error("An element must be passed in to Disable Background Navigation");this._container=e,this._hiddenElements=[]}disableBackground(){let e=this._container;for(;e&&e!==document.body&&e.parentElement;)this._hiddenElements=this._hiddenElements.concat([...e.parentElement.children].filter(t=>t!==e&&"true"!==t.getAttribute("aria-hidden")&&(t.setAttribute("aria-hidden",!0),!0))),e=e.parentElement}enableBackground(){this._hiddenElements.forEach(e=>{e.removeAttribute("aria-hidden")}),this._hiddenElements=[]}}const Be=["class","disabled","style","tabindex","type"];class je{constructor(e){if(!e)throw new Error("FocusTrap: No focus trap container passed in");this._container=e,this._observer=new MutationObserver(()=>this._setFirstAndLastFocusableEls(this._container)),this._handleKeyDown=this._focusTrap.bind(this),this._backgroundNavigationDisabler=new xe(this._container)}init(){this._observer.observe(this._container,{attributeFilter:Be,attributes:!0,childList:!0,subtree:!0}),this._setFirstAndLastFocusableEls(this._container),this._container.addEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.disableBackground()}tearDown(){this._observer.disconnect(),this._container.removeEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.enableBackground()}_focusTrap(e){const{key:t,target:i}=e,n=F(t),r=n===C.TAB&&e.shiftKey;!r&&n===C.TAB&&i===this.lastFocusableEl?(this.firstFocusableEl.focus(),e.preventDefault()):r&&i===this.firstFocusableEl&&(this.lastFocusableEl.focus(),e.preventDefault())}_setFirstAndLastFocusableEls(e){const[t,i]=this._getFirstAndLastFocusableEls(e);this.firstFocusableEl=t,this.lastFocusableEl=i,setTimeout(()=>{this._hasFocusBeenDropped()&&("-1"===e.getAttribute("tabindex")?e.focus():this.firstFocusableEl.focus())},100)}_hasFocusBeenDropped(){const e=document.activeElement;return!e||e===document.body}_getFirstAndLastFocusableEls(e){const t=[...e.querySelectorAll(W)],i=new Map;let n,r,s=0,o=t.length-1;for(;(!n||!r)&&s<=o;){if(!n){const r=t[s];n=K(r,e,i)&&r,s++}if(!r){const n=t[o];r=K(n,e,i)&&n,o--}}return r=r||n,[n,r]}}const{ENTER:qe,ESCAPE:He}=C;class Ge{constructor(e,{enablePageViewTracking:t=!1}={}){if(!e)throw new Error("No modal element passed in");this._el=e,this._parentNode=this._el.parentNode,this._topLevelContainer=this._getTopLevelContainer(),this._wrapperEl=this._el.querySelector(".".concat("modal__wrapper")),this._overlayEl=this._el.querySelector(".".concat("modal__overlay")),this._outletEls=this._getOutletEls(),this._exitButtonEl=this._el.querySelector(".".concat("modal__dismiss")),this._onKeyDownEvent=e=>this._onKeyDown(e),this._enablePageViewTracking=t,this._outletEls.forEach(e=>{e.addEventListener("click",()=>this.open())}),this._exitButtonEl.addEventListener("click",()=>this.close()),this._overlayEl.addEventListener("click",this._handleOverlayClick.bind(this)),this._focusTrap=new je(this._wrapperEl)}_getOutletEls(){const e=this._el.dataset.outlet,t=[...("default-outlet"===e?this._parentNode:document).querySelectorAll('[data-modal="'.concat(e,'"]'))];if(!t.length)throw new Error("No outlet was found with a data-modal attribute equal to the provided dataCustomOutlet param ".concat(e));return t}_getTopLevelContainer(){const e=document.querySelector(".".concat("top-level-modal-container"));if(!e){const e=document.createElement("div");return e.className="top-level-modal-container",document.body.appendChild(e)}return e}_handleOverlayClick(e){e.target===this._wrapperEl||this._wrapperEl.contains(e.target)||this.close()}_onKeyDown(e){const t=F(e.key),i=t===qe&&document.activeElement===this._exitButtonEl;(t===He||i)&&(this.close(),e.preventDefault())}open(){return this._previouslyFocusedEl=document.activeElement,this._overlayEl.classList.add("modal__overlay--visible"),this._topLevelContainer.appendChild(this._el),this.noScroll(),document.addEventListener("keydown",this._onKeyDownEvent),G(this._el,"open"),this._wrapperEl&&this._wrapperEl.focus(),this._focusTrap.init(),this._enablePageViewTracking&&window.tracking?window.tracking.then(e=>{const t=I(document).replace("_jsbeacon","");Ie(e,"ajax","".concat(t,"_").concat(this._el.id))}):Promise.resolve()}close(){this._overlayEl.classList.remove("modal__overlay--visible"),this._parentNode.appendChild(this._el),this.removeNoScroll(),document.removeEventListener("keydown",this._onKeyDownEvent),G(this._el,"close"),this._previouslyFocusedEl&&this._previouslyFocusedEl.focus(),this._focusTrap.tearDown()}noScroll(){document.body.classList.add("no-scroll")}removeNoScroll(){document.body.classList.remove("no-scroll")}}const Ve={COPY:"copy",LINKEDIN:"linkedin",TWITTER:"twitter",FACEBOOK:"facebook"};Object.keys(Ve).map(e=>Ve[e]);const ze={};function Je(e){const t=document.getElementById(e);if(!t&&void 0!==ze[e])return ze[e];if(!t)return console.warn("Element with id: ".concat(e," not found")),ze[e]=null,ze[e];let i;for(const e of t.childNodes)try{if(e.nodeType===Node.COMMENT_NODE){i=JSON.parse(e.nodeValue);break}}catch(e){}return void 0===i?(console.warn("Error retrieving content with id: ".concat(e,". Use embedJson helper to embed this content")),null):(ze[e]=i,t.parentNode.removeChild(t),ze[e])}const We=["binlar","ask\\ jeeves","mozilla\\/4\\.0\\ \\(compatible\\;\\ msie\\ 6\\.0\\;\\ windows\\ nt\\ 5\\.1\\;1813\\)","companydatatree","genieo","microsoft\\+scheduled\\+cache\\+content\\+download\\+service","liferea","superfeedr","ez\\ publish\\ link\\ validator","htmlparser","argclrint","linkwalker","webtool","ask\\+jeeves","stackrambler","paros","^fdm\\+3\\.x","ms\\ search","indy\\+library","seznam","sitevigil","intergator","freedom(?!from)","google\\+page\\+speed\\+insights","znajdzfoto\\/image","riddler\\.io","^java\\/","twiceler","httpunit","ktxn","webcopier","mna\\+digital\\+circonus\\+check","stuff(?!nz)","updatepatrol","feedburner","hp\\+sitescope","crawler","gigablastopensource\\/","rpt\\-http","^fdm\\ 3\\.x","libwww\\-perl","((?=pital)|ca(?=pital))pita","bingpreview","oia\\.owa","^ahc\\/","thunderstone","microsoft\\ bits","alertsite","^python\\-requests\\/","dts\\ agent","tangjiutao","^inmon","linkscan","alexa\\ site\\ audit","webtrends(?!clientlibrary)","chkd","joedog","daumoa","typhoeus","loadimpactpageanalyzer","google\\ news","coldfusion","mna\\ digital\\ circonus\\ check","alexa\\+site\\+audit","getright","appengine","(?=crawler)crawl","ibot(?!ta)","jobo","python\\-httplib","powermarks","site24x7","proximic","yahoo\\+pipes","((?=aporter)|oper(?=aportable))aport","web\\+downloader","check\\_http","grabber","topsy\\.com\\/butterfly\\/","harvest","^inagist\\+url\\+resolver","fast","crescent(?!\\ build|\\+build)","sohu(?!ennews|video|news)","favorg","bloglines","fetch(?!tv)","wapt","microsoft\\+url\\+control","urchin","ning\\/1\\.0","pluck","google\\+news","spider","\\(compatible\\;\\+optimizer\\)","moreover\\/5\\.1","js\\-kit","server\\ density\\ external\\ llama","facebookexternalhit","ultraseek","catchpoint","yandex(?!\\ browser|\\+browser|mail)","echo(?!arena|fon|star)","^worldwatch\\/","combine(?!d)","winhttprequest","ez\\+publish\\+link\\+validator","jakarta","^webnotifier\\/","webmetrics","teoma","nerdbynature","ms\\+frontpage","nielsen","sucker","engagebdr","yahoofeedseeker","dts\\+agent","googleapps","holmes","plumtree","www\\-mechanize","google\\-hoteladsverifier","pingdom","drupal","sina\\_weibo","google\\ page\\ speed\\ insights","lisa","w3c\\_validator","^scan","yeti","snoopy","khte","trovit","atomz","httpcomponents","ms\\+search","google\\-http\\-java\\-client","spi\\_der","bubing","websitepulse","microsoft\\+bits","http\\_request2","ieautodiscovery","siteimprove","curl(?!ings)","go\\+1\\.1\\+package\\+http","^crowsnest\\/","email\\ exractor","utorrent","yahoocachesystem","shopwiki","justview","googlesecurityscanner","msnptc","rkg\\+url\\+verifier","monitor","bitvouseragent","((?=wormgame))worm","talktalk","help\\.coccoc\\.com","yahoo\\ pipes","heritrix","nutch","argus","kulturarw3","checkurl","universalsearch","amazon\\ route\\ 53\\ health\\ check\\ service","slurp","mozilla\\/5\\.0\\ \\(compatible\\;\\ msie\\ 5\\.0\\)","ezooms","kimengi\\/nineconnections\\.com","applesyndication","python\\-urllib","internal\\+zero\\-knowledge\\+agent","system\\+center\\+operations\\+manager","riverglassscanner","imgsizer","changedetection","nutscrape","feedzilla","contype","^lwp","\\(compatible\\;\\ optimizer\\)","infolink","outbrain","^prerender","admantx","^inagist\\ url\\ resolver","amazon\\+route\\+53\\+health\\+check\\+service","neustar","a6\\-indexer","comodo\\+ssl\\+checker","linkchecker","viglink","patric","newsnow","wasalive","scrapy","(?=gruber)grub","ruxitsynthetic","rkg\\ url\\ verifier","ocelli","webcapture","^kraken\\/","t\\-h\\-u\\-n\\-d\\-e\\-r\\-s\\-t\\-o\\-n\\-e","spider(?!solitaire)","isearch","hp\\ sitescope","maxamine","\\(simulated\\_by\\_webserver\\_stress\\_tool\\)","((?=obotics)|ther(?=obotfree))obot","yacy","twibble\\.io","google\\+wireless\\+transcoder","wget","internal\\ zero\\-knowledge\\ agent","google\\ wireless\\ transcoder","xenu","yahooseeker","advanced\\ email\\ extractor","feed43","ptst","reconnoiter","go\\ 1\\.1\\ package\\ http","advanced\\+email\\+extractor","linkdex","panscient\\.com","webcheck","linktiger","scooter","flipboard\\.com\\/browserproxy","evidon","twisted\\ pagegetter","cosmos","adbeat","sherlock","web\\ downloader","cookiereports","siteexplorer","miva","twisted\\+pagegetter","mfc\\_tear\\_sample","indy\\ library","b2w(?!tenisnew)","orangebot(?!swana)","lockss\\+cache","mozilla\\/4\\.0\\+\\(compatible\\;\\+msie\\+6\\.0\\;\\+windows\\+nt\\+5\\.1\\;1813\\)","yahooexternalcache","apache\\-httpclient\\/4\\.","archive\\.org","wesee\\:search","hiscan","ms\\ frontpage","tagscanner","google\\ web\\ preview","special\\_archiver","d24y\\-aegis","scoutjet","larbin","adsense\\-snapshot\\-google","keynote","skypeuripreview","clickajob","download\\+ninja","internet\\ ninja","^ltx71","ukonline","eventmachine\\ httpclient","nomad","mediapartners","twikle","microsoft\\ scheduled\\ cache\\ content\\ download\\ service","internet\\+ninja","scanalert","metauri","agentname","adr\\)","squider","isilo","teleport","automationtest","bordermanager","linklint","bot","templeton","rssreader","ichiro","(?=dialer\\-mobileapp)dialer","atomic\\_email\\_hunter","google\\+web\\+preview","longurl\\+api","longurl\\ api","internetseer","server\\+density\\+external\\+llama","topix","iopus","download\\ ninja","mozilla\\/5\\.0\\+\\(compatible\\;\\+msie\\+5\\.0\\)","europarchive","avantgo","flamingo\\_searchengine","lockss\\ cache","jobrapido","wesee\\:ads\\/","frontier","newspaper\\/0\\.0\\.","apachebench","flamingosearch","lydia","microsoft\\ url\\ control","phantomjs","system\\ center\\ operations\\ manager","^econtext\\/","akamai","cfschedule","searchme\\.com\\/support\\/","fortimail","comodo\\ ssl\\ checker","gomezagent","sitecon","webauto","golem","swcd","spundge\\/0\\.1","findlinks","^sjn","yandex","ia\\_archive","vagabondo","watchmouse","simplepie","1job","goldfire"].join("|");new RegExp(We,"i");const Ye=/.*(iPad|iPod|iPhone|Android|BB10|BlackBerry|IEMobile).*/;class Ke{constructor(e,{scrollThreshold:t=50,hideOnScrollBack:i=!1,isBottom:n=!0,exposeStickyState:r=!1,marginApplied:s=!1}={}){var o;this.el=e,this.scrollThreshold=t,this.hideOnScrollBack=i,this.isBottom=n,this.exposeStickyState=r,this._scrollListener=q(this._onScroll.bind(this),100),this.marginApplied=s,(o=navigator.userAgent)&&Ye.test(o)||window.addEventListener("resize",this._setSpacing.bind(this)),M(()=>{this.originalMarginTop=parseInt(window.getComputedStyle(document.body).marginTop)||0,this.originalMarginBottom=parseInt(window.getComputedStyle(document.body).marginBottom)||0,this._setSpacing(!0),this._doesPageHaveEnoughScroll()?window.addEventListener("scroll",this._scrollListener):this.hideOnScrollBack||this.show()})}_doesPageHaveEnoughScroll(){return document.body.scrollHeight>window.innerHeight+this.scrollThreshold}_setSpacing(e=!1){this.isBottom?this._setBottomSpacing():this.hideOnScrollBack||(this._setTopSpacing(),e&&this.show())}_setBottomSpacing(){let e=this.el.clientHeight;document.body.style.marginBottom&&!this.marginApplied&&(e+=this.originalMarginBottom),document.body.style.marginBottom="".concat(e,"px")}_setTopSpacing(){let e=this.el.clientHeight;document.body.style.marginTop&&!this.marginApplied&&(e+=this.originalMarginTop),document.body.style.marginTop="".concat(e,"px")}show(){this.el.classList.add("show"),G(this.el,"show")}hide(){this.el.classList.remove("show"),G(this.el,"hide")}_onScroll(){window.pageYOffset>this.scrollThreshold?(this.hideOnScrollBack||this.exposeStickyState||window.removeEventListener("scroll",this._scrollListener),this.show(),this.exposeStickyState&&this.el.classList.add("stuck")):(this.hideOnScrollBack&&this.hide(),this.exposeStickyState&&this.el.classList.remove("stuck"))}}const Qe=function(e){const t=new RegExp("<(?!/?(?:"+e.allowedTags+")(?:[ \t\r\n]*/?>|[ \t\r\n]+(?:(?:(?:"+e.allowedAttributes+")(?:=([\"'])[^'\"<>]*\\1)?|(?:"+e.allowedURLAttributes+")=([\"'])(?:(?:"+e.allowedURLSchemes+")(?::|&#(?:58|x3a);)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\2)[ \t\r\n]*)+/?>))","i");return function(e){return!t.test(e)}}({allowedTags:"a|abbr|address|area|article|aside|audio|b|bdi|bdo|big|blockquote|br|button|center|cite|code|datalist|dd|del|details|dfn|div|dl|dt|em|fieldset|figcaption|figure|font|footer|h[1-6]|header|hgroup|hr|i|img|ins|kbd|label|legend|li|map|mark|marquee|nav|nobr|ol|p|pre|q|rp|rt|ruby|s|samp|section|small|source|span|strike|strong|sub|sup|table|tbody|td|tfoot|th|thead|time|tr|u|ul|var|video|wbr",allowedAttributes:"alt|aria-[a-z0-9_\\-]+|border|caption|checked|class|colgroup|color|cols|colspan|controls|coords|data-[a-z0-9_\\-]+|dir|disabled|height|hidden|hreflang|id|label|loop|marginheight|marginwidth|maxlength|method|multiple|name|preload|readonly|rel|required|reversed|role|rows|rowspan|spellcheck|tabindex|target|title|type|usemap|width|clear|headers|ismap|lang|start|datetime|accept|max|min|placeholder|size|step",allowedURLAttributes:"href|src",allowedURLSchemes:"https?|ftp|mailto"});class Xe{constructor(){let e=document.getElementById("toasts");if(!e)throw new Error("No toasts element");this._el=e,this._position=e.getAttribute("type"),this.closeToastString=e.getAttribute("data-close-toast-string")}trigger(e,t,i){if(!e||"notify"!==e&&"success"!==e&&"error"!==e)throw new Error("Valid type not specified: type must be success, error, or notify");if(!t)throw new Error("No message specified");const n=i?"".concat(i,"_toast-").concat(e):"toast-".concat(e),r=this._createToastEl(e,t,n);return this._addToast(r)}clearAllToasts(){let e=this._el.childNodes;Array.from(e).forEach(e=>{this._removeToast(e)})}_createToastEl(e,t,i){let n,r,s,o,a,l=this;return n=this._createElement({type:"div",classes:"toast toast--"+e+" toast--"+this._position+" toast--hidden",attrs:[["role","alert"],["type",e]]}),r=this._createElement({type:"div",classes:"toast__inner"}),s=this._createElement({type:"icon",classes:"toast__icon",attrs:[["aria-hidden","true"],["type",e+"-pebble-icon"]],svg:e}),o=this._createElement({type:"p",classes:"toast__message",innerHTML:t}),a=this._createElement({type:"button",classes:"toast__dismiss",svg:"dismiss",attrs:[["aria-label",this.closeToastString],["data-tracking-control-name","".concat(i,"_dismiss")]]}),a.addEventListener("click",(function(){l._removeToast(n)})),r.appendChild(s),r.appendChild(o),n.appendChild(r),n.appendChild(a),n}_createSvg(e){return"dismiss"===e?this._createDismissSvg():this._createTypeSvg(e)}_createTypeSvg(e){let t,i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttributeNS(null,"x","0px"),i.setAttributeNS(null,"y","0px"),i.setAttributeNS(null,"viewBox","0 0 24 24"),i.setAttributeNS(null,"style","enable-background:new 0 0 24 24;"),t=document.createElementNS("http://www.w3.org/2000/svg","g"),t.setAttributeNS(null,"style","fill: currentColor"),this._addGChildren(t,e),i.appendChild(t),i}_addGChildren(e,t){if("success"===t){let t,i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttributeNS(null,"r","9.1"),i.setAttributeNS(null,"stroke","currentColor"),i.setAttributeNS(null,"stroke-width","1.8"),i.setAttributeNS(null,"cx","12"),i.setAttributeNS(null,"cy","12"),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"transform","rotate(-90 12 12)"),t=document.createElementNS("http://www.w3.org/2000/svg","path"),t.setAttributeNS(null,"d","M15.667,8L17,9.042l-5.316,7.36c-0.297,0.395-0.739,0.594-1.184,0.599c-0.455,0.005-0.911-0.195-1.215-0.599l-2.441-3.456l1.416-1.028l2.227,3.167L15.667,8z"),t.setAttributeNS(null,"fill","currentColor"),e.appendChild(i),e.appendChild(t)}if("error"===t){let t,i,n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttributeNS(null,"r","9.1"),n.setAttributeNS(null,"stroke","currentColor"),n.setAttributeNS(null,"stroke-width","1.8"),n.setAttributeNS(null,"cx","12"),n.setAttributeNS(null,"cy","12"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"transform","rotate(-90 12 12)"),t=document.createElementNS("http://www.w3.org/2000/svg","path"),t.setAttributeNS(null,"d","M13.238,12l3.463,3.463L15.463,16.7L12,13.237L8.538,16.7L7.3,15.463L10.763,12L7.3,8.537L8.538,7.3L12,10.763 l3.452-3.452l1.238,1.237L13.238,12z"),i=document.createElementNS("http://www.w3.org/2000/svg","rect"),i.setAttributeNS(null,"style","fill:none"),i.setAttributeNS(null,"width","24"),i.setAttributeNS(null,"height","24"),e.appendChild(n),e.appendChild(t),e.appendChild(i)}if("notify"===t){let t,i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttributeNS(null,"d","M12,2C6.477,2,2,6.477,2,12c0,5.523,4.477,10,10,10c5.523,0,10-4.477,10-10C22,6.477,17.523,2,12,2z M12,20.23 c-4.538,0-8.23-3.692-8.23-8.23S7.462,3.77,12,3.77s8.23,3.692,8.23,8.23S16.538,20.23,12,20.23z M11,10h2v8h-2V10z M11,6h2v2h-2 V6z"),t=document.createElementNS("http://www.w3.org/2000/svg","rect"),t.setAttributeNS(null,"style","fill:none;"),t.setAttributeNS(null,"width","24"),t.setAttributeNS(null,"height","24"),e.appendChild(i),e.appendChild(t)}}_createDismissSvg(){let e,t,i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"viewBox","0 0 24 24"),i.setAttributeNS(null,"width","24px"),i.setAttributeNS(null,"height","24px"),i.setAttributeNS(null,"class","toast__dismiss-icon"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),e.setAttributeNS(null,"style","fill-opacity: 1"),t=document.createElementNS("http://www.w3.org/2000/svg","path"),t.setAttributeNS(null,"d","M13,4.32L9.31,8,13,11.69,11.69,13,8,9.31,4.31,13,3,11.69,6.69,8,3,4.31,4.31,3,8,6.69,11.68,3Z"),i.appendChild(e),i.appendChild(t),i}_addToast(e){return this._el.appendChild(e),setTimeout((function(){e.classList.remove("toast--hidden")}),500),e}_removeToast(e){let t=this._el;e.classList.add("toast--hidden"),setTimeout((function(){t.removeChild(e)}),500)}_createElement(e){let t,{type:i,classes:n,attrs:r,innerHTML:s,svg:o}=De({},e);if(t=document.createElement(i),n&&(t.className=n),o){let e=this._createSvg(o);t.appendChild(e)}var a;if(s&&(t.innerHTML=Qe(a=s)?a:a.replace(/<[^>]*>|[<>'"&\\]/g,"")),r)for(let e of r)t.setAttribute(e[0],e[1]);return t}}"".concat("tooltip__popup","--show");class Ze{constructor(e){if(!e)throw new Error("No element passed in");this._el=e,this._imgEl=this._el.querySelector(".cover-img__image"),this._imgEl&&(this.cropInfo=Je(this._imgEl.dataset.embedId),this.ratio=0,this._imgEl.classList.contains(".lazy-loaded")&&this._initCalc(),this._bindEvents())}_bindEvents(){window.addEventListener("resize",this._handleWindowResize.bind(this)),this._imgEl.addEventListener("load",this._initCalc.bind(this))}_handleWindowResize(){this._isResizing||(this._isResizing=!0,window.requestAnimationFrame(this._initCalc.bind(this)))}_initCalc(){const e=this._el.clientWidth,t=this._el.clientHeight,i=this._imgEl.naturalWidth,n=this._imgEl.naturalHeight,r=this.cropInfo?this.cropInfo.y:0,s=this.cropInfo?this.cropInfo.x:0,o=i-s,a=n-r,l=e/o,c=t/a,h=o*c>=e,d=a*l>=t;let u=0;d&&h?u=Math.min(l,c):d?u=l:h&&(u=c);let p=Math.max(u*i,e),m=Math.max(u*n,t);u!==this.ratio&&(this.ratio=u,this._imgEl.style.width="".concat(p,"px"),this._imgEl.style.height="".concat(m,"px"),this._imgEl.style.top="-".concat(r*this.ratio,"px"),this._imgEl.style.left="-".concat(s*this.ratio,"px")),this._isResizing=!1}}class $e{constructor(e,{actionButtonClassName:t="promo__action",dismissButtonClassName:i="promo__dismiss",lockScreenClassName:n="no-scroll",startCoolOffAfterImpression:r=!1}={}){if(!e)throw Error("An element must be provided to apptivation promo");this.promo=e,this.actionBtn=this.promo.querySelector(".".concat(t)),this.dismissBtn=this.promo.querySelector(".".concat(i)),this.overlay=this.promo.querySelector(".".concat("apptivation-promo__overlay")),this.containsOverlay=!!this.overlay,this.lockScreenClassName=n,this.clickHandler=this._dismissPromo.bind(this),this.actionBtn.addEventListener("click",this.clickHandler),this.dismissBtn.addEventListener("click",this.clickHandler);const s=this.promo.hasAttribute("data-enable-app-detection");this._initPromise=this._getInitializationParams(e,s),this._initPromise.then(({cooloffInMinutes:e,impressionsBeforeDisplay:t})=>{if(this.cooloffInMinutes=e,this.coolOffEnabled=this.cooloffInMinutes>0,this.impressionsBeforeDisplay=t,this.containsOverlay&&this.overlay.addEventListener("click",this.clickHandler),!this._hasMetImpressionThreshold(this.impressionsBeforeDisplay))return;let i=!this.coolOffEnabled;this.coolOffEnabled&&(i=this._hasCoolOffExpired(r),i&&this._setCoolOfStart("global:impression")),this._toggleShowPromo(i)})}_getInitializationParams(e,t){const i=this._getSanitizedDatasetNumber(e.dataset,"cooloffInMinutes"),n=this._getSanitizedDatasetNumber(e.dataset,"impressionsBeforeDisplay");return new Promise(e=>{t?window.appDetection.then(t=>{const r=t.find(e=>"com.linkedin.android"===e.id);e(r?{cooloffInMinutes:0,impressionsBeforeDisplay:0}:{cooloffInMinutes:i,impressionsBeforeDisplay:n})}).catch(()=>{e({cooloffInMinutes:i,impressionsBeforeDisplay:n})}):e({cooloffInMinutes:i,impressionsBeforeDisplay:n})})}isVisible(){return this._initPromise.then(()=>!this.promo.classList.contains("apptivation-promo--hidden"))}_getSanitizedDatasetNumber(e,t){const i=e[t]&&e[t].replace(/\D/g,""),n=parseInt(i,10);return Number.isNaN(n)?0:n}_hasCoolOffExpired(e){this.cooloffStartTimestampMap=this._getCoolOfStartMap();const t=e?"global:impression":"global:dismiss",i=60*this.cooloffInMinutes*1e3,n=this.cooloffStartTimestampMap[t],r=n?parseInt(n,10):0;return Date.now()-r>i}_hasMetImpressionThreshold(e){if(e<2)return!0;return!(function(e){if(!e)throw"impressionKey is required";return(JSON.parse(localStorage.getItem("ssr-ui-lib:global-impression-count-map"))||{})[e]||0}("apptivation-promo")+1<e)||(function(e,t=1){if(!e)throw"impressionKey is required";const i=JSON.parse(localStorage.getItem("ssr-ui-lib:global-impression-count-map"))||{},n=i[e]||0;i[e]=n+t,localStorage.setItem("ssr-ui-lib:global-impression-count-map",JSON.stringify(i)),i[e]}("apptivation-promo"),!1)}_dismissPromo(e){e.preventDefault(),this.actionBtn.removeEventListener("click",this.clickHandler),this.dismissBtn.removeEventListener("click",this.clickHandler);const{target:t}=e,i="A"===t.tagName,n=t.getAttribute("href");if(this._toggleShowPromo(!1),this.coolOffEnabled&&this._setCoolOfStart("global:dismiss"),i)if(this.shouldUseAndroidOemDeepLink){const e=$e._getAndroidOEMDeepLinkFromUrl(n);location.assign(e),$e._checkNativeAppOpen(n)}else location.assign(n)}get shouldUseAndroidOemDeepLink(){return/Android/.test(navigator.userAgent)&&this.promo.hasAttribute("data-use-deep-link-for-oem-custom-browsers")}static _getAndroidOEMDeepLinkFromUrl(e){const{pathname:t,search:i}=new URL(e);return"".concat("linkedin://you").concat(t).concat(i)}static _checkNativeAppOpen(e){const t=setTimeout(()=>{"hidden"!==document.visibilityState&&location.assign(e)},1500);document.addEventListener("visibilitychange",()=>{clearTimeout(t)})}_toggleShowPromo(e){this.promo.classList.toggle("apptivation-promo--hidden",!e),e&&this.promo.focus(),this.containsOverlay&&document.body.classList.toggle(this.lockScreenClassName,e)}_getCoolOfStartMap(){return JSON.parse(localStorage.getItem("ssr-ui-lib:apptivation-promo-cooloff-start-timestamp-map"))||{}}_setCoolOfStart(e){this.cooloffStartTimestampMap[e]=Date.now(),localStorage.setItem("ssr-ui-lib:apptivation-promo-cooloff-start-timestamp-map",JSON.stringify(this.cooloffStartTimestampMap))}}const et="loader--absolute",tt="loader--show",it="loader--full-screen",nt="no-scroll",rt="loader-wrapper";class st{constructor(e,{wrapperEl:t}={}){if(!e)throw new Error("Loader el required");if(t&&!t.contains(e))throw new Error("Wrapper element is not a parent of the Loader el");this.el=e,this.wrapperEl=t,this.isAbsoluteVariant=this.wrapperEl&&this.el.classList.contains(et),window.addEventListener("pagehide",({persisted:e})=>{e&&this.hide()})}show(){this.el.classList.add(tt),this.el.classList.contains(it)&&document.body.classList.add(nt),this.isAbsoluteVariant&&this.wrapperEl.classList.add(rt)}hide(){this.el.classList.remove(tt),document.body.classList.remove(nt),this.isAbsoluteVariant&&this.wrapperEl.classList.remove(rt)}}const ot="hidden";class at{constructor(e){if(!e)throw new Error("el is required");this.el=e,this.textNodeEl=e.querySelector(".".concat("inline-notification__text"))}show(){this.el.classList.remove(ot)}hide(){this.el.classList.add(ot)}insertMessage(e){this.textNodeEl.textContent=e}}const lt="dismissable-input",ct="dismissable-input--focus",ht="dismissable-input__button",dt="dismissable-input__button--show",ut="dismissable-input__input";class pt{constructor(e){this.el=e,this._input=this.el.querySelector(".".concat(ut)),this._dismissButtonEl=this.el.querySelector(".".concat(ht)),this._isDismissable=!!this._dismissButtonEl,this._attachEventListeners()}_attachEventListeners(){this._input.addEventListener("focus",this._onInputFocus.bind(this)),this._input.addEventListener("input",this._updateDismissButton.bind(this)),this._input.addEventListener("blur",this._onInputBlur.bind(this)),this._isDismissable&&(this._dismissButtonEl.addEventListener("click",this.clear.bind(this)),this._updateDismissButton())}_onInputFocus(){this.el.classList.add(ct),this._updateDismissButton(),G(this._input,"dismissableInputFocused")}_updateDismissButton(){this._isDismissable&&(this._input.value.length?(this._showDismissButton(),this._dismissButtonEl.disabled=!1):(this._hideDismissButton(),this._dismissButtonEl.disabled=!0))}_hideDismissButton(){this._dismissButtonEl.classList.remove(dt)}_showDismissButton(){this._dismissButtonEl.classList.add(dt)}_onInputBlur(){this.el.classList.remove(ct)}clear(){this._input.value="",this._updateDismissButton(""),this._input.focus(),G(this.el,"clear")}}const mt={block:"typeahead-input",showList:"typeahead-input__dropdown--show",dropdown:"typeahead-input__dropdown",dropdownList:"typeahead-input__dropdown-list",dropdownText:"typeahead-input__dropdown-text",listItemFocus:"typeahead-input__dropdown-item--highlighted",listItem:"typeahead-input__dropdown-item",liveText:"typeahead-live-text",template:"typeahead-item-template"},_t="i18n_aria_live_text_no-suggestions",ft="i18n_aria_live_text_one-suggestion",Et="i18n_aria_live_text_multiple-suggestions";class gt{constructor(e,{createDismissableInput:t,elementClasses:i=mt,generateApiUrl:n,liveTextEl:r,liveTextClearTime:s=500,onSelect:o,onInput:a=(()=>{})}){this.el=e,this._liveTextClearTime=s,this._elementClasses=i,this._input=this.el.querySelector(".".concat(ut)),this._dropdownContainerEl=this.el.querySelector(".".concat(this._elementClasses.dropdown)),this._dropdownListEl=this.el.querySelector(".".concat(this._elementClasses.dropdownList)),this._listId=this._dropdownListEl.id,this._generateApiUrl=n,this._onSelect=o,this._onInput=a,this._typeaheadItemTemplate=this.el.querySelector(".".concat(this._elementClasses.template)),this._boundClickOutsideToCloseHandler=this._clickOutsideToCloseHandler.bind(this),this._liveTextEl=r||this.el.querySelector(".".concat(this._elementClasses.liveText)),t&&(this.dismissableInput=new pt(this.el)),this._getLiveTextOptions(),this._resetState(),this._attachEventListeners(),this._requestHandler=q(this._getAndApplyResults.bind(this),500)}_resetState(){this._dropdownListItemEls=[],this._setHighlightedEl(null),this._setExpandedState(!1)}_attachEventListeners(){this.checkForListItemSelectHandler=this._checkForListItemSelect.bind(this),this.hideListHandler=this._hideList.bind(this),this.onKeyDownHandler=this._onKeyDown.bind(this),this.onUserInputHandler=this._onUserInput.bind(this),this.onClearHandler=this._onClear.bind(this),this._input.addEventListener("keydown",this.onKeyDownHandler),this._input.addEventListener("input",this.onUserInputHandler),this._input.addEventListener("focus",this.onUserInputHandler),this._input.addEventListener("blur",this.hideListHandler),this._dropdownListEl.addEventListener("mousedown",this.checkForListItemSelectHandler),this._isDismissable&&this.el.addEventListener("clear",this.onClearHandler)}_removeEventListeners(){this._input.removeEventListener("keydown",this.onKeyDownHandler),this._input.removeEventListener("input",this.onUserInputHandler),this._input.removeEventListener("focus",this.onUserInputHandler),this._input.removeEventListener("blur",this.hideListHandler),this._dropdownListEl.addEventListener("mousedown",this.checkForListItemSelectHandler)}_isListActive(){return this.el.getAttribute("aria-owns")===this._listId&&"true"===this.el.getAttribute("aria-expanded")}_clickOutsideToCloseHandler(e){e.target!==this._input&&this._hideList()}_onKeyDown(e){if(!this._isListActive())return;switch(F(e.key)){case C.ARROW_DOWN:e.preventDefault(),this._moveToResult(1);break;case C.ARROW_UP:e.preventDefault(),this._moveToResult(-1);break;case C.ENTER:this._checkForListItemSelect(e)}}_moveToResult(e){if(0===this._dropdownListItemEls.length)return;const t=-1===e?-1:0;let i=null===this._highlighted.index?t:this._highlighted.index+e;i<0&&(i=this._dropdownListItemEls.length-1),i>=this._dropdownListItemEls.length&&(i=0),this._setHighlightedEl(i)}_setHighlightedEl(e){this._highlighted&&this._highlighted.el&&(this._highlighted.el.classList.remove(this._elementClasses.listItemFocus),this._highlighted.el.setAttribute("aria-selected",!1)),null===e?(this._highlighted={el:null,index:null},this._input.removeAttribute("aria-activedescendant")):(this._highlighted.el=this._dropdownListItemEls[e],this._highlighted.index=e,this._highlighted.el.setAttribute("aria-selected",!0),this._highlighted.el.classList.add(this._elementClasses.listItemFocus),this._input.setAttribute("aria-activedescendant",this._highlighted.el.id))}_isInputValid(){return this._input.value.length>0}_onUserInput(e){this._onInput(e),this._isInputValid()?this._requestHandler():this._hideList()}_getAndApplyResults(){if(this._isInputValid()){const e=this._input.value;this._makeTypeaheadRequest(e).then(e=>this._appendResults(e)).then(()=>this._showList())}}_makeTypeaheadRequest(e){return $(this._generateApiUrl(e),{sendCookies:!1}).then(e=>e&&JSON.parse(e.responseText)||[])}_appendResults(e=[]){this._hideList(),e.forEach((e,t)=>{const i=document.importNode(this._typeaheadItemTemplate.content,!0),n=i.querySelector(".".concat(this._elementClasses.listItem)),r=n.querySelector(".".concat(this._elementClasses.dropdownText));n.id="".concat(this._input.name,"-").concat(t+1),r.textContent=e.displayName,r.dataset.id=e.id,this._dropdownListEl.appendChild(i)}),this._dropdownListItemEls=D(this._dropdownListEl.children)}_shouldShowList(){return this._dropdownListItemEls.length>0&&this._isInputValid()}_showList(){this._shouldShowList()?(this._dropdownContainerEl.classList.add(this._elementClasses.showList),document.body.addEventListener("click",this._boundClickOutsideToCloseHandler),this._setExpandedState(!0)):(this._hideList(),this._setExpandedState(!1)),this._setLiveText()}_hideList(){if(this._isListActive()){for(;this._dropdownListEl.firstChild;)this._dropdownListEl.removeChild(this._dropdownListEl.firstChild);this._resetState(),this._dropdownContainerEl.classList.remove(this._elementClasses.showList),document.body.removeEventListener("click",this._boundClickOutsideToCloseHandler)}}_onClear(){this.hideListHandler()}_checkForListItemSelect(e){if(!this._isListActive())return;const t="mousedown"===e.type?e.target:this._highlighted.el;if(!t)return;e.preventDefault();const i=t.classList.contains(this._elementClasses.dropdownText)?t:t.querySelector(".".concat(this._elementClasses.dropdownText));i&&this.el.contains(i)&&this._updateInputTo(i,e)}_updateInputTo(e,t){this._input.value=e.textContent.trim(),this._input.focus(),"function"==typeof this._onSelect&&this._onSelect(e,t),this._hideList()}_getLiveTextOptions(){this._liveTextNoSuggestions=Je(_t),this._liveTextOneSuggestion=Je(ft),this._liveTextMultipleSuggestions=Je(Et)}_getLiveText(){let e;switch((this._dropdownListItemEls||[]).length){case 0:e=this._liveTextNoSuggestions;break;case 1:e=this._liveTextOneSuggestion;break;default:e=this._liveTextMultipleSuggestions}return e}_setLiveText(){const e=this._getLiveText(),t=document.createElement("p");t.textContent=e,this._liveTextEl.children.length&&(this._liveTextEl.removeChild(this._liveTextEl.firstChild),clearTimeout(this._liveTextTimeout)),this._liveTextEl.appendChild(t),this._liveTextTimeout=setTimeout(()=>{this._liveTextEl.firstChild&&this._liveTextEl.removeChild(this._liveTextEl.firstChild)},this._liveTextClearTime)}_setExpandedState(e){this.el.setAttribute("aria-expanded",e),e&&(this.el.setAttribute("aria-owns",this._listId),this._input.setAttribute("aria-controls",this._listId))}}function yt(e=window){return e.innerWidth<=769}function bt(e){return e.scrollHeight>e.offsetHeight}var vt=Object.freeze({__proto__:null,BABY_BEAR_BREAKPOINT:769,PAPA_BEAR_BREAKPOINT:1161,isBabyBear:yt,isPapaBear:function(e=window){return e.innerWidth>=1161},hasHiddenContent:bt});class wt{constructor(e,t,i,{onCloseExpandedSearch:n=(e=>e),isMobileDevice:r=!1}={}){if(this.el=e,this.expandedEl=t,this.placeholderEl=i,this.isMobileDevice=r,!this.el)throw new Error("No element passed in to BaseSearchBar");this.isExpanded=!1,this.type=this.el.getAttribute("data-searchbar-type"),this.firstInput=this.el.querySelector("input:first-of-type"),this.isIOSDevice="iPhone"===navigator.platform||"iPad"===navigator.platform||"iPod"===navigator.platform,this.onCloseExpandedSearch=n,r&&(this.focusTrap=new je(this.expandedEl))}showExpandedSearch(){this.isExpanded=!0,this.isMobileDevice&&(this.focusTrap.init(),this.placeholderEl.classList.add("hidden")),this.placeholderEl.classList.remove("show-on-mobile"),this.placeholderEl.classList.add("hide-on-mobile"),this.expandedEl.classList.add("isExpanded"),document.body.classList.add("no-scroll"),this.isIOSDevice&&(document.body.classList.add("fixed"),this.expandedEl.addEventListener("touchstart",this._onIOSTouchStartEvent)),document.addEventListener("keyup",this._onKeyUpEvent.bind(this)),this.firstInput.focus()}hideExpandedSearch(){this.firstInput.blur(),this.isExpanded=!1,this.isMobileDevice&&(this.focusTrap.tearDown(),this.placeholderEl.classList.remove("hidden")),this.expandedEl.classList.remove("isExpanded"),this.placeholderEl.classList.remove("hide-on-mobile"),this.placeholderEl.classList.add("show-on-mobile"),document.body.classList.remove("no-scroll"),this.isIOSDevice&&(document.body.classList.remove("fixed"),this.expandedEl.removeEventListener("touchstart",this._onIOSTouchStartEvent)),document.removeEventListener("keyup",this._onKeyUpEvent),this.placeholderEl.focus(),this.onCloseExpandedSearch()}_onKeyUpEvent(e){const{key:t,target:i}=e,n="Escape"===t,r="INPUT"===i.tagName;n&&!r?(e.preventDefault(),this.hideExpandedSearch()):"Tab"===t&&this._userIsTabbedOut()&&this.hideExpandedSearch()}_onIOSTouchStartEvent(e){const{target:t}=e;k(t,".".concat(mt.block))||document.activeElement.blur()}_userIsTabbedOut(){if(this.expandedEl.classList.contains("isExpanded")&&yt()){return!this.expandedEl.contains(document.activeElement)}return!1}}class Tt extends gt{constructor(e,{generateApiUrl:t,liveTextEl:i,onSelect:n,onInput:r}){super(e,{createDismissableInput:!0,generateApiUrl:t,liveTextEl:i,onSelect:n,onInput:r})}}const St={clearButton:"recent-searches__clear-btn",dropdown:"recent-searches",dropdownList:"recent-searches__list",listItem:"recent-searches__item",listItemClearButton:"recent-searches__item--clear",listItemLink:"recent-searches__item-link",listItemFocus:"recent-searches__item--highlighted",showList:"recent-searches--show"},It="i18n_aria_live_text_recent-searches-one-suggestion",At="i18n_aria_live_text_recent-searches-multiple-suggestions",Ot="i18n_aria_live_text_recent-searches-cleared";class Nt extends gt{constructor(e,{liveTextEl:t,clearRecentSearchApiBaseUrl:i}){if(super(e,{liveTextEl:t,elementClasses:St,liveTextClearTime:1e3}),!e)throw Error("An element must be provided to RecentSearches");if(this.dropdownContainerEl=e.querySelector(".".concat(St.dropdown)),!this.dropdownContainerEl)throw Error("A RecentSearches container element must be in the RecentSearches parent element");this._clearRecentSearchApiBaseUrl=i,this._dropdownListItemEls=D(this.dropdownContainerEl.querySelectorAll(".".concat(St.listItem))),this._clearBtnItem=e.querySelector(".".concat(St.listItemClearButton)),this._dropdownListItemEls.push(this._clearBtnItem),this._dismissButtonEl=e.querySelector(".".concat(ht))}_attachEventListeners(){this._clearBtn=this.el.querySelector(".".concat(St.clearButton)),this._clearRecentSearchesHandler=this._clearRecentSearches.bind(this),this._clearBtn.addEventListener("mousedown",this._clearRecentSearchesHandler),super._attachEventListeners()}_removeEventListeners(){this._clearBtn.removeEventListener("mousedown",this._clearRecentSearchesHandler),super._removeEventListeners()}_onUserInput(){this._shouldShowList()?this._showList():this._hideList()}_redirect(e){e.click()}_clickOutsideToCloseHandler(e){e.target===this._input||this._dismissButtonEl.contains(e.target)||this._hideList()}_checkForListItemSelect(e){if(!this._isListActive())return;const t="mousedown"===e.type?e.target:this._highlighted.el;if(!t)return;e.preventDefault();const i=t.querySelector(".".concat(St.listItemLink));i?this._redirect(i):t.classList.contains(St.listItemLink)?this._redirect(t):t===this._clearBtnItem&&this._clearRecentSearches()}_shouldShowList(){return this._dropdownListItemEls.length>1&&0===this._input.value.length}_onClear(){this.onUserInputHandler()}_hideList(){this._isListActive()&&(this.dropdownContainerEl.classList.remove(St.showList),document.body.removeEventListener("click",this._boundClickOutsideToCloseHandler),this._setExpandedState(!1),this._setHighlightedEl(null))}_getLiveTextOptions(){this._liveTextOneSuggestion=Je(It),this._liveTextMultipleSuggestions=Je(At),this._liveTextClearedSuggestions=Je(Ot)}_getLiveText(){let e;switch(this._informUserThatSearchesAreCleared?0:this._dropdownListItemEls.length){case 0:e=this._liveTextClearedSuggestions,this._informUserThatSearchesAreCleared=!1;break;case 2:e=this._liveTextOneSuggestion;break;default:e=this._liveTextMultipleSuggestions}return e}_clearRecentSearches(){$(this._clearRecentSearchApiBaseUrl,{method:"DELETE"}).then(()=>{this._removeEventListeners(),this._informUserThatSearchesAreCleared=!0,super._hideList(),super._setLiveText()}).catch(e=>{throw e})}}const Rt="switcher-tabs__tab--active";class Lt{constructor(e,t,i){this.el=e,this.mobileTriggerEl=i,this.baseSearchBarsMap=t,this.currentType=this.el.getAttribute("data-current-search-type"),this.switcherTriggerAndTabs=this.el.querySelector(".".concat("switcher-tabs__trigger-and-tabs")),this.switcherTabs=this.el.querySelector(".".concat("switcher-tabs")),this.dropdownList=this.el.querySelector(".".concat("switcher-tabs__list")),this.dropdownTrigger=this.el.querySelector(".".concat("switcher-tabs__placeholder")),this.dropdownPlaceholderText=this.el.querySelector(".".concat("switcher-tabs__placeholder-text")),this._handleSwitcherClick=this._handleSwitcherClick.bind(this),this._initMobileExpandedSwitcher(),this._initCollapsibleSwitcher()}_initMobileExpandedSwitcher(){this.el.addEventListener("click",this._handleSwitcherClick),this.mobileTriggerEl.addEventListener("click",e=>{e.preventDefault(),this.baseSearchBarsMap[this.currentType].showExpandedSearch()}),this.cancelBtn=this.el.querySelector(".".concat("switcher-tabs__cancel-btn")),this.cancelBtn.addEventListener("click",e=>{e.preventDefault(),this.baseSearchBarsMap[this.currentType].hideExpandedSearch()})}_initCollapsibleSwitcher(){this.collapsibleSwitcher=new Z(this.switcherTriggerAndTabs,{dropdownContentEl:this.dropdownList,dropdownTriggerEl:this.dropdownTrigger}),this.switcherTriggerAndTabs.addEventListener("open",()=>this._openSwitcher()),this.switcherTriggerAndTabs.addEventListener("close",()=>this._closeSwitcher()),this._updatePlaceholderText()}_openSwitcher(){this.dropdownList.addEventListener("click",this._handleSwitcherClick),this.switcherTabs.classList.remove("hide-on-desktop"),this.switcherTabs.classList.add("show-on-desktop"),this.dropdownList.querySelector("button").focus()}_closeSwitcher(){this.dropdownList.removeEventListener("click",this._handleSwitcherClick),this.switcherTabs.classList.remove("show-on-desktop"),this.switcherTabs.classList.add("hide-on-desktop")}_handleSwitcherClick(e){if(!e.target.classList.contains("switcher-tabs__button"))return;const t=e.target.getAttribute("data-switcher-type"),i=e.target.parentNode;t&&i&&this.currentType!==t?(this.collapsibleSwitcher.collapsible.currentListItem=k(e.target,"li"),this._switchTo(t,i)):this.collapsibleSwitcher.collapsible.close()}_switchTo(e,t){this._updateActiveTab(t),this._updatePlaceholderText(),this.el.setAttribute("data-current-search-type",e),this.collapsibleSwitcher.collapsible.close(),this.baseSearchBarsMap[this.currentType].isExpanded?this.baseSearchBarsMap[e].showExpandedSearch():this.baseSearchBarsMap[e].hideExpandedSearch(),this.currentType=e}_updateActiveTab(e){const t=this.el.querySelector(".".concat(Rt));if(t){t.querySelector(".".concat("switcher-tabs__button")).setAttribute("aria-selected","false"),t.classList.remove(Rt)}if(e.classList.contains("switcher-tabs__tab")){e.classList.add(Rt);e.querySelector(".".concat("switcher-tabs__button")).setAttribute("aria-selected","true")}}_updatePlaceholderText(){let e=this.el.querySelector(".".concat(Rt));if(e){let t=e.querySelector(".".concat("switcher-tabs__button"));this.dropdownPlaceholderText.textContent=t.textContent}}}class Ct{constructor(e,{typeaheadApiBaseUrl:t,clearRecentSearchApiBaseUrl:i,shouldSearchOnSelect:n=!0,onCloseExpandedSearch:r,includeSwitcher:s=!0}={}){if(this.el=e,!this.el)throw new Error("No element passed into SearchBar");this.typeaheadApiBaseUrl=t;const o=this.el.querySelector(".".concat("search-bar__live-text"));this.shouldSearchOnSelect=n,this.placeholderEl=this.el.querySelector(".".concat("search-bar__placeholder"));const a=!!this.el.querySelector(".".concat("search-bar__mobile-wrapper"));if(this.baseSearchBarsMap=D(this.el.querySelectorAll(".".concat("base-search-bar"))).reduce((e,t)=>{const i=new wt(t,this.el,this.placeholderEl,{onCloseExpandedSearch:r,isMobileDevice:a});return e[i.type]=i,e},{}),t){this.baseSearchBarFormEl=this.baseSearchBarsMap.JOBS.el.querySelector(".base-search-bar__form"),this.geoIdInputEl=this.el.querySelector('input[name="geoId"]');const e=this.el.querySelector(".keywords-typeahead-input");new Tt(e,{generateApiUrl:this._generateKeywordsTypeaheadApiUrl.bind(this),liveTextEl:o,onSelect:this._onKeywordsTypeaheadSelect.bind(this)});e.querySelector(".".concat(St.dropdown))&&new Nt(e,{clearRecentSearchApiBaseUrl:i,liveTextEl:o}),new Tt(this.el.querySelector(".location-typeahead-input"),{generateApiUrl:this._generateLocationTypeaheadApiUrl.bind(this),liveTextEl:o,onSelect:this._onLocationTypeaheadSelect.bind(this),onInput:this._onLocationTypeaheadInput.bind(this)}),Array.from(this.el.querySelectorAll(".".concat(lt,".search-input"))).forEach(e=>{new pt(e);e.querySelector(".".concat(St.dropdown))&&new Nt(e,{clearRecentSearchApiBaseUrl:i,liveTextEl:o})})}else Array.from(this.el.querySelectorAll(".".concat(lt))).forEach(e=>new pt(e));s&&(this.switcher=new Lt(e,this.baseSearchBarsMap,this.placeholderEl)),this.setupSearchInputFocusTracking()}_generateKeywordsTypeaheadApiUrl(e){return"".concat(this.typeaheadApiBaseUrl,"?query=").concat(window.encodeURIComponent(e))}_generateLocationTypeaheadApiUrl(e){return"".concat(this.typeaheadApiBaseUrl,"?query=").concat(window.encodeURIComponent(e),"&typeaheadType=GEO&geoTypes=POPULATED_PLACE,ADMIN_DIVISION_2,MARKET_AREA,COUNTRY_REGION")}_onKeywordsTypeaheadSelect(){this.shouldSearchOnSelect&&this._submitForm()}_onLocationTypeaheadSelect(e){this.geoIdInputEl&&(this.geoIdInputEl.value=e.dataset.id),this.shouldSearchOnSelect&&this._submitForm()}_onLocationTypeaheadInput(){this.geoIdInputEl&&(this.geoIdInputEl.value="")}_submitForm(){this.baseSearchBarFormEl&&this.baseSearchBarFormEl.submit()}setupSearchInputFocusTracking(){this.el.addEventListener("dismissableInputFocused",e=>{const t=e.target.getAttribute("data-tracking-control-name");t&&window.tracking&&window.tracking.then(e=>{e.fireTrackingEvent("SearchInputFocusEvent",{header:{},controlUrn:"urn:li:control:".concat(I(document),"-").concat(t)})})})}}class Pt{constructor(e,t,{isShown:i=!0}={}){if(!e)throw Error("An element must be provided to the dismissable element");if(!t)throw Error("A dismiss button must be provided to the dismissable element");this.el=e,this.dismissBtn=t,this._dismissEvent=e=>this.dismiss(e),i&&this.show()}show(){this.el.classList.add("show"),this.el.classList.remove("dismiss"),this.dismissBtn.addEventListener("click",this._dismissEvent),G(this.el,"show")}dismiss(e){this.el.classList.remove("show"),this.el.classList.add("dismiss"),G(this.el,"dismiss",e),this.dismissBtn.removeEventListener("click",this._dismissEvent)}}function Ft(){const e=(e="")=>!e||0===e.trim().length;return e.errorMessageSuffix="error_empty",e}function kt(e){const t=(t="")=>t.length<e;return t.errorMessageSuffix="error_too_short",t}function Mt(e){const t=(t="")=>t.length>e;return t.errorMessageSuffix="error_too_long",t}const Dt={session_key:[Ft(),kt(3),Mt(128)],session_password:[Ft(),kt(6),Mt(400)]};function Ut(e,t){const i=Dt[e];if(!i)throw new Error("No validation rules for element named ".concat(e));for(let e=0;e<i.length;e++)if(i[e](t))return i[e].errorMessageSuffix}var xt=window||n;const Bt=/^((?!\.(stg|corp)).)*\.linkedin\.(com|cn)$/;function jt(){const e=xt.location?xt.location.hostname:"";return Bt.test(e)}function qt(){return jt()?Ht()?"platform.linkedin.cn":"platform.linkedin.com":Ht()?"platform.linkedin-ei.cn":"platform.linkedin-ei.com"}function Ht(){const e=xt.location?xt.location.hostname:"";return/\.cn$/.test(e)}function Gt(e,t,i,n=!0){if("function"!=typeof t||"function"!=typeof i)throw new TypeError("One of the specified callbacks is not a function.");const r=new xt.XMLHttpRequest;r.withCredentials=n,r.open("GET",e,!0),r.onreadystatechange=function(){this.readyState===this.DONE&&(200===this.status&&"function"==typeof t?t(this.responseText):i(this))},r.send()}function Vt(e){return function(){let e=S();return!e||e.consent.optedInConsentMap.ADVERTISING}()&&function(e){return e["compliance.isGDPROptIn"]}(e)}function zt(e){return function(){let e=S();return!e||e.consent.optedInConsentMap.ANALYTICS_AND_RESEARCH}()}function Jt(e){return function(){let e=S();return!e||e.consent.optedInConsentMap.FUNCTIONAL}()}function Wt(e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(i){const t=Object.keys(i);for(let n=0;n<t.length;n++){const r=t[n];e[r]=i[r]}}}return e}function Yt(){return/utagdb=[^;]+/.test(xt.document.cookie)}let Kt;const Qt={},Xt={};function Zt(){return"https://".concat(jt()?Ht()?"www.linkedin.cn":"www.linkedin.com":Ht()?"www.linkedin-ei.cn":"www.linkedin-ei.com").concat("/litms/api/metadata/user")}function $t(){return function(e){let t=Wt({},e);return t["compliance.isAdvertisingOptIn"]=Vt(t),t["compliance.isAnalyticsAndResearchOptIn"]=zt(),t["compliance.isFunctionalOptIn"]=Jt(),t}(Qt)}function ei(e){if(!Xt[e]){const t=function(e){return"https://".concat(qt(),"/litms/allowlist/").concat(encodeURIComponent(e))}(e),i=new Promise((e,i)=>{Gt(t,t=>{e(JSON.parse(t))},e=>{i(e)},!1)});Xt[e]=i}return Xt[e]}xt.utag_data||(xt.utag_data={});const ti="undefined"!=typeof window&&window&&"node"!==window.appEnvironment;let ii;function ni(e="main",t){return function(){if(void 0===ii&&ti){const e=xt.document.cookie.match(/litms_utag_override=([^;]+)/);ii=e?e[1]:""}return ii}().length>0?ii:function(e,t=5){let i=null;"string"==typeof e&&(i="https://".concat(qt(),"/litms/utag/").concat(e,"/utag.js?cb=").concat(function(e){const t=new xt.Date;t.setSeconds(0),t.setMilliseconds(0);const i=Math.floor(t.getMinutes()/e)*e;return t.setMinutes(i),t.getTime()}(t)));return i}(e,t)}function ri(e,t,i,n){e.onLoadRulesRunOnce(i);let r=Wt({},t,$t());e.view(r),Yt()&&xt.trackingEventDebugData.push({profileName:n,eventType:"PV",trackingData:r})}function si(e,t,i,n){e.onLoadRulesRunOnce(i);let r=Wt({},t,$t());e.link(r),Yt()&&xt.trackingEventDebugData.push({profileName:n,eventType:"CI",trackingData:r})}function oi(e,t,i){if(function(e){xt.utag=e}(e),t instanceof Array&&t.length>0){const n=t.length;for(let r=0;r<n;r++){const n=t.shift();n.isControlInteraction?si(e,n.data,n.callback,i):ri(e,n.data,n.callback,i)}}}function ai(e,t){!function(e){return"object"==typeof e&&"function"==typeof e.fireTrackingEvent}(e)?console.error("Unable to fire tracking event"):e.fireTrackingEvent(t.info.name,t.body)}function li(e,t){return"urn:li:externalMarketingTag:(".concat(function(e){const t=e.data["ut.profile"],i=e.cfg.v;return"urn:li:tagManagementSystemProfile:(".concat("tealium",",").concat(t,",").concat(i,")")}(e),",").concat(parseInt(t),")")}function ci(e){const t=function(e){return Object.keys(e.loader.cfg).filter(t=>1===e.loader.cfg[t].send&&0!==e.loader.cfg[t].load)}(e).map(t=>function(e,t){return{tagUrn:li(e,t)}}(e,t));if(0!==t.length)return{info:{name:"ExternalMarketingTagFireEvent"},body:{header:{},requestHeader:{},tags:t}}}xt.utag_cfg_ovrd=xt.utag_cfg_ovrd||{},xt.trackingEventDebugData=xt.trackingEventDebugData||[],xt.utag_cfg_ovrd.noview=!0,xt.utag_cfg_ovrd.nocookie=!0;const hi=ti&&new RegExp("bot|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|sogou|facebook|alexa","i").test(xt.navigator.userAgent),di={};class ui{constructor({profileName:e,tracking2Instance:t,enableAllowlisting:i=!1,cacheBusterInterval:n}={}){this.isInitialized=!1,this.isAllowlistingEnabled=!1,this._allowlistReadyPromise=Promise.resolve({}),this.isContainerTagLoaded=!1,this._queue=[],this.allowlist={pageKey:{},controlUrn:{}},this.tracking2Instance=t,this.profileName=e,this.enableAllowlisting=i,this.cacheBusterInterval=n}initialize(){return this._shouldInitialize()?this.isInitialized?(console.warn("Initialize should not be called more that once"),this.initializePromise.then()):(this.isInitialized=!0,this.initializePromise=new Promise((e,t)=>{this.enableAllowlisting?(this.isAllowlistingEnabled=!0,this._onInitializeSuccessCallback=e,this._onInitializeFailureCallback=t,this._allowlistReadyPromise=ei(this.profileName).then(e=>this._processAllowlistResult(e)).catch(e=>console.error("Unable to retrieve allowlists for profile : ".concat(this.profileName),e))):this._loadContainerTag(e,t)}),this.profileName&&(di[this.profileName]=this),this.initializePromise):Promise.resolve()}_processAllowlistResult(e){Object.keys(e).forEach(t=>this.addValuesToAllowlist(t,e[t]))}_loadContainerTag(e,t){void 0!==xt.utag&&(xt.utag=void 0),void 0!==xt.utag_data&&(xt.utag_data=void 0);const i=function(){if(!Kt){const e=Zt();Kt=new Promise((t,i)=>{Gt(e,e=>{try{t(JSON.parse(e))}catch(e){console.error("Invalid JSON format of userSettings"),i(e)}},e=>{i(e)})})}return Kt}().then(e=>{Object.keys(e).forEach(t=>{!function(e,t){const i="string"!=typeof t?"":"".concat(t,".");"object"==typeof e&&Object.keys(e).forEach(t=>{Qt[i+t]=e[t]})}(e[t],t)})}).catch(e=>{console.error("Unable to get user settings while calling loading container tag",e)}),n=(r=ni(this.profileName,this.cacheBusterInterval),new Promise(e=>{const t=xt.document.createElement("script");t.type="text/javascript",t.src=r,t.async=!0,t.onload=e,xt.document.getElementsByTagName("head")[0].appendChild(t)}));var r;Promise.all([i,n]).then(()=>{this.isContainerTagLoaded=!0,this._uTag=xt.utag,function(e){const t=[];e.onLoadRulesRunOnce=function(e){t.push(e)};const i=e.loader.initcfg;e.loader.initcfg=function(){if(i.call(this,arguments),t.length>0){t.shift()()}}}(this._uTag),this._processQueuedEvents();const t={info:{name:"TagManagementSystemLoadEvent"},body:{header:{},requestHeader:{}}};"object"==typeof this.tracking2Instance&&ai(this.tracking2Instance,t),e(t)}).catch(e=>{console.error("Unable to complete loading container tag",e),t()})}_shouldInitialize(){return!hi}_shouldProcessEvent(e){return hi?Promise.resolve(!1):this.isAllowlistingEnabled?new Promise(t=>{this._allowlistReadyPromise.then(()=>{t(this._isEventAllowlisted(e))})}):Promise.resolve(!0)}_isEventAllowlisted(e){return void 0!==e.controlUrn?this._isEventAllowlistedByControlUrn(e):this._isEventAllowlistedByPageKey(e)}_isEventAllowlistedByPageKey(e){return void 0!==this.allowlist.pageKey[e.pageKey]}_isEventAllowlistedByControlUrn(e){return void 0!==this.allowlist.controlUrn[e.controlUrn]}addValuesToAllowlist(e,t){"string"==typeof e&&Array.isArray(t)&&void 0!==this.allowlist[e]&&t.forEach(t=>{this.allowlist[e][t]=!0})}_processQueuedEvents(){this.isContainerTagLoaded?oi(this._uTag,this._queue,this.profileName):this.isInitialized&&this.isAllowlistingEnabled&&this._loadContainerTag(this._onInitializeSuccessCallback,this._onInitializeFailureCallback)}_fireAuditEvent(){const e=ci(this._uTag);return void 0!==this.tracking2Instance&&void 0!==e&&ai(this.tracking2Instance,e),e}_createCallbackForAuditEvent(e){const t=this;return function(){const i=t._fireAuditEvent();"function"==typeof e&&e(i)}}trackPageView(e,t){return this._shouldProcessEvent(e).then(i=>{i&&(this._queue.push({isControlInteraction:!1,data:e,callback:this._createCallbackForAuditEvent(t)}),this._processQueuedEvents())})}trackControlInteraction(e,t){return this._shouldProcessEvent(e).then(i=>{i&&(this._queue.push({isControlInteraction:!0,data:e,callback:this._createCallbackForAuditEvent(t)}),this._processQueuedEvents())})}}function pi({event:e,litmsInstance:t,pageKey:i}){const n=e.target.getAttribute("data-tracking-control-name"),r=e.target.hasAttribute("data-tracking-litms");n&&r&&t.trackControlInteraction({controlUrn:"urn:li:control:".concat(i,"-").concat(n)})}class mi{constructor(e){if(this.trackingInstance=e,this.pageKey=I(document),this.litmsProfileName=function(e){const t=e.querySelector('meta[name="litmsProfileName"]');return t?t.content:""}(document),!this.litmsProfileName)throw Error('Page missing "litmsProfileName" meta tag.');this.litmsInstance=new ui({tracking2Instance:this.trackingInstance,profileName:this.litmsProfileName}),this.litmsInstance.initialize(),this.clickEventListener=e=>pi({event:e,litmsInstance:this.litmsInstance,pageKey:this.pageKey}),this.keydownEventListener=e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||pi({event:e,litmsInstance:this.litmsInstance,pageKey:this.pageKey})},document.body.addEventListener("click",this.clickEventListener,!0),document.body.addEventListener("keydown",this.keydownEventListener,!0)}trackPageView({pageKey:e=""}={}){if(!("string"==typeof e||e instanceof String))throw new Error("The pageKey is not a string!");this.litmsInstance&&this.litmsInstance.trackPageView({pageKey:e||this.pageKey})}}let _i;function fi(e){if(!_i){if(!e)throw new Error("No trackingInstance passed in!");_i=new mi(e)}return _i}class Ei{constructor(e,{customValidate:t,fireTrackingOnInit:i=!0}={}){if(!e)throw Error("An element must be provided to sign in form");this.el=e,this._customValidate=t,this._fireTrackingOnInit=i,this.showText=Je("i18n_sign_in_form_show_text"),this.showLabelText=Je("i18n_sign_in_form_show_label"),this.hideText=Je("i18n_sign_in_form_hide_text"),this.hideLabelText=Je("i18n_sign_in_form_hide_label"),this.usernameEl=this.el.querySelector("input[name=".concat("session_key","]")),this.passwordEl=this.el.querySelector("input[name=".concat("session_password","]")),this.usernameElId=this.usernameEl.id,this.passwordElId=this.passwordEl.id,this.usernameMsgEl=this.el.querySelector(".".concat("guest-input__message","[for=").concat(this.usernameElId,"]")),this.passwordMsgEl=this.el.querySelector(".".concat("guest-input__message","[for=").concat(this.passwordElId,"]")),this.sessionRedirectEl=this.el.querySelector("input[name=".concat("session_redirect","]")),this.passwordVisibilityToggle=this.el.querySelector(".".concat("sign-in-form__password-visibility-toggle")),this.anonymousLoginToggleInput=this.el.querySelector(".anonymous-login-toggle input"),this.passwordVisibilityToggle.addEventListener("click",this._togglePasswordVisibility.bind(this)),this.el.addEventListener("submit",e=>{if(e.preventDefault(),!this._validate()){if(this._customValidate)return this._customValidate(this.el);if(this.anonymousLoginToggleInput&&this.anonymousLoginToggleInput.checked){const e=this.sessionRedirectEl.value,t=j("/public-profile/settings/anonymousLogin","csrfToken",R(H("JSESSIONID")));this.sessionRedirectEl.value=j(t,"originalSessionRedirect",e),localStorage.setItem("voyager-web:anonymous-login",Date.now())}this.el.submit()}}),window.tracking&&window.tracking.then(e=>{const t=I(document).replace("_jsbeacon",""),i=t+"_login-form",n=this.el.querySelector(".sign-in-form__submit-btn"),r="".concat(t,"-").concat(n.dataset.trackingControlName),s=e.state&&e.state.currentPageInstance||{},o="".concat(s.pageUrn,";").concat(s.trackingId),a=this._createHiddenInputElement("pageInstance",o),l=this._createHiddenInputElement("controlId",r);this.el.appendChild(l),this.el.appendChild(a),this._fireTrackingOnInit&&this.fireTracking(e,i)})}fireTracking(e,t){Ie(e,"ajax",t),fi(e).trackPageView({pageKey:t})}setUsernameInputValue(e){this.usernameEl.value=e}resetFormState(){this.usernameEl.value="",this.passwordEl.value="","text"===this.passwordEl.getAttribute("type")&&this._togglePasswordVisibility()}_createHiddenInputElement(e,t){const i=document.createElement("input");return i.setAttribute("type","hidden"),i.setAttribute("name",e),i.setAttribute("value",t),i}_togglePasswordVisibility(){"password"===this.passwordEl.getAttribute("type")?(this.passwordEl.setAttribute("type","text"),this.passwordVisibilityToggle.innerText=this.hideText,this.passwordVisibilityToggle.setAttribute("aria-label",this.hideLabelText)):(this.passwordEl.setAttribute("type","password"),this.passwordVisibilityToggle.innerText=this.showText,this.passwordVisibilityToggle.setAttribute("aria-label",this.showLabelText))}_validate(){const e=Ut(this.usernameEl.name,this.usernameEl.value);if(e){this.usernameEl.parentNode.classList.add("guest-input__input-container--error"),this.usernameMsgEl.classList.remove("hidden");const t="".concat("i18n_username","_").concat(e);return this.usernameMsgEl.innerText=Je(t),this.usernameEl.focus(),!0}this.usernameEl.parentNode.classList.remove("guest-input__input-container--error"),this.usernameMsgEl.classList.add("hidden");const t=Ut(this.passwordEl.name,this.passwordEl.value);if(t){this.passwordEl.parentNode.classList.add("guest-input__input-container--error"),this.passwordMsgEl.classList.remove("hidden");const e="".concat("i18n_password","_").concat(t);return this.passwordMsgEl.innerText=Je(e),this.passwordEl.focus(),!0}this.passwordEl.parentNode.classList.remove("guest-input__input-container--error"),this.passwordMsgEl.classList.add("hidden")}}!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}const e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var i=this.listeners[e],n=0,r=i.length;n<r;n++)if(i[n]===t)return void i.splice(n,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),i=0,n=t.length;i<n;i++)t[i].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();const gi="990339570472-k6nqn1tpmitg8pui82bfaun3jrpmiuhs.apps.googleusercontent.com",yi={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},bi={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},{GOOGLE_ERROR:vi,GOOGLE_USER_FETCHED:wi,INITIALIZED:Ti}=yi,{INITIALIZATION:Si,AUTHENTICATION:Ii}=bi;class Ai extends EventTarget{constructor({libSrcPath:e,el:t,clientId:i=gi}){if(super(),!t)throw TypeError("DOM element for Sign In button is required");if(this.libSrcPath=e,this.el=t,this.clientId=i,window.gapi)this._initializeGoogleAuth();else{if(!e)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");n=()=>{!function(e,t){const i=document.createElement("script");i.src=e,t&&(i.onload=t),document.head.appendChild(i)}(e,this._initializeGoogleAuth.bind(this))},"complete"===document.readyState?n():window.addEventListener("load",()=>{n()})}var n}_initializeGoogleAuth(){return gapi.auth2.init({client_id:this.clientId}).then(e=>{this.auth2=e,this._attachSignIn();const t=new CustomEvent(Ti);this.dispatchEvent(t)}).catch(e=>{const t={type:Si,message:e.error},i=new CustomEvent(vi,{detail:t});this.dispatchEvent(i)})}_attachSignIn(){this.auth2.attachClickHandler(this.el,{},e=>{const t=new CustomEvent(wi,{detail:this._getGoogleUserInformation(e)});this.dispatchEvent(t)},e=>{const t={type:Ii,message:e.error},i=new CustomEvent(vi,{detail:t});this.dispatchEvent(i)})}_getGoogleUserInformation(e){const t=e.getBasicProfile(),i=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:i,imageUrl:t.getImageUrl()}}}const Oi=yi,Ni=bi,{GOOGLE_USER_FETCHED:Ri,GOOGLE_ERROR:Li,INITIALIZED:Ci}=Oi,{INITIALIZATION:Pi}=Ni;class Fi{constructor(e,{initSuccess:t,initFailure:i}={}){if(!e)throw Error("Google sign in cta container/wrapper element must be provided");this.el=e,this.btnEl=this.el.querySelector(".google-sign-in-cta-widget__btn"),this.initSuccess=t,this.initFailure=i,this.loaderEl=this.el.querySelector(".loader"),this.loader=this.loaderEl&&new st(this.loaderEl),window.tracking&&window.tracking.then(e=>{const t=I(document).replace("_jsbeacon",""),i="".concat(t,"-").concat(this.btnEl.dataset.trackingControlName),n=e.state&&e.state.currentPageInstance||{},r="".concat(n.pageUrn,";").concat(n.trackingId),s=this._createHiddenInputElement("pageInstance",r),o=this._createHiddenInputElement("controlId",i);this.el.appendChild(o),this.el.appendChild(s)}),this.googleSignInPromise=this._createGoogleSignIn()}_createGoogleSignIn(){return window.lazyloader.then(e=>e.getLazyLoadedJavascriptModule("google-sign-in-lib")).then(()=>(this.googleSignInInstance=new Ai({el:this.btnEl}),this.initSuccess&&"function"==typeof this.initSuccess&&this.googleSignInInstance.addEventListener(Ci,this.initSuccess),this.googleSignInInstance.addEventListener(Ri,e=>{const{idToken:t}=e.detail;this._submitWithGoogle(t)}),this.googleSignInInstance.addEventListener(Li,e=>{const{type:t,message:i}=e.detail,n="google-sign-in-error--".concat(t,"-").concat(i);this._fireControlInteractionEvent(n),this.initFailure&&"function"==typeof this.initFailure&&t===Pi&&this.initFailure()}),this.googleSignInInstance))}_fireControlInteractionEvent(e){window.tracking.then(t=>{t.fireControlInteractionEvent(e)})}_submitWithGoogle(e){this.googleIdTokenInput&&this.el.removeChild(this.googleIdTokenInput),this.googleIdTokenInput=this._createHiddenInputElement("googleIdToken",e),this.loader&&this.loader.show(),this.el.submit()}_createHiddenInputElement(e,t){const i=document.createElement("input");return i.setAttribute("type","hidden"),i.setAttribute("name",e),i.setAttribute("value",t),this.el.appendChild(i),i}}class ki{constructor(e,{daysCoolOff:t=30,dismissOnOutsideClick:i=!0,dismissOnScroll:n=!1,dismissBtnEl:r}={}){if(!e)throw Error("An element must be provided to sign in card");this.el=e,this.coolOffPeriod=24*t*60*60*1e3,this.dismissBtn=r||this.el.querySelector(".".concat("sign-in-card__dismiss-btn")),this._dismissEvent=e=>this._dismiss(e),this._interactionEvent=e=>this._interactionListener(e);if(window.innerWidth<769||(this.dismissOnOutsideClick=i,this.dismissOnScroll=n),!this._hideCard()){this.dismissable=new Pt(this.el,this.dismissBtn,{isShown:!1});const e=this.el.querySelector(".sign-in-form");e&&new Ei(e);const t=this.el.querySelector(".google-sign-in-cta-widget");t?new Fi(t,{initSuccess:this.dismissable.show.bind(this.dismissable),initFailure:this._onGoogleSignInInitFailure.bind(this)}):this.dismissable.show(),this._addEventListeners()}}_onGoogleSignInInitFailure(){const e=this.el.querySelector(".google-sign-in-cta-widget"),t=this.el.querySelector(".cta-modal__google-sign-in-container");t?this.el.removeChild(t):this.el.removeChild(e);this.el.querySelectorAll("[class*=".concat("--full-width","]")).forEach(e=>{e.className=e.className.replace("--full-width","")}),this.dismissable.show()}_addEventListeners(){this.el.addEventListener("dismiss",this._dismissEvent),this.dismissOnOutsideClick&&document.body.addEventListener("click",this._interactionEvent),this.dismissOnScroll&&window.addEventListener("scroll",this._interactionEvent)}_dismiss(e){this._hardDismissal(e)&&this._setCoolOff(e),this._removeEventListeners()}_removeEventListeners(){this.el.removeEventListener("dismiss",this._dismissEvent),this.dismissOnOutsideClick&&document.body.removeEventListener("click",this._interactionEvent),this.dismissOnScroll&&window.removeEventListener("scroll",this._interactionEvent)}_interactionListener(e){this.el.contains(e.target)||this.dismissable.dismiss()}_setCoolOff(){try{localStorage.setItem("sign-in-hidden",Date.now())}catch(e){return""}}_hideCard(){try{const e=localStorage.getItem("sign-in-hidden");if(e){return Date.now()-e<this.coolOffPeriod||(localStorage.removeItem("sign-in-hidden"),!1)}}catch(e){return!1}}_hardDismissal(e){return e.detail&&this.dismissBtn.contains(e.detail.target)}}const Mi={observeComponents:()=>{},unobserveComponents:()=>{},handleDynamicElements:()=>{}};class Di{constructor(e,t,{threshold:i=.9,root:n=null,rootMargin:r="0px",componentList:s=[],impressionEventCallback:o=(()=>{}),onImpression:a=(()=>{}),onObservation:l=(()=>{}),onUnobservation:c=(()=>{})}={}){if(!("IntersectionObserver"in window))return Mi;this.root=n,this.threshold=i,this.rootMargin=r,this.trackingInstance=t,this.impressionEventCallback=o,this._onImpression=a,this._onObservation=l,this._onUnobservation=c;const h={root:this.root,rootMargin:this.rootMargin,threshold:this.threshold};this.intersectionObserverInstance=new e(this._handleObservedNodes.bind(this),h),this.observeComponents(s)}observeComponents(e=[]){this.intersectionObserverInstance&&e.forEach(e=>{this.intersectionObserverInstance.observe(e),this._onObservation(e)})}unobserveComponents(e=[]){e.forEach(e=>{this.intersectionObserverInstance.unobserve(e),this._onUnobservation(e)})}_isNodeVisible(e){return e.intersectionRatio>=this.threshold}_handleObservedNodes(e){if(this.intersectionObserverInstance){const t=e.filter(e=>this._isNodeVisible(e)).map(({target:e})=>e);t.length>0&&(this._onImpression({trackingInstance:this.trackingInstance,visibleElements:t}),this.impressionEventCallback({trackingInstance:this.trackingInstance,queuedImpressions:t}),this.unobserveComponents(t))}}handleDynamicElements(e=[]){this.intersectionObserverInstance&&e.length>0&&this.observeComponents(e)}}class Ui{constructor(e,t,i={}){this._impressionTracking=new Di(e,t,De({componentList:this._componentList,onImpression:this._onImpression.bind(this)},i))}get _componentList(){return[...document.querySelectorAll(".main-job-card, .aside-job-card")]}_onImpression({trackingInstance:e,visibleElements:t}){const i=t.filter(e=>{const{entityUrn:t,referenceId:i,trackingId:n}=e.dataset;return Boolean(t&&i&&n)}).map(e=>{const{entityUrn:t,referenceId:i,trackingId:n}=e.dataset;return{jobPostingUrn:t,referenceId:i,trackingId:n}});i.length>0&&function(e,t=[]){if(0===t.length)return;const i=I(document),{header:n,requestHeader:r}=Ae(i),{referenceId:s}=t[0],o={header:n,requestHeader:r,referenceId:s,jobPostingUrns:t.map(({jobPostingUrn:e}={})=>e),impressedJobPostings:t.map(({jobPostingUrn:e,trackingId:t}={})=>({objectUrn:e,trackingId:t}))};e.fireTrackingEvent("JobViewportImpressionEvent",o)}(e,i)}handleDynamicElements(e=[]){this._impressionTracking.handleDynamicElements(e)}}const xi=".".concat("show-more-less","__list"),Bi=".".concat("show-more-less","__more-button"),ji=".".concat("show-more-less","__less-button"),qi="".concat("show-more-less","__list--hide-after"),Hi="".concat("show-more-less","__button--hide");class Gi{constructor(e,t=(e=>e.querySelector(W))){if(!e)throw Error("An element must be provided to ShowMoreLess");this.el=e,this.listEl=this.el.querySelector(xi),this._getFocusItemFromListItem=t,this.maxNumToShow=parseInt(this.listEl.getAttribute("data-max-num-to-show")),this.hideClass="".concat(qi,"-").concat(this.maxNumToShow),this.showMoreButton=this.el.querySelector(Bi),this.showLessButton=this.el.querySelector(ji),this._attachEventListeners(),this.firstHiddenListItem=this.listEl.children[this.maxNumToShow],this.isExpanded=!this.listEl.classList.contains(this.hideClass),new J(e,this.listEl,{mainButton:this.showMoreButton,closeButton:this.showLessButton},{isOpen:this.isExpanded})}_attachEventListeners(){this.el.addEventListener("open",()=>this._showElements()),this.el.addEventListener("close",()=>this._hideElements()),this.listEl.addEventListener("focus",e=>this._focusItem(e))}_focusItem({target:e}){if(e){let t=this._getFocusItemFromListItem(e);t&&t.focus()}}_showElements(){this.listEl.classList.remove(this.hideClass),this._toggleButtons(!1),this._focusItem({target:this.firstHiddenListItem})}_hideElements(){this.listEl.classList.add(this.hideClass),this._toggleButtons(!0)}_toggleButtons(e){e?(this.showLessButton.classList.add(Hi),this.showMoreButton.classList.remove(Hi)):(this.showLessButton.classList.remove(Hi),this.showMoreButton.classList.add(Hi))}}class Vi{constructor(e,{showMoreButtonSelector:t=".show-more-less-html__button--more",showLessButtonSelector:i=".show-more-less-html__button--less",baseMarkupElementSelector:n=".show-more-less-html__markup"}={}){if(!e)throw Error("An element must be provided to ShowMoreLessHtml");this.el=e,this.markupEl=this.el.querySelector(n),this.showMoreButtonEl=this.el.querySelector(t),this.showLessButtonEl=this.el.querySelector(i),this._checkForRequiredChildrenElements([this.markupEl,this.showMoreButtonEl,this.showLessButtonEl]),this._isClamped()?(this.clampClass="show-more-less-html__markup--clamp-after-"+this.el.getAttribute("data-max-lines"),this._attachEventListeners()):this.el.classList.add("show-more-less-html--hide-buttons")}_checkForRequiredChildrenElements(e){const t=["Markup","ShowMoreLessHtmlButton 'More'","ShowMoreLessHtmlButton 'Less'"];e.forEach((e,i)=>{if(!e)throw Error("".concat(t[i]," element is missing"))})}_isClamped(){return bt(this.markupEl)}_attachEventListeners(){this.showMoreButtonEl&&this.showLessButtonEl&&(this.showMoreButtonEl.addEventListener("click",()=>{this.el.classList.add("show-more-less-html--more"),this.markupEl.classList.remove(this.clampClass),this.showLessButtonEl.focus()}),this.showLessButtonEl.addEventListener("click",()=>{this.el.classList.remove("show-more-less-html--more"),this.markupEl.classList.add(this.clampClass),this.showMoreButtonEl.focus()}))}}class zi{constructor(e,{dropdownTriggerEl:t,dropdownContentEl:i,enablePageViewTracking:n}={}){if(!e)throw Error("An element must be provided to DropdownToModal");this.el=e,this.dropdownEl=this.el.querySelector(".collapsible-dropdown"),this.modalEl=this.el.querySelector(".modal"),this.dropdownTriggerEl=t||this.el.querySelector(".dropdown-to-modal__button"),this.dropdownEl?new Z(this.dropdownEl,{dropdownContentEl:i,dropdownTriggerEl:this.dropdownTriggerEl}):this.modalEl&&new Ge(this.modalEl,{enablePageViewTracking:n})}}const Ji="roo:event:close",Wi="roo:event:ready",Yi="roo:event:nodeRendered",Ki="roo:event:noTargetMatch",Qi="roo:showSurvey";class Xi{constructor(e,{isDev:t=!1,customTriggerFn:i,triggerTime:n=7e3}={}){if(!e)throw new Error("You must pass an element to initialize qualaroo");if(this.el=e,this.isDev=t,this.qualarooIframe=this.el.querySelector(".qualaroo__iframe"),this.surveyId=this.qualarooIframe.getAttribute("data-survey-id"),this.channelId=this.qualarooIframe.getAttribute("data-channel-id"),!this.surveyId||!this.channelId)throw new Error("Channel Id and Survery Id must be present on iframe element");i?i.call(this):this._setupTrigger(n),window.addEventListener("message",e=>{this._handleQualarooMessage(e)})}_setupTrigger(e){let t,i=!1;const n=()=>{clearTimeout(t),t=setTimeout(()=>{this.showSurvey(),i=!0},e)},r=q(function(){i?window.removeEventListener("scroll",r):n()}.bind(this),250);window.addEventListener("scroll",r),n()}_handleQualarooMessage({origin:e,data:t}){const[i,n,,,r,s]=t;if("https://linkedin.cdn.qualaroo.com"===e&&(i||n)){if(i!==this.channelId)throw new Error("Qualaroo channelId does not match");switch(n){case Ji:this.isRendered=!1;break;case Yi:s&&r&&(this.isRendered=!0,this.height=s,this.width=r);break;case Ki:console.log("No Target Match");break;case Wi:this.isDev?this.qualarooIframe.contentWindow.postMessage([Qi,this.surveyId,!0],"https://linkedin.cdn.qualaroo.com"):this.qualarooIframe.contentWindow.postMessage([Qi,this.surveyId,!1],"https://linkedin.cdn.qualaroo.com")}}}set height(e){this.qualarooIframe.height=e}set width(e){this.qualarooIframe.width=e}showSurvey(){this.el.classList.add("show")}}class Zi{constructor(e=document.querySelector(".sticky-header"),{marginApplied:t=!0}={}){if(!e)throw Error("A header element is required to instantiate a StickyHeader");if(!e.querySelector("nav"))throw Error("The header must contain a 'nav' element in order to instantiate a StickyHeader");let i=8;if(yt()){const t=e.querySelector(".search-bar");t&&(i=t.getBoundingClientRect().height)}return new Ke(e,{exposeStickyState:!0,isBottom:!1,scrollThreshold:i,marginApplied:t})}}class $i{constructor(e){if(!e)throw new Error("EllipsisMenu el required");this._el=e;const t=this._el.querySelector(".collapsible-dropdown");if(!t)throw new Error("A collapsible dropdown is required to instantiate an EllipsisMenu");this.collapsibleDropdown=new Z(t)}}var en;!function(e){e.ProductName="productName",e.UntrackedResponseCodes="untrackedResponseCodes",e.TrackedResponseCodes="trackedResponseCodes",e.ClientSensorGroupName="clientSensorGroupName"}(en||(en={}));new Set(Object.values(en));Error;var tn;!function(e){e.ProductName="productName",e.CustomTrackingId="customTrackingId",e.ClientSensorGroupName="clientSensorGroupName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides"}(tn||(tn={})),new Set(Object.values(tn));class nn{constructor(e={}){const{subNavIsVisibleClass:t,scrollThreshold:i,parentNav:n}=e;this.el=document.querySelector(".sub-nav-cta"),this.scrollThreshold=i,this.navHeader=n||document.querySelector(".header"),this.subNavIsVisibleClass=t||"sticky-header--show-sub-nav",this._attachEventListeners(),this._invokeStickyNav()}_showSubNavCta(){this.navHeader.classList.add(this.subNavIsVisibleClass)}_hideSubNavCta(){this.navHeader.classList.remove(this.subNavIsVisibleClass)}_attachEventListeners(){this.el.addEventListener("show",()=>this._showSubNavCta()),this.el.addEventListener("hide",()=>this._hideSubNavCta())}_invokeStickyNav(){new Ke(this.el,{isBottom:!1,scrollThreshold:this.scrollThreshold,hideOnScrollBack:!0})}}function rn(e,t,{entityUrn:i,isNameMatch:n,memberNetworkDistance:r,searchId:s,trackingId:o}){const a=O(document),l={header:{},requestHeader:a?{interfaceLocale:a}:{},entityActionType:t,entityUrn:i,isNameMatch:n,memberNetworkDistance:r,rawSearchId:s,trackingId:o};e.fireTrackingEvent("SearchActionV2Event",l)}function sn(e,{entityUrn:t,searchId:i,trackingId:n,gridPosition:r},{duration:s,resultSize:o,visibleHeight:a,visibleTime:l}){const c=O(document),h={header:{},requestHeader:c?{interfaceLocale:c}:{},results:[{entityUrn:t,gridPosition:r,searchId:i,trackingId:n,duration:s,resultSize:o,visibleHeight:a,visibleTime:l}]};e.fireTrackingEvent("SearchImpressionV2Event",h)}class on{constructor(e,t=!1,i=!0){this.tracking=e,this.searchCards=[],i&&document.addEventListener("click",this._handleClickEvent.bind(this),!0),t&&document.addEventListener("keydown",this._handleKeydownEvent.bind(this),!0),document.addEventListener("visibilitychange",this._handleVisibilityChangeEvent.bind(this)),window.addEventListener("beforeunload",this._handleBeforeUnloadEvent.bind(this)),window.IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this._handleObserverIntersectionChange.bind(this)))}observe(e=[...document.querySelectorAll(".base-search-card")]){e.filter(e=>!this.searchCards.includes(e)).filter(e=>e.dataset.entityUrn).filter(e=>e.dataset.searchId).filter(e=>e.dataset.trackingId).filter(e=>e.dataset.column).filter(e=>e.dataset.row).forEach(e=>{this.searchCards.push(e),this.intersectionObserver&&this.intersectionObserver.observe(e)})}unobserve(e=[]){e.forEach(e=>{const t=this.searchCards.indexOf(e);t>=0&&this.searchCards.splice(t,1),this.intersectionObserver&&this.intersectionObserver.unobserve(e)})}unobserveAll(){this.intersectionObserver&&this.searchCards.forEach(e=>this.intersectionObserver.unobserve(e)),this.searchCards=[]}_handleClickEvent(e){const t=k(e.target,".base-search-card");t&&this.searchCards.includes(t)&&this._fireSearchActionV2Event(t)}_handleKeydownEvent(e){" "!==e.key&&"Spacebar"!==e.key||this._handleClickEvent(e)}_handleBeforeUnloadEvent(){this._flushSearchImpressionV2Events()}_handleVisibilityChangeEvent(){document.hidden&&this._flushSearchImpressionV2Events()}_flushSearchImpressionV2Events(){const e=Date.now();this.searchCards.forEach(t=>{t.dataset.visibleTime&&(this._fireSearchImpressionV2Event(t,e-t.dataset.visibleTime),this._cleanupIntersectionObserverData(t))})}_handleObserverIntersectionChange(e){const t=Date.now();e.forEach(e=>{const i=e.target;if(e.isIntersecting){i.dataset.visibleTime||(i.dataset.visibleTime=t);const n=i.dataset.largestIntersectionRatio;(!n||n<e.intersectionRatio)&&(i.dataset.largestIntersectionRatio=e.intersectionRatio)}else i.dataset.visibleTime&&(this._fireSearchImpressionV2Event(i,t-i.dataset.visibleTime),this._cleanupIntersectionObserverData(i))})}_cleanupIntersectionObserverData(e){delete e.dataset.largestIntersectionRatio,delete e.dataset.visibleTime}_fireSearchActionV2Event(e){const{entityUrn:t,isNameMatch:i,memberNetworkDistance:n,searchId:r,trackingId:s}=e.dataset;rn(this.tracking,"VIEW_ENTITY",{entityUrn:t,isNameMatch:i&&"true"===i,memberNetworkDistance:n,searchId:r,trackingId:s})}_fireSearchImpressionV2Event(e,t){const{entityUrn:i,searchId:n,trackingId:r,column:s,row:o,largestIntersectionRatio:a,visibleTime:l}=e.dataset,{offsetHeight:c,offsetWidth:h}=e,d=Math.round(a*c);sn(this.tracking,{entityUrn:i,searchId:n,trackingId:r,gridPosition:{column:parseInt(s),row:parseInt(o)}},{duration:t,resultSize:{height:c,width:h},visibleHeight:d,visibleTime:parseInt(l)})}}var an="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",ln=function(){if("undefined"==typeof document)return!0;return"textContent"in document.createElement("div")}()?"textContent":"innerText",cn=["b","del","em","i","s","strong","sub","sup"],hn=cn.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),dn=[an,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|");function un(){}var pn,mn,_n=(mn=/[&<>"'\u0000\\=]/g,pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(mn,(function(e){return pn[e]}))}),fn=function(){var e,t,i=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var n={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(r){return null==r?null:(r+"").replace(i,(function(i,r,s,o){return r?(a=r,n.hasOwnProperty(a)?n[a]:(e.innerHTML="&"+a+";",l=e[ln],n[a]=l,l)):s||o?t(parseInt(s||o,s?16:10)||65533):"";var a,l}))}}();var En=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function gn(e){return/[<&]/.test(e)}var yn,bn=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],i)};function vn(e){e=En(e)?e:[e];var t,i,n,r=0,s="<(?!/?";return s+="(?:",bn(e,(function(e,o){t=e.tags||hn,i=e.attrs||dn,n=e.checkUrlAttrs||!1,0!==o&&(s+="|"),s+="(?:"+t.join("|")+")",s+="(?:",s+="[ \t\r\n]*",s+="|[ \t\r\n]+",s+="(?:(?:",s+="(?:"+i+")(?:=([\"'])[^'\"<>]*\\"+ ++r+")?",n&&(s+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++r),s+=")[ \t\r\n]*)+",s+=")"})),s+=")",s+="/?>)",new RegExp(s,"i")}function wn(e){return vn({tags:e=e||hn,checkUrlAttrs:!0})}function Tn(e,t){var i=(t=t||{}).allowTags,n=!1!==t.hasCustomElementMarkup;return i?!wn(i).test(e):n?!Tn.R_UNSAFE_CUSTOM_ELEMENT.test(e):!Tn.R_UNSAFE_HTML.test(e)}function Sn(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function In(e,t,i){if(null==e)return null;e=e.toString();var n=t?function(e,t){var i={};return e.replace(/\{([^}]+)\}/g,(function(e,n){var r,s=e;if(i.hasOwnProperty(n))return i[n];if(t.hasOwnProperty(n)){if(!((r="string"==typeof(s=t[n]))||s instanceof un||"number"==typeof s))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");s=r?_n(s):s.toString()}return i[n]=s,s}))}(e,t):e,r=e;return gn(n)&&!Tn(n,i)&&(n=Sn(n),Oe("Content contains non-whitelisted tags or attributes:\nContent: "+r,"error")),n}function An(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e}Tn.R_UNSAFE_HTML=wn(),Tn.R_UNSAFE_CUSTOM_ELEMENT=vn([{tags:hn,checkUrlAttrs:!0},{tags:[(yn={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[an,yn.attrs].join("|"),checkUrlAttrs:!1}]);var On={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};On.optgroup=On.option,On.tbody=On.tfoot=On.colgroup=On.caption=On.thead,On.th=On.td;var Nn=/<([\w:]+)/;function Rn(e,t){var i,n,r,s,o,a,l,c=t.createDocumentFragment(),h=[];for(o=0,l=e.length;o<l;o++)if((s=e[o])||0===s)if("string"==typeof s){for(r=r||c.appendChild(t.createElement("div")),i=(Nn.exec(s)||["",""])[1].toLowerCase(),Pn(r,(n=On[i]||On._default)[1]+s+n[2]),a=n[0];a--;)r.lastChild&&r.lastChild.nodeType===Node.ELEMENT_NODE&&(r=r.lastChild);An(h,r.childNodes),(r=c.firstChild).textContent=""}else An(h,s.nodeType?[s]:s);for(c.textContent="",s=h[o=0];s;)c.appendChild(s),s=h[++o];return c}var Ln=In,Cn=In;function Pn(e,t,i){var n=In(t,i);return gn(n)?e.innerHTML=n:e[ln]=n,n}function Fn(e,t){if(!(this instanceof Fn))return new Fn(e,t);(t=t||{}).allowTags=t.allowTags?t.allowTags.reduce((function(e,t){return e.concat(t)}),[]):null,this._string=e,this._options=t}Fn.prototype=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(new un,{toString:function(){var e=this._string,t=this._stringVal,i=e;return void 0!==t?t:(Tn(e,this._options)||(i=e,e=Sn(e),Oe("UnsafeString contains non-whitelisted tags or attributes.\nString: "+i,"error")),this._stringVal=e,e)}});var kn={ALLOWED_TAGS:hn,FORMATTING_TAGS:cn,htmlEncode:_n,htmlUnencode:fn,log:Oe,mk:function(e,...t){let i,n="",r=t.length;return e&&e.forEach((function(e,s){n+=e,s<r&&(i=t[s],n+=i instanceof Fn?i:_n(i))})),Cn(n)},parseHTML:function(e,t){var i;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)i=Rn([e],t);else{if(!En(e))return e;i=Rn(e,t)}return An([],i.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:Ln,reEncode:function(e){return _n(fn(e))},_redirector:ke,redirect:function(e){const t=Fe(e);t===e&&ke.redirect(t)},sanitizeHTML:Cn,sanitizeUrl:Fe,setElementContent:Pn,text:function(e){return Oe("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),_n(e)},unsafe:function(e){return e},UnsafeString:Fn};const Mn={filterValuesContainer:".filter-values-container",filterValues:".filter-values-container__filter-values",filterValueInput:".".concat("filter-values-container__filter-value"," input"),selectedRadioButton:".".concat("filter-values-container__filter-value"," input[type=radio]:checked")};class Dn{constructor(e){if(!(e&&e instanceof Node))throw Error("An element must be provided to FilterValuesRadioButtons");this._el=e,this._initialSelectedRadioButtonEl=this._el.querySelector(Mn.selectedRadioButton)}reset(){if(this._initialSelectedRadioButtonEl)this._initialSelectedRadioButtonEl.checked=!0;else{const e=this._el.querySelector(Mn.selectedRadioButton);e&&(e.checked=!1)}}}class Un{constructor(e){if(!(e&&e instanceof Node))throw Error("An element must be provided to FilterValuesCheckboxes");this._el=e,this._initialCheckboxesValues=this._getInitialCheckboxesValues()}_getInitialCheckboxesValues(){return[...this._el.querySelectorAll(Mn.filterValueInput)].map(e=>({node:e,isSelected:e.checked}))}reset(){this._initialCheckboxesValues.forEach(({node:e,isSelected:t})=>{e.checked=t})}}class xn{constructor(e){if(!(e&&e instanceof Node))throw Error("An element must be provided to FilterValuesContainer");this._el=e,this._filterValuesEl=this._el.querySelector(Mn.filterValues);const t=this._el.querySelector(Mn.filterValueInput);if(this._inputsType=t&&t.getAttribute("type"),!["radio","checkbox"].includes(this._inputsType))throw Error("Input type not supported, supported types include checkbox and radio");this._filterValuesInput=(()=>{switch(this._inputsType){case"radio":return new Dn(this._el);case"checkbox":return new Un(this._el)}})(),this._appendedFilterValueEls=[]}reset(){this._appendedFilterValueEls.forEach(e=>{e.querySelector(Mn.filterValueInput).checked=!1}),this._filterValuesInput.reset()}appendOrUpdateInputElement(e){const t=this._getInputFromValue(e.value);if(t)t.checked=!0;else{const t=this._constructInputElement(e);this._filterValuesEl.insertBefore(t,this._filterValuesEl.firstChild),this._appendedFilterValueEls.push(t)}}_getInputFromValue(e){return Array.from(this._filterValuesEl.querySelectorAll(Mn.filterValueInput)).find(t=>t.value===e)}_constructInputElement({displayName:e,value:t}){const i=document.createElement("div"),n=document.createElement("input"),r=document.createElement("label"),s=this._el.querySelector(Mn.filterValueInput).getAttribute("form"),o=this._el.querySelector(Mn.filterValueInput).getAttribute("name"),a="".concat(this._inputsName,"-").concat(t);return i.setAttribute("class","filter-values-container__filter-value"),n.setAttribute("form",s),n.setAttribute("name",o),n.setAttribute("type",this._inputsType),n.checked=!0,n.id=a,n.value=t,r.htmlFor=a,r.innerText=e,i.appendChild(n),i.appendChild(r),i}}class Bn{constructor(e){if(!(e&&e instanceof Node))throw Error("An element must be provided to Filter");this._el=e,this._dropdownToModalEl=this._el.querySelector(".filter__dropdown-to-modal");const t=this._el.querySelector(Mn.filterValuesContainer);this.filterValuesContainer=new xn(t),new zi(this._dropdownToModalEl),this._el.addEventListener("close",this._dismissFilter.bind(this));const i=this._el.querySelector(".filter__typeahead");i&&(this.typeaheadApiBaseUrl=i.dataset.baseApiUrl,this.typeaheadInput=new Tt(i,{generateApiUrl:e=>this._generateTypeaheadApiUrl(e),onSelect:(e,t)=>this._onTypeaheadSelect(e,t)}))}_dismissFilter(){this.filterValuesContainer.reset()}_onTypeaheadSelect(e,t){this.filterValuesContainer.appendOrUpdateInputElement({displayName:e.textContent,value:e.dataset.id}),this.typeaheadInput.dismissableInput&&this.typeaheadInput.dismissableInput.clear(),t.stopPropagation()}_generateTypeaheadApiUrl(e){return j(this.typeaheadApiBaseUrl,"query",e)}}class jn{constructor(e){if(!(e&&e instanceof Node))throw Error("An element must be provided to Filters");this.el=e,this._form=this.el.querySelector(".filters__form"),this.el.querySelectorAll(".filter").forEach(e=>{new Bn(e)}),this._form.addEventListener("submit",this._handleSubmit.bind(this))}_handleSubmit(e){e.preventDefault();const t=this._form.getAttribute("action"),i=this._getQueryString();kn.redirect("".concat(t,"?").concat(i))}_getQueryString(){const e=new FormData(this._form),t=[...e.keys()].reduce((t,i)=>(t[i]=e.getAll(i),t),{});return new URLSearchParams(t).toString()}}const qn={getTrackingInstance:function({appId:e="seo",trackingCode:t,applicationInstance:i=null}={}){const n=I(document),r=B(window.location.href,"originalReferer"),s={appId:e,disableInitialAnchorPageViewEvent:!0,requestBatchingMaxWaitSeconds:.05,userRequestHeaderProperties:{},eventHeaderProperties:{}};return t&&(s.userRequestHeaderProperties.trackingCode=t),i&&i.applicationUrn&&i.version&&i.trackingId&&(s.eventHeaderProperties.clientApplicationInstance=i),r&&(s.userRequestHeaderProperties.referer=r),Se||(Se=Te.AppTrackingInstance.createFromPageKey(s,n)),Se.generateTrackingId=Te.generateTrackingId,Se},firePageViewEvent:Ie,fireViewModuleImpressionEvent:function(e,t){const i=O(document),n={};i&&(n.interfaceLocale=i);const r={header:{},requestHeader:n,moduleNames:t};e.fireTrackingEvent("ViewModuleImpressionEvent",r)}}}).call(this,i(11).Buffer,i(4))},function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"h",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"g",(function(){return h})),i.d(t,"d",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"i",(function(){return m})),i.d(t,"a",(function(){return _})),i.d(t,"b",(function(){return f}));var n=i(8),r=i.n(n);const s={ADD_TAGS:["#comment","li-icon","icon","iframe"],ADD_ATTR:["target"]};const o={ARROW_DOWN:"ArrowDown",ARROW_RIGHT:"ArrowRight",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ESCAPE:"Escape",SPACEBAR:" "},a={Down:o.ARROW_DOWN,Right:o.ARROW_RIGHT,Left:o.ARROW_LEFT,Up:o.ARROW_UP,Esc:o.ESCAPE,Spacebar:o.SPACEBAR};function l(e){return a[e]||e}function c(e){return".".concat(e)}const h=()=>{};function d(e,t={}){return r.a.sanitize(e,Object.assign({},s,t))}function u(e){const t=e.innerText.replace(/(\.00|,00)(?= |$)/g,"");e.innerText=t}function p(e=window.location.pathname){return e.split("/").pop()}const m=({status:e,responseText:t})=>200===e&&t?JSON.parse(t):{},_=/^([a-zA-Z0-9_\-=\.\'\+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/,f={profileCompletePage:"unify-apply-modal__profile-complete-page",emailInputPage:"unify-apply-modal__email-input-page",emailVerificationPage:"unify-apply-modal__email-verification-page",applyConfirmationPage:"unify-apply-modal__apply-confirmation-page",thApplyConfirmationPage:"unify-apply-modal__th-apply-confirmation-page",thPostApplyPage:"unify-apply-modal__th-post-apply-page",thEmailVerificationPage:"unify-apply-modal__th-email-verification-page"}},function(e,t,i){e.exports=function(){"use strict";var e="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",t="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",i=["b","del","em","i","s","strong","sub","sup"],n=i.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),r=[e,"alt|checked|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|");function s(){}function o(e,t){if(t=t||"log",window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}new RegExp("&#?[a-zA-Z0-9]{1,10};");var a,l,c=(l=/[&<>"'\u0000\\=]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(l,(function(e){return a[e]}))}),h=function(){var e,i,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var r={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};return i="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(s){return null==s?null:(s+"").replace(n,(function(n,s,o,a){return s?(l=s,r.hasOwnProperty(l)?r[l]:(e.innerHTML="&"+l+";",c=e[t],r[l]=c,c)):o||a?i(parseInt(o||a,o?16:10)||65533):"";var l,c}))}}(),d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function u(e){return/[<&]/.test(e)}var p,m=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],i)};function _(e){e=d(e)?e:[e];var t,i,s,o=0,a="<(?!/?";return a+="(?:",m(e,(function(e,l){t=e.tags||n,i=e.attrs||r,s=e.checkUrlAttrs||!1,0!==l&&(a+="|"),a+="(?:"+t.join("|")+")",a+="(?:",a+="[ \t\r\n]*",a+="|[ \t\r\n]+",a+="(?:(?:",a+="(?:"+i+")(?:=([\"'])[^'\"<>]*\\"+ ++o+")?",s&&(a+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++o),a+=")[ \t\r\n]*)+",a+=")"})),a+=")",a+="/?>)",new RegExp(a,"i")}function f(e){return _({tags:e=e||n,checkUrlAttrs:!0})}function E(e,t){var i=(t=t||{}).allowTags,n=!1!==t.hasCustomElementMarkup;return i?!f(i).test(e):n?!E.R_UNSAFE_CUSTOM_ELEMENT.test(e):!E.R_UNSAFE_HTML.test(e)}function g(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function y(e,t,i){if(null==e)return null;e=e.toString();var n=t?function(e,t){var i={};return e.replace(/\{([^}]+)\}/g,(function(e,n){var r,o=e;if(i.hasOwnProperty(n))return i[n];if(t.hasOwnProperty(n)){if(!((r="string"==typeof(o=t[n]))||o instanceof s||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");o=r?c(o):o.toString()}return i[n]=o,o}))}(e,t):e,r=e;return u(n)&&!E(n,i)&&(n=g(n),o("Content contains non-whitelisted tags or attributes:\nContent: "+r,"error")),n}function b(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e}E.R_UNSAFE_HTML=f(),E.R_UNSAFE_CUSTOM_ELEMENT=_([{tags:n,checkUrlAttrs:!0},{tags:[(p={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[e,p.attrs].join("|"),checkUrlAttrs:!1}]);var v={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};v.optgroup=v.option,v.tbody=v.tfoot=v.colgroup=v.caption=v.thead,v.th=v.td;var w=/<([\w:]+)/;function T(e,t){var i,n,r,s,o,a,l,c=t.createDocumentFragment(),h=[];for(o=0,l=e.length;o<l;o++)if((s=e[o])||0===s)if("string"==typeof s){for(r=r||c.appendChild(t.createElement("div")),i=(w.exec(s)||["",""])[1].toLowerCase(),O(r,(n=v[i]||v._default)[1]+s+n[2]),a=n[0];a--;)r.lastChild&&r.lastChild.nodeType===Node.ELEMENT_NODE&&(r=r.lastChild);b(h,r.childNodes),(r=c.firstChild).textContent=""}else b(h,s.nodeType?[s]:s);for(c.textContent="",s=h[o=0];s;)c.appendChild(s),s=h[++o];return c}function S(e,t){var i;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)i=T([e],t);else{if(!d(e))return e;i=T(e,t)}return b([],i.childNodes)}var I=y,A=y;function O(e,i,n){var r=y(i,n);return u(r)?e.innerHTML=r:e[t]=r,r}function N(e,t){if(!(this instanceof N))return new N(e,t);(t=t||{}).allowTags=t.allowTags?t.allowTags.reduce((function(e,t){return e.concat(t)}),[]):null,this._string=e,this._options=t}function R(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r="",s=void 0,o=i.length;return e&&e.forEach((function(e,t){r+=e,t<o&&(s=i[t],r+=s instanceof N?s:c(s))})),A(r)}N.prototype=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(new s,{toString:function(){var e=this._string,t=this._stringVal,i=e;return void 0!==t?t:(E(e,this._options)||(i=e,e=g(e),o("UnsafeString contains non-whitelisted tags or attributes.\nString: "+i,"error")),this._stringVal=e,e)}});var L=/ /g,C=/[\s\u0000<>"]|%00/,P=/\\/,F=/([.]|%2e){2}/i,k=new RegExp("^(?:https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function M(e){var t=void 0;if("string"!=typeof e)return o("jSecure Warning: url must be a string","error"),"invalid://";if((t=e.trim()).indexOf(" ")>-1&&(o("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(L,"+")),!k.test(t))return o("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),"invalid://";if(C.test(t))return o("jSecure Error: not valid url character found in url: "+e,"error"),"invalid://";var i=t.split("?")[0];return P.test(i)||F.test(i)||F.test(decodeURI(i))?(o("jSecure Error: malicious data found in url path: "+i,"error"),"invalid://"):e}var D={redirect:function(e){window&&(window.location.href=e)}};return{ALLOWED_TAGS:n,FORMATTING_TAGS:i,htmlEncode:c,htmlUnencode:h,log:o,mk:R,parseHTML:S,parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:I,reEncode:function(e){return c(h(e))},_redirector:D,redirect:function(e){var t=M(e);t===e&&D.redirect(t)},sanitizeHTML:A,sanitizeUrl:M,setElementContent:O,text:function(e){return o("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),c(e)},unsafe:function(e){return e},UnsafeString:N}}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));var n=i(0);const r={EASY_APPLY:"EASY_APPLY",SAVE_JOB:"SAVE_JOB"};async function s(e,t){const i=n.y.addQueryParam("/jobs-guest/jobs/api/verifyEmailAddress","emailAddress",e,!0),r=n.y.addQueryParam(i,"flowType",t,!0);return Object(n.A)(r,{method:"GET",headers:{"Content-Type":"application/json"}})}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},,function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return X})),i.d(t,"b",(function(){return Wt})),i.d(t,"c",(function(){return kt}));var n=i(0);const r=/^http[s]?:\/\/(qprod\.)?www\.linkedin(?:-ei)?\.(com|cn)$/,s={FIRST_NAME_INPUT:"#first-name",FIRST_NAME_LABEL:'[for="first-name"]',LAST_NAME_INPUT:"#last-name",LAST_NAME_LABEL:'[for="last-name"]',PHONETIC_FIRST_NAME_INPUT:"#phonetic-first-name",PHONETIC_LAST_NAME_INPUT:"#phonetic-last-name",EMAIL_INPUT:"#email-or-phone",EMAIL_LABEL:'[for="email-or-phone"]',PROFILE_CARD:".profile-card"},o={PHOTO:".profile-card__photo",NAME:".profile-card__info-name",NOT_YOU:".profile-card__not-you",EMAIL:".profile-card__info-email",EDIT_ICON:".profile-card__edit-icon",EDIT_PHOTO:{CANCEL_ICON:".profile-card__edit-photo-cancel-icon",MODAL:".profile-card__edit-photo-modal",TEXT:".profile-card__edit-photo-text"}},a=".third-party-join__container",l=".third-party-join__btn",c="hidden",h="src",d="required",u="FACEBOOK",p="GOOGLE",m="WECHAT";function _(e){"complete"===document.readyState?e():window.addEventListener("load",()=>{e()})}function f(e,t){const i=document.createElement("script");i.src=e,t&&(i.onload=t),document.head.appendChild(i)}!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}const e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var i=this.listeners[e],n=0,r=i.length;n<r;n++)if(i[n]===t)return void i.splice(n,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),i=0,n=t.length;i<n;i++)t[i].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();const E="990339570472-k6nqn1tpmitg8pui82bfaun3jrpmiuhs.apps.googleusercontent.com",g={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},y={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},b={SIGN_IN:"signin",SIGN_UP:"signup",USE:"use"},v={DISPLAY:"display",SKIPPED:"skipped",DISMISSED:"dismissed"},w={NOT_DISPLAYED:{BROWSER_NOT_SUPPORTED:"browser_not_supported",INVALID_CLIENT:"invalid_client",MISSING_CLIENT_ID:"missing_client_id",OPT_OUT_OR_NO_SESSION:"opt_out_or_no_session",SECURE_HTTP_REQUIRED:"secure_http_required",SUPPRESSED_BY_USER:"suppressed_by_user",UNREGISTERED_ORIGIN:"unregistered_origin",UNKNOWN_REASON:"unknown_reason"},SKIPPED:{AUTO_CANCEL:"auto_cancel",USER_CANCEL:"user_cancel",TAP_OUTSIDE:"tap_outside",ISSUING_FAILED:"issuing_failed"},DISMISSED:{CREDENTIAL_RETURNED:"credential_returned",CANCEL_CALLED:"cancel_called",FLOW_RESTARTED:"flow_restarted"}},{GOOGLE_ERROR:T,GOOGLE_USER_FETCHED:S,INITIALIZED:I}=g,{INITIALIZATION:A,AUTHENTICATION:O}=y;class N extends EventTarget{constructor({libSrcPath:e,el:t,clientId:i=E}){if(super(),!t)throw TypeError("DOM element for Sign In button is required");if(this.libSrcPath=e,this.el=t,this.clientId=i,window.gapi)this._initializeGoogleAuth();else{if(!e)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");_(()=>{f(e,this._initializeGoogleAuth.bind(this))})}}_initializeGoogleAuth(){return gapi.auth2.init({client_id:this.clientId}).then(e=>{this.auth2=e,this._attachSignIn();const t=new CustomEvent(I);this.dispatchEvent(t)}).catch(e=>{const t={type:A,message:e.error},i=new CustomEvent(T,{detail:t});this.dispatchEvent(i)})}_attachSignIn(){this.auth2.attachClickHandler(this.el,{},e=>{const t=new CustomEvent(S,{detail:this._getGoogleUserInformation(e)});this.dispatchEvent(t)},e=>{const t={type:O,message:e.error},i=new CustomEvent(T,{detail:t});this.dispatchEvent(i)})}_getGoogleUserInformation(e){const t=e.getBasicProfile(),i=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:i,imageUrl:t.getImageUrl()}}}const{GOOGLE_USER_FETCHED:R,PROMPT_MOMENT:L}=g;class C extends EventTarget{constructor({libSrcPath:e,containerId:t,context:i,clientId:n=E,cancelOnTapOutside:r=!0}){if(super(),!i)throw TypeError("context param is required to determine the message to show in Google One Tap");if(this.libSrcPath=e,this.containerId=t,this.cancelOnTapOutside=r,this.clientId=n,this.context=i,window.google&&window.google.accounts&&window.google.accounts.id)this._onGoogleApiLoad();else{if(!e)throw TypeError("Google One Tap lib is not already loaded on the page. libSrcPath is required to load the library");_(()=>{f(e,this._onGoogleApiLoad.bind(this))})}}_onGoogleApiLoad(){return google.accounts.id.initialize({client_id:this.clientId,prompt_parent_id:this.containerId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:this.context}),Promise.resolve().then(()=>this.promptOneTap())}_handleCredentialResponse(e){const t=e.credential;let i=this.context===b.SIGN_UP?this._getBasicProfile(t):{idToken:t};if(i){const e=new CustomEvent(R,{detail:i});this.dispatchEvent(e)}}_getBasicProfile(e){try{const t=new gapi.auth2.BasicProfile({id_token:e});return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:e,imageUrl:t.getImageUrl()}}catch(e){return this._dispatchSkippedEvent(e.message),null}}_dispatchSkippedEvent(e){const t={message:e,reason:w.SKIPPED.ISSUING_FAILED,type:v.SKIPPED},i=new CustomEvent(L,{detail:t});this.dispatchEvent(i)}promptOneTap(){google.accounts.id.prompt(e=>{const t={type:e.getMomentType(),reason:e.getNotDisplayedReason()||e.getSkippedReason()||e.getDismissedReason()},i=new CustomEvent(L,{detail:t});this.dispatchEvent(i),this.checkIfDesktopAndApplyClass()})}hideOneTap(){google.accounts.id.cancel()}checkIfDesktopAndApplyClass(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){const e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}const P={CLIENT_ID:E,EVENTS:g,GOOGLE_ACCOUNT_URL:"https://accounts.google.com",GSI_ERROR_TYPES:y,GSI_ERROR_MESSAGES:{INIT_FAILED:"idpiframe_initialization_failed",POPUP_CLOSED_BY_USER:"popup_closed_by_user",ACCESS_DENIED:"access_denied",IMMEDIATE_FAILED:"immediate_failed"},GOT_CONTEXTS:b,GOT_PROMPT_MOMENT_REASONS:w,GOT_PROMPT_MOMENT_TYPES:v};function F(e,t=document.body){const i=t.querySelectorAll(e);i.length&&Array.from(i).forEach(e=>e.classList.remove(c))}function k(e,t=document.body){const i=t.querySelectorAll(e);i.length&&Array.from(i).forEach(e=>e.classList.add(c))}function M(e,t,i="",n=document.body){const r=D(e,n);r&&r.setAttribute(t,i)}function D(e="",t=document.body){if(e)return t.querySelector(e);console.warn("you attempted to get an element with a falsey selector: ".concat(e,", this is probably a bug."))}function U(e,t){const i=document.createElement("input");return i.setAttribute("type","hidden"),i.setAttribute("name",e),i.setAttribute("value",t),i}const x=n.z.getPageKey(document).replace("_jsbeacon","");function B(e,t,i){window.tracking&&window.tracking.then(r=>{if(t&&e.appendChild(function(e){return U("controlId","".concat(x,"-").concat(e.dataset.trackingControlName))}(t)),e.appendChild(function(e){const t=e.state&&e.state.currentPageInstance||{};return U("pageInstance","".concat(t.pageUrn,";").concat(t.trackingId))}(r)),i){const e="".concat(x,"_").concat(i);n.C.firePageViewEvent(r,"ajax",e),Object(n.x)(r).trackPageView({pageKey:e})}})}function j(e){window.tracking&&window.tracking.then(t=>{t.fireControlInteractionEvent(e)})}function q(e){window.tracking&&window.tracking.then(t=>{n.C.fireViewModuleImpressionEvent(t,[e])})}const{EVENTS:H,GOT_CONTEXTS:G,GOT_PROMPT_MOMENT_REASONS:V,GOT_PROMPT_MOMENT_TYPES:z}=P,{GOOGLE_USER_FETCHED:J,PROMPT_MOMENT:W}=H,{SIGN_IN:Y}=G,K=[V.NOT_DISPLAYED.BROWSER_NOT_SUPPORTED,V.NOT_DISPLAYED.OPT_OUT_OR_NO_SESSION,V.NOT_DISPLAYED.SUPPRESSED_BY_USER],Q=[V.SKIPPED.AUTO_CANCEL,V.SKIPPED.TAP_OUTSIDE,V.SKIPPED.USER_CANCEL];class X{constructor(e,{onNotDisplayed:t,onSkipped:i}={}){if(!e)throw Error("Google one tap form element must be provided");this.el=e,this.onNotDisplayed="function"==typeof t&&t,this.onSkipped="function"==typeof i&&i,this.containerEl=this.el.querySelector(".google-one-tap__container"),this.loaderEl=this.el.querySelector(".loader"),this.loader=this.loaderEl&&new n.j(this.loaderEl),B(this.el,this.containerEl),this.googleOneTapPromise=this._createGoogleOneTap()}_createGoogleOneTap(){return window.lazyloader.then(e=>e.getLazyLoadedJavascriptModule("google-one-tap-lib")).then(()=>(this.googleOneTapInstance=new C({cancelOnTapOutside:!1,context:Y}),this.googleOneTapInstance.addEventListener(J,({detail:e})=>{j("google-one-tap--account-selected"),this._submitWithGoogle(e.idToken)}),this.googleOneTapInstance.addEventListener(W,({detail:e})=>{const{reason:t,type:i}=e;if(t){if(this._fireCounterIngraphMetric(i,t),i===z.SKIPPED){if(t===V.SKIPPED.USER_CANCEL&&j("google-one-tap--user-dismissed"),this.onSkipped)this.onSkipped(e);else if(-1===Q.indexOf(t))throw Error("GoogleOneTapError ".concat(i,": ").concat(t))}else if(i===z.DISPLAY)if(this.onNotDisplayed)this.onNotDisplayed(e);else if(-1===K.indexOf(t))throw Error("GoogleOneTapError ".concat(i,": ").concat(t))}else i===z.DISPLAY&&q("google-one-tap")}),this.googleOneTapInstance))}_fireCounterIngraphMetric(e,t){let i="";e===z.DISPLAY&&t===V.NOT_DISPLAYED.OPT_OUT_OR_NO_SESSION?i="GoogleAuthDisabledOrNoSessionError":(Q.indexOf(t)>=0||K.indexOf(t)>=0)&&(i="GoogleAuthMiscError"),i&&window.ingraphTracking.then(e=>{e.fireCounterIngraphMetric({metricsType:i})})}_submitWithGoogle(e){this.googleIdTokenInput&&this.el.removeChild(this.googleIdTokenInput),this.googleIdTokenInput=U("googleIdToken",e),this.el.appendChild(this.googleIdTokenInput),this.loader&&this.loader.show(),this.el.submit()}}const{GOOGLE_USER_FETCHED:Z,GOOGLE_ERROR:$,INITIALIZED:ee}=P.EVENTS,{INITIALIZATION:te,AUTHENTICATION:ie}=P.GSI_ERROR_TYPES,{INIT_FAILED:ne,POPUP_CLOSED_BY_USER:re}=P.GSI_ERROR_MESSAGES;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var se=function(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&i.path)}},i.exports),i.exports}((function(e,t){e.exports=function(){var e="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",t="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",i=["b","del","em","i","s","strong","sub","sup"],n=i.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),r=[e,"alt|checked|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|");function s(){}function o(e,t){if(t=t||"log",window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}var a,l,c=(l=/[&<>"'\u0000\\=]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(l,(function(e){return a[e]}))}),h=function(){var e,i,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var r={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};return i="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(s){return null==s?null:(s+"").replace(n,(function(n,s,o,a){return s?(l=s,r.hasOwnProperty(l)?r[l]:(e.innerHTML="&"+l+";",c=e[t],r[l]=c,c)):o||a?i(parseInt(o||a,o?16:10)||65533):"";var l,c}))}}(),d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function u(e){return/[<&]/.test(e)}var p,m=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],i)};function _(e){e=d(e)?e:[e];var t,i,s,o=0,a="<(?!/?";return a+="(?:",m(e,(function(e,l){t=e.tags||n,i=e.attrs||r,s=e.checkUrlAttrs||!1,0!==l&&(a+="|"),a+="(?:"+t.join("|")+")",a+="(?:",a+="[ \t\r\n]*",a+="|[ \t\r\n]+",a+="(?:(?:",a+="(?:"+i+")(?:=([\"'])[^'\"<>]*\\"+ ++o+")?",s&&(a+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++o),a+=")[ \t\r\n]*)+",a+=")"})),a+=")",a+="/?>)",new RegExp(a,"i")}function f(e){return _({tags:e=e||n,checkUrlAttrs:!0})}function E(e,t){var i=(t=t||{}).allowTags,n=!1!==t.hasCustomElementMarkup;return i?!f(i).test(e):n?!E.R_UNSAFE_CUSTOM_ELEMENT.test(e):!E.R_UNSAFE_HTML.test(e)}function g(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function y(e,t,i){if(null==e)return null;e=e.toString();var n=t?function(e,t){var i={};return e.replace(/\{([^}]+)\}/g,(function(e,n){var r,o=e;if(i.hasOwnProperty(n))return i[n];if(t.hasOwnProperty(n)){if(!((r="string"==typeof(o=t[n]))||o instanceof s||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");o=r?c(o):o.toString()}return i[n]=o,o}))}(e,t):e,r=e;return u(n)&&!E(n,i)&&(n=g(n),o("Content contains non-whitelisted tags or attributes:\nContent: "+r,"error")),n}function b(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e}E.R_UNSAFE_HTML=f(),E.R_UNSAFE_CUSTOM_ELEMENT=_([{tags:n,checkUrlAttrs:!0},{tags:[(p={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[e,p.attrs].join("|"),checkUrlAttrs:!1}]);var v={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};v.optgroup=v.option,v.tbody=v.tfoot=v.colgroup=v.caption=v.thead,v.th=v.td;var w=/<([\w:]+)/;function T(e,t){var i,n,r,s,o,a,l,c=t.createDocumentFragment(),h=[];for(o=0,l=e.length;o<l;o++)if((s=e[o])||0===s)if("string"==typeof s){for(r=r||c.appendChild(t.createElement("div")),i=(w.exec(s)||["",""])[1].toLowerCase(),A(r,(n=v[i]||v._default)[1]+s+n[2]),a=n[0];a--;)r.lastChild&&r.lastChild.nodeType===Node.ELEMENT_NODE&&(r=r.lastChild);b(h,r.childNodes),(r=c.firstChild).textContent=""}else b(h,s.nodeType?[s]:s);for(c.textContent="",s=h[o=0];s;)c.appendChild(s),s=h[++o];return c}var S=y,I=y;function A(e,i,n){var r=y(i,n);return u(r)?e.innerHTML=r:e[t]=r,r}function O(e,t){if(!(this instanceof O))return new O(e,t);(t=t||{}).allowTags=t.allowTags?t.allowTags.reduce((function(e,t){return e.concat(t)}),[]):null,this._string=e,this._options=t}O.prototype=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(new s,{toString:function(){var e=this._string,t=this._stringVal,i=e;return void 0!==t?t:(E(e,this._options)||(i=e,e=g(e),o("UnsafeString contains non-whitelisted tags or attributes.\nString: "+i,"error")),this._stringVal=e,e)}});var N=/ /g,R=/[\s\u0000<>"]|%00/,L=/\\/,C=/([.]|%2e){2}/i,P=new RegExp("^(?:https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function F(e){var t=void 0;if("string"!=typeof e)return o("jSecure Warning: url must be a string","error"),"invalid://";if((t=e.trim()).indexOf(" ")>-1&&(o("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(N,"+")),!P.test(t))return o("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),"invalid://";if(R.test(t))return o("jSecure Error: not valid url character found in url: "+e,"error"),"invalid://";var i=t.split("?")[0];return L.test(i)||C.test(i)||C.test(decodeURI(i))?(o("jSecure Error: malicious data found in url path: "+i,"error"),"invalid://"):e}var k={redirect:function(e){window&&(window.location.href=e)}};return{ALLOWED_TAGS:n,FORMATTING_TAGS:i,htmlEncode:c,htmlUnencode:h,log:o,mk:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r="",s=void 0,o=i.length;return e&&e.forEach((function(e,t){r+=e,t<o&&(s=i[t],r+=s instanceof O?s:c(s))})),I(r)},parseHTML:function(e,t){var i;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)i=T([e],t);else{if(!d(e))return e;i=T(e,t)}return b([],i.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:S,reEncode:function(e){return c(h(e))},_redirector:k,redirect:function(e){var t=F(e);t===e&&k.redirect(t)},sanitizeHTML:I,sanitizeUrl:F,setElementContent:A,text:function(e){return o("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),c(e)},unsafe:function(e){return e},UnsafeString:O}}()}));function oe(e,t=!1){t?function(e){const t=e.nextElementSibling;t&&t.classList.contains("artdeco-inline-feedback")&&t.parentNode.removeChild(t)}(e):function(e){const t=e.querySelector(".alert");t&&t.classList.add("hidden")}(e)}function ae(e){e.querySelectorAll(".inline-alert").forEach(e=>e.parentNode.removeChild(e))}function le(e,t=!1){e.classList.remove("error"),t&&e.classList.remove("error--is-inline")}const ce=/\!|\@|\#|\$|\%|\^|\&|\*|\+|\=|\||<|\>|\?|\:|\;/,he=/(.)\1{3}/,de=/linkedin/i,ue=/\d\d/,pe=new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?"),me=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,_e=/^[\u4E00-\u9FFF|\u3400-\u4DBF|\uF900-\uFAFF]*$/,fe=/^[-]*$/,Ee=/^[+]?[\s./0-9]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/,ge=e=>{const t=(t="")=>t.length<=e;return t.errorMessagePrefix="i18n_tooLong_",t},ye=e=>{const t=(t="")=>t.length>=e;return t.errorMessagePrefix="i18n_tooShort_",t},be=(e="")=>!ue.test(e);be.errorMessagePrefix="i18n_noConsecutiveDigits_";const ve=(e="")=>!ce.test(e);ve.errorMessagePrefix="i18n_noForbiddenCharacters_";const we=(e="")=>!he.test(e);we.errorMessagePrefix="i18n_noFourConsecutiveDuplicates_";const Te=(e="")=>!de.test(e);Te.errorMessagePrefix="i18n_noLinkedIn_";const Se=(e="")=>!pe.test(e);Se.errorMessagePrefix="i18n_noUrl_";const Ie=(e="")=>_e.test(e);Ie.errorMessagePrefix="i18n_onlyChinese_";const Ae=(e="")=>fe.test(e);Ae.errorMessagePrefix="i18n_onlyPhonetic_";const Oe=(e="")=>""!==e.trim();Oe.errorMessagePrefix="i18n_required_";const Ne=(e="")=>me.test(e);Ne.errorMessagePrefix="i18n_invalidFormat_";const Re=(e="")=>Ee.test(e);Re.errorMessagePrefix="i18n_invalidFormat_";const Le=(e="")=>me.test(e)||Ee.test(e);Le.errorMessagePrefix="i18n_invalidFormat_";const Ce=[ge(50),ve,be,we,Te,Se],Pe=[Oe].concat(Ce),Fe=[Ae,ge(50),we],ke={"first-name":Pe,"last-name":Pe,"phonetic-first-name":Fe,"phonetic-last-name":Fe,"real-name":[Oe,Ie,ge(4),ye(2)],"email-or-phone":[Oe,ge(128),Le],"email-address":[Oe,ge(128),Ne],"optional-email-address":[ge(128),(e=>{const t=(t="")=>""===t||e(t);return t.errorMessagePrefix=e.errorMessagePrefix,t})(Ne)],"phone-number":[Oe,Re],password:[Oe,ye(6),ge(200)]},Me={button:!0,reset:!0,submit:!0,checkbox:!0},De=e=>e.type&&!Me[e.type],Ue={"email-or-phone":"emailOrPhoneNumber","optional-email-address":"emailAddress","phone-number":"phoneNumber","email-address":"emailAddress",password:"password","first-name":"firstName","last-name":"lastName","phonetic-first-name":"phoneticFirstName","phonetic-last-name":"phoneticLastName"},xe={session_key:"email-or-phone",session_password:"password"};function Be({name:e,value:t}={}){const i=ke[e=xe[e]||e];if(!i)throw new Error("No validation rules for element named ".concat(e));return i.reduce((i,n)=>(n(t)||i.push(n.errorMessagePrefix+e),i),[])}const{GOT_PROMPT_MOMENT_REASONS:je,GOT_PROMPT_MOMENT_TYPES:qe}=P,He="PageViewEvent",Ge="EntityActivityEvent",Ve="ControlInteractionEvent",ze="FOCUS",Je="SHORT_PRESS",We="click",Ye="view",Ke={ERROR_ALERT:"error-alert",ERROR_ALERT_DISMISS_BUTTON:"error-alert-dismiss-button",GOOGLE_ONE_TAP_SIGNUP_BUTTON:"google-one-tap-signup-button",GOOGLE_ONE_TAP_CLOSE_BUTTON:"google-one-tap-close-button",JOIN_WITH_GOOGLE_BUTTON:"join-with-google-button",JOIN_WITH_FACEBOOK_BUTTON:"join-with-facebook-button",AGREE_AND_JOIN_BUTTON:"agree-and-join-button",CONTINUE_BUTTON:"continue-button",CHALLENGE_DIALOG:"challenge-dialog",CHALLENGE_SOLVED:"challenge-solved",CHALLENGE_FAILED:"challenge-failed",PROFILE_CARD_NOT_YOU_BUTTON:"profile-card-not-you-button",DELETE_PHOTO_BUTTON:"delete-photo-button"},Qe={GOOLE_ONE_TAP:{GOOGLE_ONE_TAP_SIGNUP_IGNORED:"google-one-tap-signup-ignored",GOOGLE_ONE_TAP_IMPRESSION:"google-one-tap-impression-success",GOOGLE_ONE_TAP_NO_ACCOUNT:"google-one-tap-no-account",GOOGLE_ONE_TAP_ERROR:"google-one-tap-error",GOOGLE_ONE_TAP_REQUEST_FAIL_ERROR:"google-one-tap-request-fail-error",GOOGLE_ONE_TAP_ILLEGAL_REQUEST_ERROR:"google-one-tap-illegal-request-error",GOOGLE_ONE_TAP_INITIALIZATION_ERROR:"google-one-tap-initialization-error",GOOGLE_ONE_TAP_CONFIGURATION_ERROR:"google-one-tap-configuration-error"},THIRD_PARTY_JOIN_BUTTON:{FACEBOOK_IMPRESSION:"facebook-impression",FACEBOOK_ERROR:"facebook-error",GOOGLE_IMPRESSION:"google-impression",GOOGLE_ERROR:"google-error",GAAP_ERROR:"gaap-error"},JOIN_REQUEST:{JOIN_REQUEST_SUCCESS:"request-success",JOIN_REQUEST_FAILURE:"request-failure",JOIN_REQUEST_FAILURE_WITH_GOOGLE_ONE_TAP:"request-failure-with-google-one-tap",JOIN_REQUEST_FAILURE_WITH_FACEBOOK:"request-failure-with-facebook",JOIN_REQUEST_FAILURE_WITH_GOOGLE:"request-failure-with-google"},ALERT:{VALIDATION_FAILURE_ALERT:"validation-failure-alert"}};function Xe(e,t,i=0){10===i||(window.tracking?window.tracking.then(i=>{i.fireTrackingEvent(e,t)}):window.setTimeout(()=>{Xe(e,t,i+1)},500))}function Ze(e,t){e.forEach(e=>{const i=t?e.target:e,r={header:{},pageType:"form",requestHeader:{interfaceLocale:n.z.getLocale(document)||null},trackingInfo:{clientTimestamp:Date.now(),pageTag:n.z.getPageTag(document)||null,source:"registration-ui-lib",formId:i.id}};Xe(He,r),t&&t.unobserve(i)})}function $e(e){if(n.z.getPageKey(document)&&n.z.getPageKey)return"urn:li:control:".concat(n.z.getPageKey(document),"-").concat(e)}function et(e={}){if(!n.z.getPageKey(document)||!e.controlName)return;const t={header:{},requestHeader:{},controlUrn:$e(e.controlName),interactionType:e.interactionType||ze};Xe(Ve,t)}function tt(e={}){if(!n.z.getPageKey(document)||!e.trackingCode)return;const t={header:{},pageType:"form",requestHeader:{interfaceLocale:n.z.getLocale(document)||null},trackingCode:"".concat(n.z.getPageKey(document),"-").concat(e.trackingCode),activityType:e.activityType||We,pageKey:n.z.getPageKey(document),attributes:e.customData||{}};Xe(Ge,t)}function it(e,t,i=!1){i?function(e,t){if(!De(e))throw new Error("you cannot show an alert for this type of element ".concat(e.type));e.nextElementSibling&&e.nextElementSibling.classList.contains("artdeco-inline-feedback")?function(e,t){const i=e.querySelector(".artdeco-inline-feedback__message");se.setElementContent(i,t||Object(n.w)("i18n_server_generic_error"))}(e.nextElementSibling,t):function(e,t){e.insertAdjacentHTML("afterend",function(e){return'<div class="inline-alert artdeco-inline-feedback artdeco-inline-feedback--error" role="alert" tabindex="-1" aria-live="assertive">\n      <p class="artdeco-inline-feedback__message">\n        '.concat(e,"\n      </p>\n    </div>\n  ")}(t))}(e,t)}(e,t):function(e,t){const i=e.querySelector(".alert");if(!i)throw new Error('showAlert has been called but no element exists that matches the selector ".alert"');const r=i.querySelector('p[class="alert-content"]');se.setElementContent(r,t||Object(n.w)("i18n_server_generic_error")),i.classList.remove("hidden"),et({controlName:Ke.ERROR_ALERT,interactionType:Je})}(e,t)}function nt(e,t=!1){e.classList.add("error"),t&&e.classList.add("error--is-inline")}const rt=790,st=580,ot="auth_popup";class at{constructor(e,t){if(!e)throw new Error("No element passed in.");let i;switch(this.element=e,this.provider=t,this.show(),this._setupGaapCallback(),this._attachEventListeners(),this.provider){case u:i=Qe.THIRD_PARTY_JOIN_BUTTON.FACEBOOK_IMPRESSION;break;case p:i=Qe.THIRD_PARTY_JOIN_BUTTON.GOOGLE_IMPRESSION;break;case m:i=Qe.THIRD_PARTY_JOIN_BUTTON.WECHAT_IMPRESSION}tt({trackingCode:i,activityType:Ye})}onUserInfoFetch(){}onError(){}hide(){this.element.classList.add(c)}show(){this.element.classList.remove(c)}_setupGaapCallback(){window.thirdPartyCallback=(e,t)=>{if(this.gaapAuthWindow.close(),""!==t||0!==Be({name:"email-or-phone",value:e}).length)return this.onError(this.provider),tt({trackingCode:Qe.THIRD_PARTY_JOIN_BUTTON.GAAP_ERROR,activityType:We,customData:{provider:this.provider,errorContent:t}}),this.provider===p&&window.ingraphTracking.then(e=>{e.fireCounterIngraphMetric({metricsType:"JoinWithGoogleError"})}),Promise.reject(t);const i=function(e,t){return Object(n.A)(se.sanitizeUrl("".concat(Object(n.w)("dust-var-callbackUrl")).concat(e,"?handle=").concat(t))).then(e=>e.responseText)}(this.provider,e).then(t=>(this.element.classList.add(c),function(e,t){const i={id:t,phoneticFirstName:"",phoneticLastName:"",displayDigitalMediaAssetUrn:"",firstName:"",lastName:"",profilePictureUrl:""};if(!e)return i;return i.phoneticFirstName=e.phoneticFirstName,i.phoneticLastName=e.phoneticLastName,i.displayDigitalMediaAssetUrn=e.displayDigitalMediaAssetUrn,i.firstName=e.firstName,i.lastName=e.lastName,i.profilePictureUrl=e.profilePictureUrl,i}(t?JSON.parse(t):t,e))).catch(e=>{let t;switch(this.onError(this.provider),this.provider){case u:t=Qe.THIRD_PARTY_JOIN_BUTTON.FACEBOOK_ERROR;break;case p:t=Qe.THIRD_PARTY_JOIN_BUTTON.GOOGLE_ERROR;break;case m:t=Qe.THIRD_PARTY_JOIN_BUTTON.WECHAT_ERROR}throw tt({trackingCode:t,activityType:We,customData:{errorContent:e}}),e});return this.onUserInfoFetch(i),i}}_attachEventListeners(){this.element.querySelector(l).addEventListener("click",()=>{var e;let t;switch(this.gaapAuthWindow=(e=Object(n.w)("dust-var-authUrl"),window.open(se.sanitizeUrl(e),ot,"width=".concat(rt,",height=").concat(st))),this.provider){case u:t=Ke.JOIN_WITH_FACEBOOK_BUTTON;break;case p:t=Ke.JOIN_WITH_GOOGLE_BUTTON,window.ingraphTracking.then(e=>{e.fireCounterIngraphMetric({metricsType:"JoinWithGoogleTapped"})});break;case m:t=Ke.JOIN_WITH_WECHAT_BUTTON}et({controlName:t,interactionType:Je})})}}const{GOOGLE_ERROR:lt,GOOGLE_USER_FETCHED:ct,INITIALIZED:ht}=P.EVENTS;class dt{constructor(e){if(!e)throw new Error("No element passed in.");this.element=e,this._setupGaapCallback(),this._attachEventListeners(),tt({trackingCode:Qe.THIRD_PARTY_JOIN_BUTTON.GOOGLE_IMPRESSION,activityType:Ye})}onUserInfoFetch(){}onError(){}hide(){this.element.classList.add(c)}show(){this.element.classList.remove(c)}_setupGaapCallback(){window.lazyloader?window.lazyloader.then(e=>e.getLazyLoadedJavascriptModule("google-sign-in-lib")).then(this._initGoogleSignin.bind(this)):this._initGoogleSignin()}_initGoogleSignin(){const e=new N({el:this.element.querySelector(l)});e.addEventListener(ct,e=>{const t=function(e){if(!e)return{};const{email:t,givenName:i,familyName:n,idToken:r,imageUrl:s,id:o}=e;return{displayDigitalMediaAssetUrn:"",firstName:i,id:t,idToken:r,lastName:n,phoneticFirstName:"",phoneticLastName:"",profilePictureUrl:s,userId:o}}(e.detail);this.onUserInfoFetch(Promise.resolve(t))}),e.addEventListener(ht,()=>{this.show()}),e.addEventListener(lt,({detail:e})=>{const{type:t,message:i}=e,n="join-with-google-error--".concat(t,"-").concat(i);t===P.GSI_ERROR_TYPES.INITIALIZATION?this.hide():this.onError(p),et({controlName:n,interactionType:Je})}),this.googleSignIn=e}_attachEventListeners(){this.element.querySelector(l).addEventListener("click",()=>{et({controlName:Ke.JOIN_WITH_GOOGLE_BUTTON,interactionType:Je})})}}function ut(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function mt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(i),!0).forEach((function(t){ut(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const _t=new Set(["","",""," ",""," ",""," ",""," ","",""," ",""," ","","","","",""," ",""," ",""," ",""," ","","","","","","",""," ","","",""," ",""," ",""," ","","","",""," ","","","","",""," ","",""," ",""," ",""," ","",""," ",""," ",""," ",""," ","",""," ",""," ","",""," ",""," ",""," ","",""," ","",""]);function ft(e){let t,i;switch(e.length){case 2:i=e.substring(0,1),t=e.substring(1);break;case 3:const n=e.substring(0,2);_t.has(n)?(i=n,t=e.substring(2)):(i=e.substring(0,1),t=e.substring(1));break;case 4:i=e.substring(0,2),t=e.substring(2);break;default:throw new Error("Expected Real Name to be between 2-4 characters.",name)}return{firstName:t,lastName:i}}class Et{sendFingerprint(e,t,i){const n=this.getFingerprintData(),r=new XMLHttpRequest;n["x-f-uc"]=i,n.csrf_token=t,r.open("POST",e),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(n))}collectInitialFingerprint(e,t,i,n){setTimeout(()=>{this.sendFingerprint(e,t,i)},n)}collectFinalFingerprint(e,t,i){return()=>{if(navigator.sendBeacon&&"undefined"!=typeof FormData){let n=this.getFingerprintData();n.csrf_token=t;let r=new FormData;r.append("x-f-uc",i);for(let e in n)n.hasOwnProperty(e)&&r.append(e,n[e]);navigator.sendBeacon(e,r)}else this.sendFingerprint(e,t,i)}}getFingerprintData(){var e={};const t=Date.now();return"undefined"!=typeof Ubba_fetch&&(e=Ubba_fetch()),e.liExecutionTime=Date.now()-t,e}}function gt(e,t={}){let i={};return Array.from(e.elements).forEach(e=>{if(De(e)){const t=e.name,n=e.value;n&&("real-name"===t?i=mt(mt({},i),ft(n)):i[Ue[t]]=n)}}),i.source=Object(n.w)("dust-var-source")||null,i.redirectInfo=function(){const e=Object(n.w)("dust-var-postOnboardingRedirectUrl");return e?{postOnboardingRedirectUrl:e}:null}(),i.invitationInfo=function(){const e=Object(n.w)("dust-var-invitationId"),t=Object(n.w)("dust-var-sharedKey");return e||t?{invitationId:e,sharedKey:t}:null}(),i.sendConfirmationEmail=Object(n.w)("dust-var-sendConfirmationEmail"),"enabled"===Object(n.w)("dust-var-apfcDf")&&(i.apfc=JSON.stringify(function(){let e={};if(void 0===window.globalThis)return e.error="gt",e;try{void 0!==window.globalThis.apfcDf?e.df=window.globalThis.apfcDf:e.error="ad"}catch(t){e.error=t.message}return e}())),"enabled"===Object(n.w)("dust-var-fpLixTreatment")&&(i.fpData=function(){let e="default";const t=new Et;try{e=JSON.stringify(t.getFingerprintData())}catch(t){e="error while fetching the fingerprinting data : "+t}return e}()),i=function(e,t){return mt(mt({},e),t)}(t,i),i}const yt="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions";function bt(e){return 0===e.length||!e.trim()}var vt;!function(e){e.ProductName="productName",e.UntrackedResponseCodes="untrackedResponseCodes",e.TrackedResponseCodes="trackedResponseCodes"}(vt||(vt={}));const wt=new Set(Object.values(vt));class Tt{constructor(e,t,i){if(this._featureKey=St(e),this._degradationKey=St(t),!i)return this._untrackedResponseCodes=[],void(this._trackedResponseCodes=[]);if("object"!=typeof i)throw new It("DegradationTrackingMetadata options should be an object. ".concat(yt,"."));const n=i.productName;n&&(this._productName=function(e){if("string"!=typeof e)throw new It("The product name must be a string. ".concat(yt,"."));if(bt(e))throw new It("No product name was specified. Please configure a defaultProductName or specify it per instrumented API "+"call. ".concat(yt,"."));return e}(n));const r=i.untrackedResponseCodes,s=i.trackedResponseCodes;if(r&&s)throw new It("You may only specify one of the options: ".concat(vt.UntrackedResponseCodes," or ")+"".concat(vt.TrackedResponseCodes," to exclude or include response codes from counting ")+"as the degraded state. ".concat(yt,"."));!function(e,t){const i=(e,t)=>{if("number"!=typeof(i=e)||!isFinite(i)||Math.floor(i)!==i||e<=0||e>999)throw new It("Please only specify positive integer response codes between 1 and 999 for the ".concat(t," option. ")+"".concat(e," was specified. ").concat(yt,"."));var i;if(429===e||999===e)throw new It("PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them "+"from your ".concat(t," options."));if(t===vt.UntrackedResponseCodes&&(e<500||e>=600))throw new It("For server responses that have a status code, PEM does not consider non-5xx as degradations by default "+"anymore. ".concat(e," is not considered a degradation unless you explicitly add it to the ")+"".concat(vt.TrackedResponseCodes," option. Please remove ").concat(e," from the ")+"".concat(vt.UntrackedResponseCodes," option. ").concat(yt,"."))};if(void 0!==e&&!Array.isArray(e))throw new It("Please specify an array of positive integer response codes between 1 and 999 for the response codes that "+"shouldn't be counted as degraded for the ".concat(vt.UntrackedResponseCodes," option. ")+"".concat(yt,"."));if(void 0!==t&&!Array.isArray(t))throw new It("Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the "+"".concat(vt.TrackedResponseCodes," option. ").concat(yt,"."));e&&e.forEach(e=>i(e,vt.UntrackedResponseCodes));t&&t.forEach(e=>i(e,vt.TrackedResponseCodes))}(r,s),this._untrackedResponseCodes=r||[],this._trackedResponseCodes=s||[],function(e){Object.keys(e).forEach(e=>{if(!wt.has(e))throw new It("An unsupported degradation tracking option '".concat(e,"' was provided. Please fix or remove it. ")+"".concat(yt))})}(i)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(Tt.prototype).every(t=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),t))}get featureKey(){return this._featureKey}get degradationKey(){return this._degradationKey}get productName(){return this._productName}get untrackedResponseCodes(){return this._untrackedResponseCodes}get trackedResponseCodes(){return this._trackedResponseCodes}}function St(e){if("string"!=typeof e)throw new It("Keys must be strings. ".concat(yt,"."));if(bt(e))throw new It("Keys should not be blank. ".concat(yt,"."));if(e.match(/[^a-z0-9-]/))throw new It("'".concat(e,"' can only contain lowercase alphanumeric characters and dashes (-). ").concat(yt,"."));return e}class It extends Error{constructor(e){super(e),Object.setPrototypeOf(this,It.prototype)}}var At="delete me",Ot="v=2&",Nt={FIRST_AND_LAST_QUOTES:/^\"(.+)\"$/};class Rt{constructor(){const e=Object(n.w)("registrationUrl");if(!e)throw new Error('Document missing embed with element ID === "registrationUrl"');this.registrationUrl=n.y.addQueryParam(e,"csrfToken",this._getCsrfTokenFromBcookie())}sendCreateAccountRequest(e){const{emailOrPhoneNumber:t,emailAddress:i,phoneNumber:r}=e;i||r||(t.includes("@")?e.emailAddress=t:e.phoneNumber=t),e.emailAddress&&(e.botDetectionInput=function(e="",t=Date.now().toString()){if(!e)throw new Error("emailAddress is a required field in botDetectionInput");const i=()=>Math.floor(9e8*Math.random())+1e8,n="".concat(i(),":").concat(i(),":").concat(i());return{nonce:n,clientTimestampParamValue:t,clientOutput:"",jsVersion:"",email:e,requestId:"".concat(e,":").concat(n)}}(e.emailAddress));const s={method:"POST",headers:{Accept:"*/*","Content-Type":"application/json","X-NuxSupportsCp":"on"},sendCookies:!0,skipCsrfToken:!0,postData:JSON.stringify(e)},o=Object(n.A)(this.registrationUrl,s);if("enabled"===Object(n.w)("dust-var-pemDegradationTrackingTreatment"))try{const e=o.catch((e={})=>mt(mt({},e),{},{status:e.response?e.response.status:500})).then((e={})=>new Response(e,{status:e.status})),t=[new Tt("account-creation","failed-account-creation",{productName:"Registration-UI-Lib - Account Creation"})];window.tracking.then(i=>{window.pemTracking.then(n=>{n.trackFeatureDegradationsForFetch(this.registrationUrl,[],t,e,i.state.currentPageInstance)})})}catch(e){}return o.catch(e=>this._handleError(e)).then(e=>this._handleResponse(e))}_getCsrfTokenFromBcookie(){const e=(n.y.getCookie("bcookie")||"").trim();if(e!==At)return e.replace(Nt.FIRST_AND_LAST_QUOTES,"$1").replace(Ot,"")}_handleError(e){if(e.response&&e.response.responseText)try{e.response.responseObj=JSON.parse(e.response.responseText)}catch(e){}throw e}_handleResponse(e){if(e.responseObj=JSON.parse(e.responseText),e.responseObj.challengeUrl){const t=new Error("Challenge Issued with Challenge URL: ".concat(e.responseObj.challengeUrl));throw t.response=e,t}return e}}const Lt=".challenge-dialog",Ct=".challenge-dialog__close",Pt=".challenge-dialog__iframe";class Ft{constructor(e){if(!e)throw Error("Challenge URL is required");this.complete=!1,this.challengeDialogElem=document.querySelector(Lt),this.challengeIframeElem=this.challengeDialogElem.querySelector(Pt),this.challengeIframeElem.src=se.sanitizeUrl(e)}showChallenge(){return new Promise((e,t)=>{const i=this._handleDialogClose.bind(this,t);this._setupEventListeners(i=>{r.test(i.origin)&&i.data||t();const n=JSON.parse(i.data);if("CHALLENGE_SOLVED"===n.eventId)et({controlName:Ke.CHALLENGE_SOLVED,interactionType:Je}),e(n.payload);else if("CHALLENGE_FAILED"===n.eventId)et({controlName:Ke.CHALLENGE_FAILED,interactionType:Je}),t(n.payload);else if("FRAME_RESIZE"===n.eventId){if(document.querySelector(".challenge-dialog__modal-container")){const e=n.payload&&n.payload.newHeight?n.payload.newHeight:220;this.challengeIframeElem.style.height="".concat(e,"px")}}},i),this.challengeIframeElem.onload=()=>{this.challengeDialogElem.style.display="",this.challengeDialogElem.focus(),document.documentElement.style.overflow="hidden",et({controlName:Ke.CHALLENGE_DIALOG,interactionType:ze})}}).then(e=>(this._tearDownEventListeners(),this._cleanup(),e)).catch(e=>{throw this._tearDownEventListeners(),this._cleanup(),e})}_setupEventListeners(e,t){const i=this.challengeDialogElem.querySelector(Ct);i.addEventListener("click",t),window.addEventListener("message",e,!1),this._tearDownEventListeners=()=>{i.removeEventListener("click",t),window.removeEventListener("message",e,!1)}}_tearDownEventListeners(){}_cleanup(){this.complete=!0,this.challengeIframeElem.onload=null,this.challengeDialogElem.style.display="none",this.challengeIframeElem.src="about:blank",document.documentElement.style.overflow=""}_handleDialogClose(e){this.complete||e("softFail")}_getCsrfTokenFromBcookie(){return(n.y.getCookie("bcookie")||"").trim().replace("v=2&","")}}var kt={validationFailed:"validation-failed",validationSucceeded:"validation-succeeded",accountCreationChallenged:"account-creation-challenged",accountCreationFailed:"account-creation-failed",accountCreationSucceeded:"account-creation-succeeded",challengeClosed:"challenge-closed",challengeFailed:"challenge-failed",challengeSucceeded:"challenge-succeeded",splitJoinFormStepChange:"split-join-form-step-change",thirdPartyProfileCardToggled:"third-party-profile-card-toggled",globalError:"global-error",thirdPartyScrim:"third-party-scrim"};function Mt(e,t){n.y.dispatchCustomEvent(e,kt.splitJoinFormStepChange,{splitJoinStepNum:t})}function Dt(e,t){n.y.dispatchCustomEvent(e,kt.globalError,{globalErrorMessage:t})}const Ut="join-form__form-input-container",xt="join-form__form-input-container--is-hidden",Bt="join-form__form-input-container--is-last-section";class jt{constructor(e,t){if(!e)throw new Error("No element passed in.");this.elem=e,this.isNested=e.parentNode.classList.contains(Ut),this.requiredInputs=Array.from(e.querySelectorAll("input[required]")),this.elem.classList.add("".concat(Ut,"--is-section-").concat(t))}get isVisible(){return!this.elem.classList.contains(xt)}show(){this.elem.classList.remove(xt),this.requiredInputs.forEach(e=>e.setAttribute("required","required")),this.elem.querySelector("input").focus()}hide(){this.requiredInputs.forEach(e=>e.removeAttribute("required")),this.elem.classList.add(xt)}}class qt{constructor(e){this.currentSplitJoinSectionNum=0,this._joinFormElem=e,this.totalSplitJoinSections=this._joinFormElem.querySelectorAll(".".concat(Ut)).length;const t=this.totalSplitJoinSections>2,i=this._joinFormElem.querySelector(".".concat(Ut,":not(.").concat(xt,")")),n=t?this._joinFormElem.querySelector(".".concat(xt,":not(.").concat(Bt,")")):this._joinFormElem.querySelector(".".concat(Bt)),r=this._joinFormElem.querySelector(".".concat(Bt));if(!i)throw new Error("Split join form must have a default visible section");if(!n)throw new Error("Split join form must have at least two sections");this._orderedSplitJoinSections=[new jt(i,1),new jt(n,2)],t&&this._orderedSplitJoinSections.push(new jt(r,3)),this._orderedSplitJoinSections.forEach(e=>{e.elem.classList.contains(xt)&&e.requiredInputs.forEach(e=>{e.removeAttribute("required")})})}get sectionForCurrentStep(){return this._orderedSplitJoinSections[this.currentSplitJoinSectionNum]}get isLastStep(){return this.currentSplitJoinSectionNum+1===this.totalSplitJoinSections}get isFirstStep(){return 0===this.currentSplitJoinSectionNum}nextStep(){if(this.isLastStep)return;const e=this.sectionForCurrentStep;this.currentSplitJoinSectionNum+=1,this.sectionForCurrentStep.isNested&&this.sectionForCurrentStep.isVisible&&!this.isLastStep&&(this.currentSplitJoinSectionNum+=1);const t=this.sectionForCurrentStep;t.isNested||e.isNested?e.isNested&&this._hideNestedSectionParent(e):e.hide(),t.show(),Mt(this._joinFormElem,this.currentSplitJoinSectionNum)}prevStep(){if(this.isFirstStep)return;const e=this.sectionForCurrentStep;this.currentSplitJoinSectionNum-=1;const t=this.sectionForCurrentStep;e.isNested||t.isNested?t.isNested&&(e.hide(),this._showNestedSectionParent(t)):(e.hide(),t.show()),Mt(this._joinFormElem,this.currentSplitJoinSectionNum)}firstStep(){this.isFirstStep||(this.sectionForCurrentStep.isNested?this._hideNestedSectionParent(this.sectionForCurrentStep):this.sectionForCurrentStep.hide(),this.currentSplitJoinSectionNum=0,this.sectionForCurrentStep.isNested?this._showNestedSectionParent(this.sectionForCurrentStep):this.sectionForCurrentStep.show(),Mt(this._joinFormElem,this.currentSplitJoinSectionNum))}lastStep(){this.isLastStep||(this.sectionForCurrentStep.isNested?this._hideNestedSectionParent(this.sectionForCurrentStep):this.sectionForCurrentStep.hide(),this.currentSplitJoinSectionNum=this.totalSplitJoinSections-1,this.sectionForCurrentStep.show(),Mt(this._joinFormElem,this.currentSplitJoinSectionNum))}getSectionAtIndex(e){return this._orderedSplitJoinSections[e]}_hideNestedSectionParent({elem:e}){this._orderedSplitJoinSections.forEach(t=>{t.elem!==e&&t.elem.contains(e)&&t.hide()})}_showNestedSectionParent({elem:e}){this._orderedSplitJoinSections.forEach(t=>{t.elem!==e&&t.elem.contains(e)&&t.show()})}}const{EVENTS:Ht,GOT_CONTEXTS:Gt,GOT_PROMPT_MOMENT_TYPES:Vt}=P,{GOOGLE_USER_FETCHED:zt,PROMPT_MOMENT:Jt}=Ht;class Wt{constructor(e){if(!e)throw new Error("No element passed in.");var t;this.joinForm=e,this.inputs=Array.from(this.joinForm.querySelectorAll("input")),this.inputNameToErrors={},this.registrationServerClient=new Rt,this.isSplitJoinForm=Object(n.w)("dust-var-isSplitJoinForm"),this.isGoogleOneTapEnabled="true"===Object(n.w)("dust-var-isSmartLockEnabled"),this.isMobile=Object(n.w)("dust-var-isMobile"),this.joinBtnProvider=Object(n.w)("dust-var-joinBtnProvider"),this.isInlineError=Object(n.w)("dust-var-isInlineError"),this.isInstantThirdPartyBtnEnabled="true"===Object(n.w)("dust-var-isInstantThirdPartyBtnEnabled"),this.handleSubmit=this._handleSubmit.bind(this),this.isSplitJoinForm&&(this.splitJoin=this._initSplitJoinForm()),this._attachEventListeners(),this._initThirdPartySignup(),t=[this.joinForm],n.y.onload(()=>{if(window.IntersectionObserver){const e=new IntersectionObserver(Ze,{threshold:1});t.forEach(t=>e.observe(t))}else Ze(t)})}get inputNameToElement(){return Object.defineProperty(this,"inputNameToElement",{value:this.inputs.reduce((e,t)=>(e[t.name]=t,e),{})}),this.inputNameToElement}get isThirdPartyJoinEnabled(){return this.isGoogleOneTapEnabled||this.joinBtnProvider}get isThirdPartyProfileCardVisible(){const e=D(s.PROFILE_CARD,this.joinForm);return e&&!e.classList.contains(c)}get thirdPartyAccountFields(){return{id:"",profilePictureUrl:"",firstName:"",lastName:"",phoneticFirstName:"",phoneticLastName:"",displayDigitalMediaAssetUrn:"",thirdPartyCredentials:{googleUserIdToken:"",thirdPartyProvider:""}}}get emailHandle(){const e=this.inputNameToElement["email-or-phone"],t=this.inputNameToElement["email-address"],i=e||t;let n=null;return i&&(n={input:"#".concat(i.id),label:'[for="'.concat(i.id,'"]')}),Object.defineProperty(this,"emailHandle",{value:n}),this.emailHandle}get location(){return this._location||window.location}get inputsWithErrors(){const e=[];return this.inputs.filter(e=>this._isValidInput(e)).forEach(t=>{this.inputNameToErrors[t.name]||(this.inputNameToErrors[t.name]=Be(t)),this.inputNameToErrors[t.name].length&&e.push({inputName:t.name,errorMessageKeys:this.inputNameToErrors[t.name]})}),e}set location(e){this._location=e}_attachEventListeners(){let e;var t;this.joinForm.addEventListener("change",e=>this._handleChange(e)),this.joinForm.addEventListener("input",e=>this._handleInput(e)),this.joinForm.addEventListener("focusout",e=>this._handleFocusOut(e)),this.joinForm.addEventListener("submit",this.handleSubmit),this.joinForm.addEventListener("invalid",t=>{t.preventDefault(),e||(e=window.setTimeout(()=>{e=null,this._handleInvalidSubmit(t)},0))},!0),this.joinForm.querySelector("[type=submit]").addEventListener("click",e=>{et({controlName:this.isSplitJoinForm&&this.splitJoin.isLastStep?Ke.CONTINUE_BUTTON:Ke.AGREE_AND_JOIN_BUTTON,interactionType:Je})}),this.joinForm.querySelector(s.PROFILE_CARD)?(this.joinForm.querySelector(o.EDIT_ICON).addEventListener("click",()=>this._showPhotoModal()),this.joinForm.querySelector(o.EDIT_PHOTO.CANCEL_ICON).addEventListener("click",()=>this._hidePhotoModal()),this.joinForm.querySelector(o.NOT_YOU).addEventListener("click",()=>{this.location.reload(),et({controlName:Ke.PROFILE_CARD_NOT_YOU_BUTTON,interactionType:Je})}),this.joinForm.querySelector(o.EDIT_PHOTO.TEXT).addEventListener("click",()=>this._removePhoto())):console.warn("Profile card element not found"),this.isInlineError||((t=this.joinForm).querySelector(".alert").querySelector(".wrapper").addEventListener("click",()=>{oe(t),et({controlName:Ke.ERROR_ALERT_DISMISS_BUTTON,interactionType:Je})}),this.joinForm.addEventListener(kt.globalError,e=>{it(this.joinForm,e.detail.globalErrorMessage)})),this.joinForm.addEventListener(kt.splitJoinFormStepChange,({detail:{splitJoinStepNum:e}})=>{this._handleSplitJoinStepChange(e)}),Object(n.w)("dust-var-hasShowPassword")&&this.joinForm.querySelector(".join-form__show-password-btn").addEventListener("click",({target:e})=>{const t=this.inputNameToElement.password.type;M("#password","type","password"===t?"text":"password"),e.textContent="password"===t?e.dataset.hideCopy:e.dataset.showCopy})}_thirdPartyJoinErrorAlert(e){switch(e){case u:Dt(this.joinForm,Object(n.w)("i18n_third_party_join_error-message-facebook"));break;case p:Dt(this.joinForm,Object(n.w)("i18n_third_party_join_error-message-google"));break;case m:Dt(this.joinForm,Object(n.w)("i18n_third_party_join_error-message-wechat"))}}_handleInvalidSubmit(){const e=this.inputsWithErrors;return!!e.length&&(e.forEach(e=>{const t=this.inputNameToElement[e.inputName];nt(t,this.isInlineError),this.isInlineError&&it(t,Object(n.w)(e.errorMessageKeys[0]),this.isInlineError)}),this.isInlineError||it(this.joinForm,Object(n.w)(e[0].errorMessageKeys[0])),this.inputNameToElement[e[0].inputName].focus(),tt({trackingCode:Qe.ALERT.VALIDATION_FAILURE_ALERT,activityType:We,inputsWithErrors:e}),t=this.joinForm,i=e,n.y.dispatchCustomEvent(t,kt.validationFailed,i),!0);var t,i}_handleChange(e){const t=e.target;De(t)&&(t.value?t.classList.add("input__input--has-text"):t.classList.remove("input__input--has-text"),this.inputNameToErrors[t.name]=Be(t),0===this.inputNameToErrors[t.name].length&&(le(t,this.isInlineError),this.isInlineError&&oe(t,this.isInlineError)))}_handleFocusOut(e){if(!this.isInlineError)return;const t=e.target;De(t)&&(this.inputNameToErrors[t.name]=Be(t),this.inputNameToErrors[t.name].length&&(nt(t,this.isInlineError),it(this.isInlineError?t:this.joinForm,Object(n.w)(this.inputNameToErrors[t.name][0]),this.isInlineError)))}_handleInput(e){if(!this.isInlineError)return;const t=e.target;De(t)&&(le(t,this.isInlineError),oe(t,this.isInlineError))}_handleSubmit(e){if(e&&e.preventDefault(),this.isInlineError?ae(this.joinForm):oe(this.joinForm),this._handleInvalidSubmit())return;if(this.isSplitJoinForm&&!this.splitJoin.isLastStep&&!this.isThirdPartyProfileCardVisible)return void this._handleSplitJoinSubmit();var t;t=this.joinForm,n.y.dispatchCustomEvent(t,kt.validationSucceeded);const i=gt(this.joinForm,this.thirdPartyUserInfo);this._sendCreateAccountRequest(this.joinForm,i)}_handleSplitJoinSubmit(){this._hideGoogleOneTap(),this._hideThirdPartyJoinContainer(),this.splitJoin.nextStep()}_resetSplitJoinForm(){this._resetThirdPartyJoin(),this.splitJoin.firstStep()}_resetThirdPartyJoin(){this.isGoogleOneTapEnabled?this._showGoogleOneTap():this.joinBtnProvider&&this._showThirdPartyJoinContainer(),this.isThirdPartyProfileCardVisible&&this._toggleProfilecard()}_handleSplitJoinStepChange(e){const t=D('.join-form__form-body-agreement[data-is-not-yielded="true"]',this.joinForm);if(!t)return;const i=D(".join-form__form-body-submit-button",this.joinForm);if(t.classList[this.splitJoin.isLastStep?"add":"remove"]("join-form__form-body-agreement--is-hidden"),this.splitJoin.isLastStep||this.splitJoin.isFirstStep){const e=this.splitJoin.isLastStep?Object(n.w)("i18n_continue"):this._lastSubmitBtnText;this._lastSubmitBtnText=i.value,i.classList[this.splitJoin.isLastStep?"add":"remove"]("join-form__form-body-submit-button--no-agreement-text"),i.value=e,se.setElementContent(i,e)}}_isValidInput(e){const t=De(e);if(!this.isSplitJoinForm)return t;let i=e.parentNode;for(;!i.classList.contains(Ut);)i=i.parentNode;return t&&!i.classList.contains(xt)}_getRequiredElemNames(){const e=["first-name","last-name"];let t=[];return this.inputs.forEach(i=>{i.hasAttribute("required")&&("real-name"===i.name?t=t.concat(e):t.push(i.name))}),t}_sendCreateAccountRequest(e,t){!function(e=[],t={}){e.length&&e.forEach(e=>{const i=Ue[e];if(!i||!t[i])throw new Error(i?"Missing required field ".concat(i,"."):"No mapping exists for inputs named ".concat(e))})}(this._getRequiredElemNames(),t);const i=D(".join-form__form-body-submit-button",this.joinForm);return i.disabled=!0,this.registrationServerClient.sendCreateAccountRequest(t).then(t=>{!function(e,t){n.y.dispatchCustomEvent(e,kt.accountCreationSucceeded,t)}(e,t.responseObj),Object(n.w)("dust-var-cancelOnboardingRedirect")||se.redirect(t.responseObj&&t.responseObj.redirectUrl||"/"),tt({trackingCode:Qe.JOIN_REQUEST.JOIN_REQUEST_SUCCESS,activityType:We})}).catch(r=>{i.disabled=!1;const s=(r.response||{}).responseObj||{};s.challengeUrl?(!function(e,t){n.y.dispatchCustomEvent(e,kt.accountCreationChallenged,t)}(e,s),new Ft(s.challengeUrl).showChallenge().then(i=>{!function(e){n.y.dispatchCustomEvent(e,kt.challengeSucceeded)}(e),t.submissionId=s.submissionId,t.resolvedChallengeUrl=i,t.requestSignature=s.requestSignature,this._sendCreateAccountRequest(e,t)}).catch(t=>{"softFail"===t?function(e){n.y.dispatchCustomEvent(e,kt.challengeClosed)}(e):function(e,t){n.y.dispatchCustomEvent(e,kt.challengeFailed,t)}(e,t),Dt(this.joinForm,Object(n.w)("i18n_server_generic_error"))})):(!function(e,t){n.y.dispatchCustomEvent(e,kt.accountCreationFailed,t)}(e,s),Dt(e,s.translatedMessage),this.isSplitJoinForm&&!this.isThirdPartyProfileCardVisible?this._resetSplitJoinForm():this._resetThirdPartyJoin()),function(e,t){if(tt({trackingCode:Qe.JOIN_REQUEST.JOIN_REQUEST_FAILURE,activityType:We,customData:e}),!t)return;const i=t.thirdPartyProvider;var n,r=We;switch(i){case u:n=Qe.JOIN_REQUEST.JOIN_REQUEST_FAILURE_WITH_FACEBOOK;break;case p:n=Qe.JOIN_REQUEST.JOIN_REQUEST_FAILURE_WITH_GOOGLE;break;default:n=Qe.JOIN_REQUEST.JOIN_REQUEST_FAILURE_WITH_GOOGLE_ONE_TAP}tt({activityType:r,trackingCode:n})}(s,t.thirdPartyCredentials)})}_initThirdPartySignup(){this.isGoogleOneTapEnabled&&(this.googleOneTapPromise=this._initOneTap()),!this.joinBtnProvider||this.isGoogleOneTapEnabled&&!this.isInstantThirdPartyBtnEnabled||(this.thirdPartyJoinButton=this._initThirdPartyJoinButton())}_initOneTap(){return window.lazyloader.then(e=>e.getLazyLoadedJavascriptModule("google-one-tap-lib")).then(()=>(this.googleOneTapInstance=new C({cancelOnTapOutside:!1,context:Gt.SIGN_UP}),window.ingraphTracking.then(e=>{e.fireCounterIngraphMetric({metricsType:"GoogleOneTapShown"})}),this.googleOneTapInstance.addEventListener(zt,({detail:e})=>{e&&(this._parseThirdPartyUserInfo(e),this.renderUserDetails(),et({controlName:Ke.GOOGLE_ONE_TAP_SIGNUP_BUTTON,interactionType:Je}),window.ingraphTracking.then(e=>{e.fireCounterIngraphMetric({metricsType:"GoogleOneTap"})}))}),this.googleOneTapInstance.addEventListener(Jt,({detail:e})=>{const{reason:t,type:i}=e;this.isMobile&&function(e,{reason:t,type:i}){"display"!==i||t?n.y.dispatchCustomEvent(e,kt.thirdPartyScrim,{showScrim:!1}):n.y.dispatchCustomEvent(e,kt.thirdPartyScrim,{showScrim:!0})}(this.joinForm,e),this.joinBtnProvider&&i===Vt.DISPLAY&&t&&!this.isInstantThirdPartyBtnEnabled&&(this.thirdPartyJoinButton=this._initThirdPartyJoinButton()),function({reason:e,type:t}){if(e){const i="".concat("google-one-tap-moment--").concat(t,"-").concat(e);t===qe.SKIPPED&&e===je.SKIPPED.USER_CANCEL?et({controlName:Ke.GOOGLE_ONE_TAP_CLOSE_BUTTON,interactionType:Je}):t===qe.SKIPPED?tt({activityType:We,trackingCode:i}):t===qe.DISPLAY&&tt({activityType:Ye,trackingCode:i})}}(e)}),this.googleOneTapInstance))}_initSplitJoinForm(){return new qt(this.joinForm)}_initThirdPartyJoinButton(){if(this.isSplitJoinForm&&!this.splitJoin.isFirstStep)return;const e=Object(n.w)("dust-var-useStandaloneLibrary");let t;return t=this.joinBtnProvider===p&&"true"===e?new dt(document.querySelector(a),this.joinBtnProvider):new at(document.querySelector(a),this.joinBtnProvider),t.onError=e=>this._thirdPartyJoinErrorAlert(e),t.onUserInfoFetch=e=>{e.then(e=>{e&&(this._parseThirdPartyUserInfo(e),this.renderUserDetails())})},t}_parseThirdPartyUserInfo(e){this.thirdPartyUserInfo=this.thirdPartyAccountFields,e.givenName?(e.id=e.email,e.firstName=e.givenName,e.lastName=e.familyName,e.profilePictureUrl=e.imageUrl,e.thirdPartyCredentials={googleUserIdToken:e.idToken}):e.thirdPartyCredentials={thirdPartyProvider:this.joinBtnProvider,googleUserIdToken:e.idToken},Object.keys(this.thirdPartyAccountFields).forEach(t=>{e[t]&&(this.thirdPartyUserInfo[t]=e[t])})}setInputValues({firstName:e="",lastName:t="",email:i=""}={}){if(this._setPropertyValue(s.FIRST_NAME_INPUT,e),this._setPropertyValue(s.LAST_NAME_INPUT,t),this.emailHandle){this._setPropertyValue(this.emailHandle.input,i);const e=D(this.emailHandle.input,this.joinForm);this.inputNameToErrors[e.name]=Be(e)}this.inputNameToElement.password.focus()}renderUserDetails(e=!1){const{phoneticFirstName:t,phoneticLastName:i,firstName:n,lastName:r,id:o,profilePictureUrl:a}=this.thirdPartyUserInfo;let l;this._setPropertyValue(s.FIRST_NAME_INPUT,n),this._setPropertyValue(s.LAST_NAME_INPUT,r),this._setPropertyValue(s.PHONETIC_FIRST_NAME_INPUT,t),this._setPropertyValue(s.PHONETIC_LAST_NAME_INPUT,i),this.emailHandle&&(this._setPropertyValue(this.emailHandle.input,o),l=D(this.emailHandle.input,this.joinForm),this.inputNameToErrors[l.name]=Be(l)),(n&&r&&o&&l&&!this.inputNameToErrors[l.name].length||e&&a)&&(this._toggleProfilecard(),this._hideThirdPartyJoinContainer(),this.inputNameToElement.password.focus(),this.joinBtnProviderprovider===p&&window.ingraphTracking.then(e=>{e.fireCounterIngraphMetric({metricsType:"JoinWithGooglePasswordScreenShown"})}))}_renderProfilecard(){const{profilePictureUrl:e,firstName:t,lastName:i,id:n}=this.thirdPartyUserInfo;M(o.PHOTO,h,e,this.joinForm),e||(k(o.PHOTO,this.joinForm),k(o.EDIT_ICON,this.joinForm)),t&&i&&(D(o.NAME,this.joinForm).innerText="".concat(t," ").concat(i)),n&&(D(o.EMAIL,this.joinForm).innerText=n)}_toggleProfilecard(){var e,t;this.isThirdPartyProfileCardVisible?(k(s.PROFILE_CARD,this.joinForm),this._showFieldsForThirdPartyProfileCard()):(this.isInlineError?ae(this.joinForm):oe(this.joinForm),F(s.PROFILE_CARD,this.joinForm),this._hideFieldsForThirdPartyProfileCard(),this._renderProfilecard()),e=this.joinForm,t=this.isThirdPartyProfileCardVisible,n.y.dispatchCustomEvent(e,kt.thirdPartyProfileCardToggled,{isProfileCardVisible:t})}_hideFieldsForThirdPartyProfileCard(){const{firstName:e,lastName:t,id:i}=this.thirdPartyUserInfo;this.emailHandle&&i&&(k(this.emailHandle.input,this.joinForm),k(this.emailHandle.label,this.joinForm),function(e,t,i=document.body){const n=D(e,i);n&&n.removeAttribute(t)}(this.emailHandle.input,d,this.joinForm)),!this.isSplitJoinForm&e&&t&&(k(s.FIRST_NAME_INPUT,this.joinForm),k(s.FIRST_NAME_LABEL,this.joinForm),k(s.LAST_NAME_INPUT,this.joinForm),k(s.LAST_NAME_LABEL,this.joinForm))}_showFieldsForThirdPartyProfileCard(){this.emailHandle&&(F(this.emailHandle.input,this.joinForm),F(this.emailHandle.label,this.joinForm),M(this.emailHandle.input,d,"required",this.joinForm)),this.isSplitJoinForm||(F(s.FIRST_NAME_INPUT,this.joinForm),F(s.FIRST_NAME_LABEL,this.joinForm),F(s.LAST_NAME_INPUT,this.joinForm),F(s.LAST_NAME_LABEL,this.joinForm))}_showGoogleOneTap(){this.isGoogleOneTapEnabled&&this.googleOneTapInstance.promptOneTap()}_hideGoogleOneTap(){this.isGoogleOneTapEnabled&&this.googleOneTapInstance.hideOneTap()}_showThirdPartyJoinContainer(){this.joinBtnProvider&&this.thirdPartyJoinButton&&this.thirdPartyJoinButton.show()}_hideThirdPartyJoinContainer(){this.joinBtnProvider&&this.thirdPartyJoinButton&&this.thirdPartyJoinButton.hide()}_setPropertyValue(e,t){const i=D(e,this.joinForm);i&&t&&(i.value=t)}_showPhotoModal(){F(o.EDIT_PHOTO.MODAL,this.joinForm)}_hidePhotoModal(){k(o.EDIT_PHOTO.MODAL,this.joinForm)}_removePhoto(){this._hidePhotoModal(),M(o.PHOTO,h,"",this.joinForm),k(o.PHOTO,this.joinForm),k(o.EDIT_ICON,this.joinForm),this.thirdPartyUserInfo.profilePictureUrl="",et({controlName:Ke.DELETE_PHOTO_BUTTON,interactionType:Je})}}}).call(this,i(4))},function(e,t,i){"use strict";function n(e,t){if(!t)throw new Error("Assertion Error: ".concat(e))}i.d(t,"a",(function(){return n}))},function(e,t,i){e.exports=function(){"use strict";var e=Object.freeze||function(e){return e},t=e(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),i=e(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),n=e(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),r=e(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),s=e(["#text"]),o=Object.freeze||function(e){return e},a=o(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),l=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),c=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),h=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),d=Object.hasOwnProperty,u=Object.setPrototypeOf,p=("undefined"!=typeof Reflect&&Reflect).apply;function m(e,t){u&&u(e,null);for(var i=t.length;i--;){var n=t[i];if("string"==typeof n){var r=n.toLowerCase();r!==n&&(Object.isFrozen(t)||(t[i]=r),n=r)}e[n]=!0}return e}function _(e){var t={},i=void 0;for(i in e)p(d,e,[i])&&(t[i]=e[i]);return t}p||(p=function(e,t,i){return e.apply(t,i)});var f=Object.seal||function(e){return e},E=f(/\{\{[\s\S]*|[\s\S]*\}\}/gm),g=f(/<%[\s\S]*|[\s\S]*%>/gm),y=f(/^data-[\-\w.\u00B7-\uFFFF]/),b=f(/^aria-[\-\w]+$/),v=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),w=f(/^(?:\w+script|data):/i),T=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function I(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var A=("undefined"!=typeof Reflect&&Reflect).apply,O=Array.prototype.slice,N=Object.freeze,R=function(){return"undefined"==typeof window?null:window};A||(A=function(e,t,i){return e.apply(t,i)});var L=function(e,t){if("object"!==(void 0===e?"undefined":S(e))||"function"!=typeof e.createPolicy)return null;var i=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(i=t.currentScript.getAttribute("data-tt-policy-suffix"));var n="dompurify"+(i?"#"+i:"");try{return e.createPolicy(n,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function e(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),d=function(t){return e(t)};if(d.version="1.0.11",d.removed=[],!o||!o.document||9!==o.document.nodeType)return d.isSupported=!1,d;var u=o.document,p=!1,f=!1,C=o.document,P=o.DocumentFragment,F=o.HTMLTemplateElement,k=o.Node,M=o.NodeFilter,D=o.NamedNodeMap,U=void 0===D?o.NamedNodeMap||o.MozNamedAttrMap:D,x=o.Text,B=o.Comment,j=o.DOMParser,q=o.TrustedTypes;if("function"==typeof F){var H=C.createElement("template");H.content&&H.content.ownerDocument&&(C=H.content.ownerDocument)}var G=L(q,u),V=G?G.createHTML(""):"",z=C,J=z.implementation,W=z.createNodeIterator,Y=z.getElementsByTagName,K=z.createDocumentFragment,Q=u.importNode,X={};d.isSupported=J&&void 0!==J.createHTMLDocument&&9!==C.documentMode;var Z=E,$=g,ee=y,te=b,ie=w,ne=T,re=v,se=null,oe=m({},[].concat(I(t),I(i),I(n),I(r),I(s))),ae=null,le=m({},[].concat(I(a),I(l),I(c),I(h))),ce=null,he=null,de=!0,ue=!0,pe=!1,me=!1,_e=!1,fe=!1,Ee=!1,ge=!1,ye=!1,be=!1,ve=!1,we=!0,Te=!0,Se=!1,Ie={},Ae=m({},["audio","head","math","script","style","template","svg","video"]),Oe=m({},["audio","video","img","source","image"]),Ne=null,Re=m({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Le=null,Ce=C.createElement("form"),Pe=function(e){Le&&Le===e||(e&&"object"===(void 0===e?"undefined":S(e))||(e={}),se="ALLOWED_TAGS"in e?m({},e.ALLOWED_TAGS):oe,ae="ALLOWED_ATTR"in e?m({},e.ALLOWED_ATTR):le,Ne="ADD_URI_SAFE_ATTR"in e?m({},e.ADD_URI_SAFE_ATTR):Re,ce="FORBID_TAGS"in e?m({},e.FORBID_TAGS):{},he="FORBID_ATTR"in e?m({},e.FORBID_ATTR):{},Ie="USE_PROFILES"in e&&e.USE_PROFILES,de=!1!==e.ALLOW_ARIA_ATTR,ue=!1!==e.ALLOW_DATA_ATTR,pe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,me=e.SAFE_FOR_JQUERY||!1,_e=e.SAFE_FOR_TEMPLATES||!1,fe=e.WHOLE_DOCUMENT||!1,ye=e.RETURN_DOM||!1,be=e.RETURN_DOM_FRAGMENT||!1,ve=e.RETURN_DOM_IMPORT||!1,ge=e.FORCE_BODY||!1,we=!1!==e.SANITIZE_DOM,Te=!1!==e.KEEP_CONTENT,Se=e.IN_PLACE||!1,re=e.ALLOWED_URI_REGEXP||re,_e&&(ue=!1),be&&(ye=!0),Ie&&(se=m({},[].concat(I(s))),ae=[],!0===Ie.html&&(m(se,t),m(ae,a)),!0===Ie.svg&&(m(se,i),m(ae,l),m(ae,h)),!0===Ie.svgFilters&&(m(se,n),m(ae,l),m(ae,h)),!0===Ie.mathMl&&(m(se,r),m(ae,c),m(ae,h))),e.ADD_TAGS&&(se===oe&&(se=_(se)),m(se,e.ADD_TAGS)),e.ADD_ATTR&&(ae===le&&(ae=_(ae)),m(ae,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&m(Ne,e.ADD_URI_SAFE_ATTR),Te&&(se["#text"]=!0),fe&&m(se,["html","head","body"]),se.table&&m(se,["tbody"]),N&&N(e),Le=e)},Fe=function(e){d.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=V}},ke=function(e,t){try{d.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){d.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Me=function(e){var t=void 0,i=void 0;if(ge)e="<remove></remove>"+e;else{var n=e.match(/^[\s]+/);(i=n&&n[0])&&(e=e.slice(i.length))}if(p)try{t=(new j).parseFromString(e,"text/html")}catch(e){}if(f&&m(ce,["title"]),!t||!t.documentElement){var r=(t=J.createHTMLDocument("")).body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=G?G.createHTML(e):e}return i&&t.body.insertBefore(C.createTextNode(i),t.body.childNodes[0]||null),Y.call(t,fe?"html":"body")[0]};d.isSupported&&(function(){try{Me('<svg><p><style><img src="</style><img src=x onerror=1//">').querySelector("svg img")&&(p=!0)}catch(e){}}(),function(){try{Me("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").innerHTML.match(/<\/title/)&&(f=!0)}catch(e){}}());var De=function(e){return W.call(e.ownerDocument||e,e,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,(function(){return M.FILTER_ACCEPT}),!1)},Ue=function(e){return!(e instanceof x||e instanceof B||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof U&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},xe=function(e){return"object"===(void 0===k?"undefined":S(k))?e instanceof k:e&&"object"===(void 0===e?"undefined":S(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Be=function(e,t,i){X[e]&&X[e].forEach((function(e){e.call(d,t,i,Le)}))},je=function(e){var t=void 0;if(Be("beforeSanitizeElements",e,null),Ue(e))return Fe(e),!0;var i=e.nodeName.toLowerCase();if(Be("uponSanitizeElement",e,{tagName:i,allowedTags:se}),!se[i]||ce[i]){if(Te&&!Ae[i]&&"function"==typeof e.insertAdjacentHTML)try{var n=e.innerHTML;e.insertAdjacentHTML("AfterEnd",G?G.createHTML(n):n)}catch(e){}return Fe(e),!0}return"noscript"===i&&e.innerHTML.match(/<\/noscript/i)||"noembed"===i&&e.innerHTML.match(/<\/noembed/i)?(Fe(e),!0):(!me||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(d.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),_e&&3===e.nodeType&&(t=(t=(t=e.textContent).replace(Z," ")).replace($," "),e.textContent!==t&&(d.removed.push({element:e.cloneNode()}),e.textContent=t)),Be("afterSanitizeElements",e,null),!1)},qe=function(e,t,i){if(we&&("id"===t||"name"===t)&&(i in C||i in Ce))return!1;if(ue&&ee.test(t));else if(de&&te.test(t));else{if(!ae[t]||he[t])return!1;if(Ne[t]);else if(re.test(i.replace(ne,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==i.indexOf("data:")||!Oe[e])if(pe&&!ie.test(i.replace(ne,"")));else if(i)return!1}return!0},He=function(e){var t=void 0,i=void 0,n=void 0,r=void 0,s=void 0;Be("beforeSanitizeAttributes",e,null);var o=e.attributes;if(o){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae};for(s=o.length;s--;){var l=t=o[s],c=l.name,h=l.namespaceURI;if(i=t.value.trim(),n=c.toLowerCase(),a.attrName=n,a.attrValue=i,a.keepAttr=!0,Be("uponSanitizeAttribute",e,a),i=a.attrValue,"name"===n&&"IMG"===e.nodeName&&o.id)r=o.id,o=A(O,o,[]),ke("id",e),ke(c,e),o.indexOf(r)>s&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===n&&"file"===i&&a.keepAttr&&(ae[n]||!he[n]))continue;"id"===c&&e.setAttribute(c,""),ke(c,e)}if(a.keepAttr){_e&&(i=(i=i.replace(Z," ")).replace($," "));var u=e.nodeName.toLowerCase();if(qe(u,n,i))try{h?e.setAttributeNS(h,c,i):e.setAttribute(c,i),d.removed.pop()}catch(e){}}}Be("afterSanitizeAttributes",e,null)}},Ge=function e(t){var i=void 0,n=De(t);for(Be("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)Be("uponSanitizeShadowNode",i,null),je(i)||(i.content instanceof P&&e(i.content),He(i));Be("afterSanitizeShadowDOM",t,null)};return d.sanitize=function(e,t){var i=void 0,n=void 0,r=void 0,s=void 0,a=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!xe(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!d.isSupported){if("object"===S(o.toStaticHTML)||"function"==typeof o.toStaticHTML){if("string"==typeof e)return o.toStaticHTML(e);if(xe(e))return o.toStaticHTML(e.outerHTML)}return e}if(Ee||Pe(t),d.removed=[],Se);else if(e instanceof k)1===(n=(i=Me("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===n.nodeName||"HTML"===n.nodeName?i=n:i.appendChild(n);else{if(!ye&&!_e&&!fe&&-1===e.indexOf("<"))return G?G.createHTML(e):e;if(!(i=Me(e)))return ye?null:V}i&&ge&&Fe(i.firstChild);for(var l=De(Se?e:i);r=l.nextNode();)3===r.nodeType&&r===s||je(r)||(r.content instanceof P&&Ge(r.content),He(r),s=r);if(s=null,Se)return e;if(ye){if(be)for(a=K.call(i.ownerDocument);i.firstChild;)a.appendChild(i.firstChild);else a=i;return ve&&(a=Q.call(u,a,!0)),a}var c=fe?i.outerHTML:i.innerHTML;return _e&&(c=(c=c.replace(Z," ")).replace($," ")),G?G.createHTML(c):c},d.setConfig=function(e){Pe(e),Ee=!0},d.clearConfig=function(){Le=null,Ee=!1},d.isValidAttribute=function(e,t,i){Le||Pe({});var n=e.toLowerCase(),r=t.toLowerCase();return qe(n,r,i)},d.addHook=function(e,t){"function"==typeof t&&(X[e]=X[e]||[],X[e].push(t))},d.removeHook=function(e){X[e]&&X[e].pop()},d.removeHooks=function(e){X[e]&&(X[e]=[])},d.removeAllHooks=function(){X={}},d}()}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(1),r=i(0),s=i(3);const{dispatchCustomEvent:o}=r.y,a=Object.freeze({EMAIL_INPUT_PAGE_MODIFIER:"email-input-page",EMAIL_INPUT_FORM_CONTENT_NEW_USER:"email-input-page__content-new-user",EMAIL_INPUT_FORM_EXISTING_USER:"welcome-back-sign-in-form",EMAIL_INPUT_FORM_CONTENT_NEW_USER_HIDE:"email-input-page__content-new-user--hidden",EMAIL_INPUT_FORM_EXISTING_USER_HIDE:"welcome-back-sign-in-form--hidden",EMAIL_INPUT_FORM_INPUT:"guest-input__field[name=email-input-page__input]",EMAIL_INPUT_FORM_INPUT_CONTAINER:"guest-input__input-container",EMAIL_INPUT_FORM_INPUT_CONTAINER_ERROR:"guest-input__input-container--error",EMAIL_INPUT_FORM_INPUT_MESSAGE:"guest-input__message",APPLY_AS_GUEST:"email-input-page__body--link",EMAIL_INPUT_SIGN_IN:"sign-in-form__inputs [name=session_key]",HIDDEN:"hidden"});class l{constructor(e,{flowType:t,signInFormClass:i,loader:s={show:n.g,hide:n.g}}={}){this.el=e,this.flowType=t,this.signInFormClass=i,this._isShowingErrorText=!1,this.loader=s,this.emailInputErrorMessageEl=e.querySelector(Object(n.f)(a.EMAIL_INPUT_FORM_INPUT_MESSAGE)),this.defaultErrorText=Object(r.w)("email-input-page-error-message"),this._resetErrorText(),this.emailInputExistingUserEl=e.querySelector(Object(n.f)(a.EMAIL_INPUT_FORM_EXISTING_USER)),this.emailInput=e.querySelector(Object(n.f)(a.EMAIL_INPUT_FORM_INPUT)),this.emailInputContainer=e.querySelector(Object(n.f)(a.EMAIL_INPUT_FORM_INPUT_CONTAINER)),this.emailInputNewUserEl=e.querySelector(Object(n.f)(a.EMAIL_INPUT_FORM_CONTENT_NEW_USER));const o=this.el.querySelector(Object(n.f)(i));this.signInForm=new r.r(o)}async checkEmail(){const e=this.emailInput.value;if(n.a.test(e.trim())){this._isShowingErrorText&&this._hideInvalidEmailErrorMessage(),this.loader.show();try{await Object(s.b)(e,this.flowType),this.showExistingUserFlow(e)}catch(t){404===t.response.status?o(this.el,"guestEmailSubmitted",{emailAddress:e}):o(this.el,"emailCheckError")}finally{this.loader.hide(),o(this.el,"emailCheckComplete")}}else this._showInvalidEmailErrorMessage()}showExistingUserFlow(e){this.el.querySelector(Object(n.f)(a.EMAIL_INPUT_SIGN_IN)).value=e,this.emailInputNewUserEl.classList.add(a.EMAIL_INPUT_FORM_CONTENT_NEW_USER_HIDE),this.emailInputExistingUserEl.classList.remove(a.EMAIL_INPUT_FORM_EXISTING_USER_HIDE)}showNewUserFlow(){this.emailInputExistingUserEl.classList.add(a.EMAIL_INPUT_FORM_EXISTING_USER_HIDE),this.emailInputNewUserEl.classList.remove(a.EMAIL_INPUT_FORM_CONTENT_NEW_USER_HIDE)}_showInvalidEmailErrorMessage(){this._isShowingErrorText=!0,this.showErrorMessage(),this.emailInput.setAttribute("aria-invalid","true"),this.emailInput.focus(),this.emailInputContainer.classList.add(a.EMAIL_INPUT_FORM_INPUT_CONTAINER_ERROR)}showErrorMessage(){this.emailInputErrorMessageEl.classList.remove(a.HIDDEN)}_hideInvalidEmailErrorMessage(){this._isShowingErrorText=!1,this._resetErrorText(),this.hideErrorMessage(),this.emailInput.setAttribute("aria-invalid","false"),this.emailInputContainer.classList.remove(a.EMAIL_INPUT_FORM_INPUT_CONTAINER_ERROR)}hideErrorMessage(){this.emailInputErrorMessageEl.classList.add(a.HIDDEN)}showCustomErrorText(e){this._isShowingErrorText=!0,this.emailInputErrorMessageEl.textContent=e,this.showErrorMessage()}_resetErrorText(){this.emailInputErrorMessageEl.textContent=this.defaultErrorText}reset(){this.showNewUserFlow(),this._hideInvalidEmailErrorMessage(),this.emailInput.value="",this._resetErrorText(),this.signInForm.resetFormState()}}},,function(e,t,i){"use strict";(function(e){var n=i(12),r=i(13),s=i(14);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=u(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(t,i),r=(e=a(e,n)).write(t,i);r!==n&&(e=e.slice(0,r));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|p(t.length);return 0===(e=a(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):u(e,t);if("Buffer"===t.type&&s(t.data))return u(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(h(t),e=a(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function u(e,t){var i=t.length<0?0:0|p(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return q(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function _(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,i);case"utf8":case"utf-8":return A(this,t,i);case"ascii":return O(this,t,i);case"latin1":case"binary":return N(this,t,i);case"base64":return I(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function f(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function E(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:g(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):g(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,i,n,r){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,i/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var h=-1;for(s=i;s<a;s++)if(c(e,s)===c(t,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===l)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var d=!0,u=0;u<l;u++)if(c(e,s+u)!==c(t,u)){d=!1;break}if(d)return s}return-1}function y(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[i+o]=a}return o}function b(e,t,i,n){return H(j(t,e.length-i),e,i,n)}function v(e,t,i,n){return H(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function w(e,t,i,n){return v(e,t,i,n)}function T(e,t,i,n){return H(q(t),e,i,n)}function S(e,t,i,n){return H(function(e,t){for(var i,n,r,s=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n);return s}(t,e.length-i),e,i,n)}function I(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function A(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var s,o,a,l,c=e[r],h=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=i)switch(d){case 1:c<128&&(h=c);break;case 2:128==(192&(s=e[r+1]))&&(l=(31&c)<<6|63&s)>127&&(h=l);break;case 3:s=e[r+1],o=e[r+2],128==(192&s)&&128==(192&o)&&(l=(15&c)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:s=e[r+1],o=e[r+2],a=e[r+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(l=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(h=l)}null===h?(h=65533,d=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return h(t),t<=0?a(e,t):void 0!==i?"string"==typeof n?a(e,t).fill(i,n):a(e,t).fill(i):a(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,s=Math.min(i,n);r<s;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):_.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(this===e)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(t>>>=0),a=Math.min(s,o),c=this.slice(n,r),h=e.slice(t,i),d=0;d<a;++d)if(c[d]!==h[d]){s=c[d],o=h[d];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return E(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return E(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return b(this,e,t,i);case"ascii":return v(this,e,t,i);case"latin1":case"binary":return w(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function N(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function R(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=t;s<i;++s)r+=B(e[s]);return r}function L(e,t,i){for(var n=e.slice(t,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function C(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,i,n,r,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function F(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-i,2);r<s;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function k(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-i,4);r<s;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function M(e,t,i,n,r,s){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function D(e,t,i,n,s){return s||M(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function U(e,t,i,n,s){return s||M(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var n=t,r=1,s=this[e+--n];n>0&&(r*=256);)s+=this[e+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||P(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[t]=255&e;++s<i&&(r*=256);)this[t+s]=e/r&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||P(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);P(this,e,t,i,r-1,-r)}var s=0,o=1,a=0;for(this[t]=255&e;++s<i&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);P(this,e,t,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return D(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return D(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return U(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return U(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,s=n-i;if(this===e&&i<t&&t<n)for(r=s-1;r>=0;--r)e[r+t]=this[r+i];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var o=l.isBuffer(e)?e:j(new l(e,n).toString()),a=o.length;for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var x=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var i;t=t||1/0;for(var n=e.length,r=null,s=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}}).call(this,i(4))},function(e,t,i){"use strict";t.byteLength=function(e){var t=c(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,n=c(e),o=n[0],a=n[1],l=new s(function(e,t,i){return 3*(t+i)/4-i}(0,o,a)),h=0,d=a>0?o-4:o;for(i=0;i<d;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],l[h++]=t>>16&255,l[h++]=t>>8&255,l[h++]=255&t;2===a&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,l[h++]=255&t);1===a&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,l[h++]=t>>8&255,l[h++]=255&t);return l},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,s=[],o=0,a=i-r;o<a;o+=16383)s.push(h(e,o,o+16383>a?a:o+16383));1===r?(t=e[i-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e,t,i){for(var r,s,o=[],a=t;a<i;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=r)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,c=l>>1,h=-7,d=i?r-1:0,u=i?-1:1,p=e[t+d];for(d+=u,s=p&(1<<-h)-1,p>>=-h,h+=a;h>0;s=256*s+e[t+d],d+=u,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=256*o+e[t+d],d+=u,h-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=c}return(p?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,i,n,r,s){var o,a,l,c=8*s-r-1,h=(1<<c)-1,d=h>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,m=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?u/l:u*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=h?(a=0,o=h):o+d>=1?(a=(t*l-1)*Math.pow(2,r),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[i+p]=255&a,p+=m,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;e[i+p]=255&o,p+=m,o/=256,c-=8);e[i+p-m]|=128*_}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},,,,,,,,,,function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return We}));var n=i(0),r="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",s=function(){if("undefined"==typeof document)return!0;return"textContent"in document.createElement("div")}()?"textContent":"innerText",o=["b","del","em","i","s","strong","sub","sup"],a=o.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),l=[r,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|");function c(){}function h(e,t){t=t||"log";if("undefined"!=typeof window&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}var d,u,p=(u=/[&<>"'\u0000\\=]/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(u,(function(e){return d[e]}))}),m=function(){var e,t,i=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var n={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(r){return null==r?null:(r+"").replace(i,(function(i,r,o,a){return r?(l=r,n.hasOwnProperty(l)?n[l]:(e.innerHTML="&"+l+";",c=e[s],n[l]=c,c)):o||a?t(parseInt(o||a,o?16:10)||65533):"";var l,c}))}}();var _=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function f(e){return/[<&]/.test(e)}var E,g=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],i)};function y(e){e=_(e)?e:[e];var t,i,n,r=0,s="<(?!/?";return s+="(?:",g(e,(function(e,o){t=e.tags||a,i=e.attrs||l,n=e.checkUrlAttrs||!1,0!==o&&(s+="|"),s+="(?:"+t.join("|")+")",s+="(?:",s+="[ \t\r\n]*",s+="|[ \t\r\n]+",s+="(?:(?:",s+="(?:"+i+")(?:=([\"'])[^'\"<>]*\\"+ ++r+")?",n&&(s+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++r),s+=")[ \t\r\n]*)+",s+=")"})),s+=")",s+="/?>)",new RegExp(s,"i")}function b(e){return y({tags:e=e||a,checkUrlAttrs:!0})}function v(e,t){var i=(t=t||{}).allowTags,n=!1!==t.hasCustomElementMarkup;return i?!b(i).test(e):n?!v.R_UNSAFE_CUSTOM_ELEMENT.test(e):!v.R_UNSAFE_HTML.test(e)}function w(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function T(e,t,i){if(null==e)return null;e=e.toString();var n=t?function(e,t){var i={};return e.replace(/\{([^}]+)\}/g,(function(e,n){var r,s=e;if(i.hasOwnProperty(n))return i[n];if(t.hasOwnProperty(n)){if(!((r="string"==typeof(s=t[n]))||s instanceof c||"number"==typeof s))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");s=r?p(s):s.toString()}return i[n]=s,s}))}(e,t):e,r=e;return f(n)&&!v(n,i)&&(n=w(n),h("Content contains non-whitelisted tags or attributes:\nContent: "+r,"error")),n}function S(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e}v.R_UNSAFE_HTML=b(),v.R_UNSAFE_CUSTOM_ELEMENT=y([{tags:a,checkUrlAttrs:!0},{tags:[(E={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[r,E.attrs].join("|"),checkUrlAttrs:!1}]);var I={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};I.optgroup=I.option,I.tbody=I.tfoot=I.colgroup=I.caption=I.thead,I.th=I.td;var A=/<([\w:]+)/;function O(e,t){var i,n,r,s,o,a,l,c=t.createDocumentFragment(),h=[];for(o=0,l=e.length;o<l;o++)if((s=e[o])||0===s)if("string"==typeof s){for(r=r||c.appendChild(t.createElement("div")),i=(A.exec(s)||["",""])[1].toLowerCase(),L(r,(n=I[i]||I._default)[1]+s+n[2]),a=n[0];a--;)r.lastChild&&r.lastChild.nodeType===Node.ELEMENT_NODE&&(r=r.lastChild);S(h,r.childNodes),(r=c.firstChild).textContent=""}else S(h,s.nodeType?[s]:s);for(c.textContent="",s=h[o=0];s;)c.appendChild(s),s=h[++o];return c}var N=T,R=T;function L(e,t,i){var n=T(t,i);return f(n)?e.innerHTML=n:e[s]=n,n}function C(e,t){if(!(this instanceof C))return new C(e,t);(t=t||{}).allowTags=t.allowTags?t.allowTags.reduce((function(e,t){return e.concat(t)}),[]):null,this._string=e,this._options=t}C.prototype=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(new c,{toString:function(){var e=this._string,t=this._stringVal,i=e;return void 0!==t?t:(v(e,this._options)||(i=e,e=w(e),h("UnsafeString contains non-whitelisted tags or attributes.\nString: "+i,"error")),this._stringVal=e,e)}});const P=/ /g,F=/[\s\u0000<>"]|%00/,k=/\\/,M=/([.]|%2e){2}/i;let D=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function U(e){let t;if("string"!=typeof e)return h("jSecure Warning: url must be a string","error"),"invalid://";if(t=e.trim(),t.indexOf(" ")>-1&&(h("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(P,"+")),!D.test(t))return h("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),"invalid://";if(F.test(t))return h("jSecure Error: not valid url character found in url: "+e,"error"),"invalid://";let i,n=t.split("?")[0],r=!1;try{i=decodeURI(n)}catch(e){r=!0}return r?(h("jSecure Error: malformed url path detected: "+n),"invalid://"):k.test(n)||M.test(n)||M.test(i)?(h("jSecure Error: malicious data found in url path: "+n,"error"),"invalid://"):e}const x={redirect(e){window&&(window.location.href=e)}};var B={ALLOWED_TAGS:a,FORMATTING_TAGS:o,htmlEncode:p,htmlUnencode:m,log:h,mk:function(e,...t){let i,n="",r=t.length;return e&&e.forEach((function(e,s){n+=e,s<r&&(i=t[s],n+=i instanceof C?i:p(i))})),R(n)},parseHTML:function(e,t){var i;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)i=O([e],t);else{if(!_(e))return e;i=O(e,t)}return S([],i.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:N,reEncode:function(e){return p(m(e))},_redirector:x,redirect:function(e){const t=U(e);t===e&&x.redirect(t)},sanitizeHTML:R,sanitizeUrl:U,setElementContent:L,text:function(e){return h("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),p(e)},unsafe:function(e){return e},UnsafeString:C};function j(e){if("string"!=typeof e)throw Error("Classname must be a string");return".".concat(e)}const q=()=>{},H=["B","KB","MB","GB","TB"];function G(e,t=0){if("number"!=typeof e)throw new Error("".concat(e," should be an integer."));if(e<0)throw new Error("".concat(e," should be an postive integer."));if(t<0)throw new Error("".concat(t," should be an postive integer."));if(0===e)return"".concat(e," ").concat(H[0]);const i=Math.floor(Math.log(e)/Math.log(1e3)),n=parseFloat((e/Math.pow(1e3,i)).toFixed(t));return"".concat(n," ").concat(H[i])}const V=Object.freeze({AMBRY_MEDIA:"ambry-media",UPLOAD_FILE:"ambry-media__upload-file",UPLOAD_FILE_HIDE:"ambry-media__upload-file--hide",FILE_ATTACHMENT:"ambry-media__file-attachment",FILE_ATTACHMENT_LOADING:"ambry-media__file-attachment--loading",FILE_CANCEL_BTN:"ambry-media__file-cancel-btn",FILE_ATTACHMENT_SHOW:"ambry-media__file-attachment--show",FILE_INPUT:"ambry-media__file-input",FILE_LABEL:"ambry-media__label",UPLOAD_FORMAT_TEXT:"ambry-media__upload-format-text",ERROR_MESSAGE:"ambry-media__upload-error-message",ERROR_MESSAGE_SHOW:"ambry-media__upload-error-message--show",SIZE:"attachment-filesize",NAME:"attachment-filename",LOADER:"loader--ambry-media",LOADER_SHOW:"ambry-media__loader--show"}),z=Object.freeze({SIZE:"size",UPLOAD:"upload",TYPE:"type"}),J=Object.freeze({doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:"application/pdf",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png"}),W=Object.freeze({"application/pdf":"ambry-media__pdf-compose","application/msword":"ambry-media__word-compose","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"ambry-media__file-compose"});class Y{constructor(e,{hideError:t=q,onFormElementUpdate:i=q,onFormElementFocus:n=q,onFormElementBlur:r=q,onFormElementFileUpload:s}={}){if("function"!=typeof s)throw new Error("You must pass in an upload invoking function");this.el=e,this.hideError=t,this.onFormElementUpdate=i,this.onFormElementFocus=n,this.onFormElementBlur=r,this.onFormElementFileUpload=s,this.ambryMediaEl=this.el.querySelector(j(V.AMBRY_MEDIA)),this.uploadFileEl=this.el.querySelector(j(V.UPLOAD_FILE)),this.fileAttachmentEl=this.el.querySelector(j(V.FILE_ATTACHMENT)),this.errorMessageEl=this.el.querySelector(j(V.ERROR_MESSAGE)),this.fileInputEl=this.el.querySelector(j(V.FILE_INPUT)),this.fileLabelEl=this.el.querySelector(j(V.FILE_LABEL)),this.fileCancelBtnEl=this.el.querySelector(j(V.FILE_CANCEL_BTN)),this.uploadFormatTextEl=this.el.querySelector(j(V.UPLOAD_FORMAT_TEXT)),this.nameEl=this.el.querySelector(j(V.NAME)),this.sizeEl=this.el.querySelector(j(V.SIZE)),this.dataset=this.ambryMediaEl.dataset,this.loaderEl=this.el.querySelector(j(V.LOADER)),this._addEventListeners(),this._initAmbryMediaDataset(this.dataset)}_addEventListeners(){this.fileInputEl.addEventListener("change",this._onInputChange.bind(this)),this.fileCancelBtnEl.addEventListener("click",this._clearAttachment.bind(this)),this.fileLabelEl.addEventListener("keypress",e=>{"Enter"===e.key&&this.fileInputEl.click()})}_initAmbryMediaDataset(e){const{acceptableFileExt:t,maximumByteSize:i,ambryLocation:n}=e;this.maximumByteSize=i,this._setFileRestrictions(t,this.maximumByteSize),this._setAcceptableFilesAttr(t,this.maximumByteSize),this._updateFormElement(n)}_setFileRestrictions(e,t){const i=e?e.replace(/,/g,", ").toUpperCase():"",n=G(parseInt(t,10)),r="".concat(i," (").concat(n,")").trim();B.setElementContent(this.uploadFormatTextEl,r)}_setAcceptableFilesAttr(e){this.acceptableFileExtArr=[],e?e.split(",").forEach(e=>{const t=J[e];t&&this.acceptableFileExtArr.push(t)}):this.acceptableFileExtArr=["*"],this.fileInputEl.setAttribute("accept",this.acceptableFileExtArr.join(", "))}_getErrorMessageType(e,t){return this.maximumByteSize<t?z.SIZE:this.acceptableFileExtArr.includes(e)||this.acceptableFileExtArr.includes("*")?null:z.TYPE}_updateFormElement(e=null){const t=!("true"===this.dataset.required&&!e),i=e?{formElementUrn:this.dataset.urn,ambryMediaResponse:e}:null;this.onFormElementUpdate({isValid:t,response:i})}_uploadFileToAmbry(e){return this.onFormElementFileUpload(e).then(e=>{e?(this._clearError(),this._hideLoading(),this._updateFormElement(e)):this._handleAmbryUploadError()}).catch(()=>{this._handleAmbryUploadError()})}_handleAmbryUploadError(){const e=Object(n.w)("i18n_file_upload_error");this._clearAttachment(),this._updateFormElement(),this._hideLoading(),this._showError(e)}_showLoading(){this.fileCancelBtnEl.disabled=!0,this.loaderEl.classList.add(V.LOADER_SHOW),this.fileAttachmentEl.classList.add(V.FILE_ATTACHMENT_LOADING)}_hideLoading(){this.fileCancelBtnEl.disabled=!1,this.loaderEl.classList.remove(V.LOADER_SHOW),this.fileAttachmentEl.classList.remove(V.FILE_ATTACHMENT_LOADING)}_showError(e){B.setElementContent(this.errorMessageEl,e),this.errorMessageEl.setAttribute("aria-live","assertive"),this.errorMessageEl.classList.add(V.ERROR_MESSAGE_SHOW)}_clearError(){this.hideError(),B.setElementContent(this.errorMessageEl,""),this.errorMessageEl.setAttribute("aria-live","off"),this.errorMessageEl.classList.remove(V.ERROR_MESSAGE_SHOW)}_showAttachment({name:e,size:t,type:i}){const n=G(parseInt(t,10));this.fileAttachmentTypeClass=W[i]||"ambry-media__file-compose",this.uploadFileEl.classList.add(V.UPLOAD_FILE_HIDE),B.setElementContent(this.nameEl,e),B.setElementContent(this.sizeEl,n),this.fileAttachmentEl.classList.add(this.fileAttachmentTypeClass),this.fileAttachmentEl.classList.add(V.FILE_ATTACHMENT_SHOW)}_clearAttachment(){this.fileInputEl.value="",this._updateFormElement(),this.fileAttachmentEl.classList.remove(V.FILE_ATTACHMENT_SHOW),this.fileAttachmentEl.classList.remove(this.fileAttachmentTypeClass),B.setElementContent(this.nameEl,""),B.setElementContent(this.sizeEl,""),this.uploadFileEl.classList.remove(V.UPLOAD_FILE_HIDE)}_onInputChange(e){if(this._clearError(),e.target&&e.target.files&&e.target.files.length){const t=e.target.files[0],{type:i,size:r}=t,s=this._getErrorMessageType(i,r);if(s){const e=Object(n.w)("i18n_file_".concat(s,"_error"));return this._updateFormElement(),void this._showError(e)}this._showLoading(),this._showAttachment(t),this._uploadFileToAmbry(t)}}}const K=Object.freeze({CHECKBOX:"checkbox",CHECKBOX_OPTION:"checkbox__option"});class Q{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q,onFormElementFocus:r=q,onFormElementBlur:s=q}={}){this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.onFormElementFocus=r,this.onFormElementBlur=s,this.checkboxEl=this.el.querySelector(j(K.CHECKBOX)),this.checkboxEl&&(this.checkboxOptionsEl=this.checkboxEl.querySelector(j(K.CHECKBOX_OPTION)),this.checkboxOptionsElArray=[...this.checkboxEl.querySelectorAll("input[type=checkbox]")],this.dataset=this.checkboxEl.dataset,this._addEventListeners(),this._initProperties())}_initProperties(){const e=this.dataset.checkboxResponse,t=e?JSON.parse(e):[];this._initSelectedResponse(t),this._setResponse(t),this._validateSelection(),this._updateFormElement()}_initSelectedResponse(e){const t=e.map(e=>e.value);t&&this.checkboxOptionsElArray.length&&this.checkboxOptionsElArray.forEach(e=>{e.checked=t.includes(e.value)})}_addEventListeners(){this.checkboxEl.addEventListener("blur",this._onSelectBlur.bind(this)),this.checkboxEl.addEventListener("focus",this._onSelectFocus.bind(this)),this.checkboxEl.addEventListener("change",this._onSelect.bind(this))}_validateSelection(){const e="true"===this.dataset.checkboxRequired;this.isValid=!(e&&!this.response)}_setResponse(e){this.response=e.length?{formElementUrn:this.dataset.checkboxId,selectedValuesResponse:e}:null}_updateResponse(e,t){const i=this.response?this.response.selectedValuesResponse:[];if(t)i.push({value:e});else{const t=i.map(e=>e.value).indexOf(e);i.splice(t,1)}this._setResponse(i)}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response})}_showError(){this.showError()}_hideError(){this.hideError()}_onSelectBlur(){this.onFormElementBlur()}_onSelectFocus(){this.onFormElementFocus()}_onSelect(e){const{value:t,checked:i}=e.target;t&&(this._updateResponse(t,i),this._validateSelection(),this.isValid?this._hideError():this._showError(),this._updateFormElement())}}const X=Object.freeze({MODAL_SECTION:"confirmation-dialog",CANCEL_BTN:"confirmation-dialog__cancel-btn",CONFIRM_BTN:"confirmation-dialog__confirm-btn"});class Z{constructor(e,{onCancel:t=q,onConfirm:i=q}){this.el=e,this.onCancel=t,this.onConfirm=i,this.modalSectionEl=this.el.querySelector(j(X.MODAL_SECTION)),this.cancelBtn=this.modalSectionEl.querySelector(j(X.CANCEL_BTN)),this.confirmBtn=this.modalSectionEl.querySelector(j(X.CONFIRM_BTN)),this.confirmationModal=new n.k(this.modalSectionEl),this._addEventListeners()}_addEventListeners(){this.cancelBtn.addEventListener("click",this._onCancel.bind(this)),this.confirmBtn.addEventListener("click",this._onConfirm.bind(this))}open(){this.confirmationModal.open()}close(){this.confirmationModal.close()}_onCancel(){this.onCancel(),this.close()}_onConfirm(){this.onConfirm(),this.close()}}const $=Object.freeze({INPUT:"datepicker__input",INPUT_ERROR:"datepicker__input--error",FORMAT_ERROR:"datepicker__format-error-message",SHOW_FORMAT_ERROR:"datepicker__format-error-message--show"}),ee=/(19|20)\d{2}\-(0\d{1}|1[0-2])\-([0-2]\d{1}|3[0-1])/;class te{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q,onFormElementFocus:r=q,onFormElementBlur:s=q}={}){this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.onFormElementFocus=r,this.onFormElementBlur=s,this.datepickerEl=this.el.querySelector(j($.INPUT)),this.datepickerFormatErrorEl=this.el.querySelector(j($.FORMAT_ERROR)),this._addEventListeners(),this._initProperties()}_addEventListeners(){this.datepickerEl.addEventListener("blur",this._onDateBlur.bind(this)),this.datepickerEl.addEventListener("input",this._onDateInput.bind(this))}_initProperties(){this._validateInput(),this._updateResponse(),this._updateFormElement()}_validateInput(e){const t=this.datepickerEl.required;this.isValid=!(t&&!e)}_updateResponse(e){this.response=e?{formElementUrn:this.datepickerEl.id,dateResponse:e}:null}_showDateFormatError(){this._hideError(),this.hasDisplayedFormatError=!0,this.datepickerEl.classList.add($.INPUT_ERROR),this.datepickerFormatErrorEl.setAttribute("aria-live","assertive"),this.datepickerFormatErrorEl.classList.add($.SHOW_FORMAT_ERROR)}_hideDateFormatError(){this.datepickerEl.classList.remove($.INPUT_ERROR),this.datepickerFormatErrorEl.setAttribute("aria-live","off"),this.datepickerFormatErrorEl.classList.remove($.SHOW_FORMAT_ERROR)}_showError(){this._hideDateFormatError(),this.datepickerEl.classList.add($.INPUT_ERROR),this.showError()}_hideError(){this.datepickerEl.classList.remove($.INPUT_ERROR),this.hideError()}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response})}_getInputDateFields(e){const t=e.split("-");return{year:t[0],month:t[1],day:t[2]}}_isValidDate(e){return ee.test(e)}_updateDatePickerResponse(e){this._validateInput(e),this._updateResponse(e),this.isValid||this._showError(),this._updateFormElement()}_handleInvalidDate(){this._showDateFormatError(),this.isValid=!1,this._updateResponse(),this._updateFormElement()}_onSelectFocus(){this.onFormElementFocus()}_handleInputValue(e){let t;if(e){if(!this._isValidDate(e))return this._handleInvalidDate();this._hideDateFormatError(),t=this._getInputDateFields(e)}this._updateDatePickerResponse(t)}_onDateBlur(e){this._handleInputValue(e.target.value),this.onFormElementBlur()}_onDateInput(e){return this.hasDisplayedFormatError&&!this._isValidDate(e.target.value)?this._showDateFormatError():this._hideDateFormatError()}}const ie=Object.freeze({DATE_RANGE:"date-range",CURRENT_DATE:"date-range__current-date",CURRENT_DATE_OPTION:"date-range__current-date-option",END_DATE_SELECTORS:"date-range__end-date",START_DATE_SELECTORS:"date-range__start-date",END_DATE_SELECTORS_HIDDEN:"date-range__end-date--hidden",DATE_DROPDOWN:"date-range__selector"}),ne=Object.freeze({START_MONTH:"start-month",START_YEAR:"start-year",END_MONTH:"end-month",END_YEAR:"end-year",MONTH_DEFAULT:"Month",YEAR_DEFAULT:"Year",PRESENT_VALUE_TEXT:"Present"});class re{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q}={}){this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.defaultDateRangeResp={start:{},end:{}},this.dateRangeEl=this.el.querySelector(j(ie.DATE_RANGE)),this.dateRangeUrn=this.dateRangeEl.id,this.isRequired=this.dateRangeEl.hasAttribute("data-is-required"),this.currentDateCheckboxEl=this.el.querySelector(j(ie.CURRENT_DATE_OPTION)),this.endDateSelectorContainer=this.el.querySelector(j(ie.END_DATE_SELECTORS)),this.startDateSelectorContainer=this.el.querySelector(j(ie.START_DATE_SELECTORS)),this.startMonthEl=this.startDateSelectorContainer.querySelector('select[name="month"]'),this.startYearEl=this.startDateSelectorContainer.querySelector('select[name="year"]'),this.endMonthEl=this.endDateSelectorContainer.querySelector('select[name="month"]'),this.endYearEl=this.endDateSelectorContainer.querySelector('select[name="year"]'),this.dateDropwdownEls=this.el.querySelectorAll(j(ie.DATE_DROPDOWN)),this._initDefaultData(),this._validateResponse(this.response),this._addEventListeners()}_initDefaultData(){this.isCurrent=!1,this.isValid=!this.isRequired,this.displayValueText=void 0,this.response=null}_addEventListeners(){this.currentDateCheckboxEl.addEventListener("click",this._currentDateHandler.bind(this)),this.dateDropwdownEls.forEach(e=>{e.addEventListener("input",this._onDateDropdownSelect.bind(this))})}_currentDateHandler(e){this._setResponseToDefault(),this.isCurrent=e.target.checked,this._handleCurrentDateCheck(this.isCurrent)}_onDateDropdownSelect(e){const t=e.target.id,i="Month"===e.target.value||"Year"===e.target.value;switch(this._setResponseToDefault(),t){case"".concat(ne.START_MONTH,"-").concat(this.dateRangeUrn):this.response.dateRangeResponse.start.month=i?void 0:Number(e.target.value);break;case"".concat(ne.START_YEAR,"-").concat(this.dateRangeUrn):this.response.dateRangeResponse.start.year=i?void 0:Number(e.target.value);break;case"".concat(ne.END_MONTH,"-").concat(this.dateRangeUrn):this.response.dateRangeResponse.end.month=i?void 0:Number(e.target.value);break;case"".concat(ne.END_YEAR,"-").concat(this.dateRangeUrn):this.response.dateRangeResponse.end.year=i?void 0:Number(e.target.value)}this._isDropdownsDefault()&&(this.response=null),this._validateResponse(this.response),this._handleErrorState()}_validateResponse(e){const{start:t,end:i}=e?e.dateRangeResponse:{start:{},end:{}},n=new Date(t.year,t.month,1),r=this.isCurrent?new Date:new Date(i.year,i.month,1);this.isValid=this.isRequired?n<=r:n<=r||this._isResponseDefault(e),this.displayValueText=this._getDisplayValueText(),this._updateFormElement()}_handleErrorState(){return this.isValid?this.hideError():this.showError()}_isResponseDefault(e){return null===e||JSON.stringify(e.dateRangeResponse)===JSON.stringify(this.defaultDateRangeResp)}_isDropdownsDefault(){return this.startMonthEl.value===ne.MONTH_DEFAULT&&this.endMonthEl.value===ne.MONTH_DEFAULT&&this.startYearEl.value===ne.YEAR_DEFAULT&&this.endYearEl.value===ne.YEAR_DEFAULT}_setResponseToDefault(){null===this.response&&(this.response={formElementUrn:this.dateRangeEl.id,dateRangeResponse:{start:{},end:{}}})}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response,displayValueText:this.displayValueText})}_handleCurrentDateCheck(e){e?(this.response.dateRangeResponse.end=void 0,this.endDateSelectorContainer.classList.add(ie.END_DATE_SELECTORS_HIDDEN)):(this._resetEndDateDropdowns(),this.response.dateRangeResponse.end={},this.endDateSelectorContainer.classList.remove(ie.END_DATE_SELECTORS_HIDDEN)),this._validateResponse(this.response),this._handleErrorState()}_getDisplayValueText(){if(null===this.response||!this.isValid||this._isResponseDefault(this.response))return;const{start:e,end:t}=this.response.dateRangeResponse;return this.isValid&&!this.isCurrent?"".concat(this.startMonthEl.options[e.month].text," ").concat(e.year," - ").concat(this.endMonthEl.options[t.month].text," ").concat(t.year):"".concat(this.startMonthEl.options[e.month].text," ").concat(e.year," - ").concat(ne.PRESENT_VALUE_TEXT)}_resetEndDateDropdowns(){this.endMonthEl.value=ne.MONTH_DEFAULT,this.endYearEl.value=ne.YEAR_DEFAULT,this.response.dateRangeResponse.end={}}_resetStartDateDropdowns(){this.startMonthEl.value=ne.MONTH_DEFAULT,this.startYearEl.value=ne.YEAR_DEFAULT,this.response.dateRangeResponse.start={}}_resetCurrentDateOption(){this.currentDateCheckboxEl.checked=!1,this.isCurrent=!1,this._handleCurrentDateCheck(this.isCurrent)}resetElement(e){null===this.response&&this._setResponseToDefault(),Object.keys(e).length||(this._resetCurrentDateOption(),this._resetEndDateDropdowns(),this._resetStartDateDropdowns(),this._initDefaultData(),this._validateResponse(this.response),this.hideError(),this._updateFormElement())}}const se=Object.freeze({DROPDOWN:"dropdown",DROPDOWN_SELECT:"dropdown__select"});class oe{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q,onFormElementFocus:r=q,onFormElementBlur:s=q}={}){this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.onFormElementFocus=r,this.onFormElementBlur=s,this.dropdownEl=this.el.querySelector(j(se.DROPDOWN)),this.dropdownSelectEl=this.dropdownEl.querySelector(j(se.DROPDOWN_SELECT)),this.dropdownOptionsElArray=this.dropdownSelectEl.querySelectorAll("option"),this.dataset=this.dropdownEl.dataset,this._addEventListeners(),this._initProperties(this.dataset)}_initProperties(e){const{dropdownResponseValue:t,dropdownResponseValueUrn:i}=e,n=i||t;this._initSelectedResponse(n),this._validateSelection(this.dropdownSelectEl.value),this._updateResponse(t,i),this._updateFormElement()}_initSelectedResponse(e){e&&this.dropdownOptionsElArray.length&&this.dropdownOptionsElArray.forEach(t=>{t.selected=t.value===e})}_updateResponse(e,t){this.response=e||t?{formElementUrn:this.dropdownSelectEl.id,selectedValuesResponse:[{value:e,valueUrn:t}]}:null}_addEventListeners(){this.dropdownEl.addEventListener("blur",this._onSelectBlur.bind(this)),this.dropdownEl.addEventListener("focus",this._onSelectFocus.bind(this)),this.dropdownEl.addEventListener("input",this._onSelect.bind(this))}_validateSelection(e){const t=this.dataset.dropdownRequired;this.isValid=!(t&&!e)}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response})}_showError(){this.showError()}_hideError(){this.hideError()}_onSelectBlur(){this.onFormElementBlur()}_onSelectFocus(){this.onFormElementFocus()}_onSelect(e){const{value:t,selectedIndex:i}=e.target,{optionValue:n,optionValueUrn:r}=this.dropdownOptionsElArray[i].dataset;this._validateSelection(t),this._updateResponse(n,r),this.isValid?this._hideError():this._showError(),this._updateFormElement()}}function ae(e){e.length&&e.forEach(e=>e.isValid?e.hideError():e.showError())}function le(e){return!e.length||e.every(e=>!1!==e.isValid)}function ce(e){return e.map(e=>e.response).filter(e=>e)}const he=Object.freeze({SINGLE_LINE_TEXT:"SINGLE_LINE_TEXT",AMBRY_MEDIA:"AMBRY_MEDIA",CHECKBOX:"CHECKBOX",DATEPICKER:"DATEPICKER",DROPDOWN:"DROPDOWN",RADIO:"RADIO",MULTI_LINE_TEXT:"MULTI_LINE_TEXT",TYPEAHEAD:"TYPEAHEAD",DATE_RANGE:"DATE_RANGE"});(e=>{const t={};Object.keys(e).forEach(e=>{t[e]=e.replace(/_/gi,"-").toLowerCase()})})(he);const de=Object.freeze({SINGLE_LINE_TEXT_INPUT:"single-line-text__input",SINGLE_LINE_TEXT_INPUT_ERROR:"single-line-text__input--error",TYPEAHEAD_INPUT:"single-line-text__typeahead-input"}),ue=/^[+-]?\d+$/,pe=/^[+-]?\d*\.?\d+$/,me=Object.freeze({INTEGER:"INTEGER",DECIMAL:"DECIMAL"});class _e{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q,onFormElementFocus:r=q,onFormElementBlur:s=q,allowFreeFormText:o=!0}={}){this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.onFormElementFocus=r,this.onFormElementBlur=s,this.typeaheadInputEl=this.el.querySelector(j(de.TYPEAHEAD_INPUT)),this.allowFreeFormText=o,this.textInputEl=this.typeaheadInputEl?this.typeaheadInputEl.querySelector("input"):this.el.querySelector(j(de.SINGLE_LINE_TEXT_INPUT)),this.inputAttributes=this._initInputAttributes(this.textInputEl),this.initialResponse=this.textInputEl.value,this._addEventListeners(),this._validateInput(this.initialResponse),this._updateResponse(this.initialResponse),this._updateFormElement()}_initInputAttributes(e){const{dataset:t}=e,i=t.textInputType,n=i&&(i===me.INTEGER||i===me.DECIMAL);if(n){return{isNumberType:n,max:t.inputMax,min:t.inputMin,textInputType:i}}return{isNumberType:n,textInputType:i}}_addEventListeners(){this.textInputEl.addEventListener("blur",this._onInputBlur.bind(this)),this.textInputEl.addEventListener("focus",this._onInputFocus.bind(this)),this.textInputEl.addEventListener("input",this._onTextInput.bind(this))}resetElement(e){const t=Object.keys(e).length&&e.textResponse?e.textResponse:this.initialResponse;this.textInputEl.value=t||"",this._validateInput(t),this._updateResponse(t),this._updateFormElement()}_validateInput(e){const{isNumberType:t,max:i,min:n,textInputType:r}=this.inputAttributes,s=this.textInputEl.required,o={isRequired:s,inputValue:e,max:i,min:n,textInputType:r};this.isValid=t?this._validateNumberInput(o):!(s&&!e)}_validateNumberInput({isRequired:e,inputValue:t,max:i,min:n,textInputType:r}){const s=parseFloat(t),o=!(e&&!t);return t&&i&&n?r===me.INTEGER?o&&ue.test(t)&&s<=i&&s>=n:r===me.DECIMAL?o&&pe.test(t)&&parseFloat(s)<=i&&parseFloat(s)>=n:void 0:o}_updateResponse(e){this.displayValueText=e,this.response=e?{formElementUrn:this.textInputEl.id,textResponse:e}:null}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response,displayValueText:this.displayValueText})}_showError(){this.textInputEl.classList.add(de.SINGLE_LINE_TEXT_INPUT_ERROR),this.showError()}_hideError(){this.textInputEl.classList.remove(de.SINGLE_LINE_TEXT_INPUT_ERROR),this.hideError()}_onInputBlur(){this.onFormElementBlur()}_onInputFocus(){this.onFormElementFocus()}_onTextInput(e){const t=e.target.value;this._validateAndHandleError(t)}_validateAndHandleError(e){this._validateInput(e),this._updateResponse(e),this.isValid?this._hideError():this._showError(),this._updateFormElement()}}const fe=Object.freeze({RADIO:"radio",RADIO_OPTION:"radio__option"});class Ee{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q,onFormElementFocus:r=q,onFormElementBlur:s=q}={}){this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.onFormElementFocus=r,this.onFormElementBlur=s,this.radioEl=this.el.querySelector(j(fe.RADIO)),this.radioOptionsEl=this.radioEl.querySelector(j(fe.RADIO_OPTION)),this.radioOptionsElArray=[...this.radioEl.querySelectorAll("input[type=radio]")],this.dataset=this.radioEl.dataset,this._addEventListeners(),this._initProperties()}_initProperties(){const e=this.dataset.radioResponse;this._initSelectedResponse(e),this._validateSelection(e),this._updateResponse(e),this._updateFormElement()}_initSelectedResponse(e){e&&this.radioOptionsElArray.length&&this.radioOptionsElArray.forEach(t=>{t.checked=t.value.toLowerCase()===e.toLowerCase()})}_addEventListeners(){this.radioEl.addEventListener("blur",this._onSelectBlur.bind(this)),this.radioEl.addEventListener("focus",this._onSelectFocus.bind(this)),this.radioEl.addEventListener("change",this._onSelect.bind(this))}_validateSelection(e){const t=this.radioEl.hasAttribute("data-radio-required");this.isValid=!(t&&!e)}_updateResponse(e){this.response=e?{formElementUrn:this.dataset.radioId,selectedValuesResponse:[{value:e}]}:null}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response})}_showError(){this.showError()}_hideError(){this.hideError()}_onSelectBlur(){this.onFormElementBlur()}_onSelectFocus(){this.onFormElementFocus()}_onSelect(e){const{value:t}=e.target;t&&(this._validateSelection(t),this._updateResponse(t),this.isValid?this._hideError():this._showError(),this._updateFormElement())}}const ge=Object.freeze({MULTI_LINE_TEXT_INPUT:"multi-line-text__input",MULTI_LINE_TEXT_INPUT_ERROR:"multi-line-text__input--error",CURRENT_COUNT:"multi-line-text__current-count"});class ye{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q,onFormElementFocus:r=q,onFormElementBlur:s=q}={}){this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.onFormElementFocus=r,this.onFormElementBlur=s,this.textAreaEl=this.el.querySelector(j(ge.MULTI_LINE_TEXT_INPUT)),this.maxlength=this.textAreaEl.maxLength,this.initialResponse=this.textAreaEl.value,this._addEventListeners(),this.maxlength>=0&&(this.textAreaCurrentCountEl=this.el.querySelector(j(ge.CURRENT_COUNT)),this._setCurrentCount(this.initialResponse)),this._validateInput(this.initialResponse),this._updateResponse(this.initialResponse),this._updateFormElement()}_addEventListeners(){this.textAreaEl.addEventListener("blur",this._onInputBlur.bind(this)),this.textAreaEl.addEventListener("focus",this._onInputFocus.bind(this)),this.textAreaEl.addEventListener("input",this._onTextInput.bind(this))}resetElement(e){const t=Object.keys(e).length?e.textResponse:this.initialResponse;this.textAreaEl.value=t||"",this._validateInput(t),this._updateResponse(t),this._setCurrentCount(this.textAreaEl.value),this._updateFormElement()}_validateInput(e){const t=this.textAreaEl.required;this.isValid=!(t&&!e)}_updateResponse(e){this.displayValueText=e,this.response=e?{formElementUrn:this.textAreaEl.id,textResponse:e}:null}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response,displayValueText:this.displayValueText})}_showError(){this.textAreaEl.classList.add(ge.MULTI_LINE_TEXT_INPUT_ERROR),this.showError()}_hideError(){this.textAreaEl.classList.remove(ge.MULTI_LINE_TEXT_INPUT_ERROR),this.hideError()}_onInputBlur(){this.onFormElementBlur()}_onInputFocus(){this.onFormElementFocus()}_setCurrentCount(e){B.setElementContent(this.textAreaCurrentCountEl,e.length)}_onTextInput(e){const t=e.target.value;this.maxlength>=0&&this._setCurrentCount(t),this._validateInput(t),this._updateResponse(t),this.isValid?this._hideError():this._showError(),this._updateFormElement()}}const{debounce:be,makeArray:ve}=n.y,we="feul-typeahead__input",Te="feul-typeahead__input--error",Se="feul-typeahead__dropdown--show",Ie="feul-typeahead__dropdown",Ae="feul-typeahead__dropdown-list",Oe="feul-typeahead__dropdown-text",Ne="feul-typeahead__dropdown-item--highlighted",Re="feul-typeahead__dropdown-item",Le="feul-typeahead-item-template";class Ce{constructor(e,{showError:t=q,hideError:i=q,onFormElementUpdate:n=q,onFormElementFocus:r=q,onFormElementBlur:s=q,getTypeaheadResults:o=q,allowFreeFormText:a=!0}={}){if(o===q)throw new Error("You must pass in a function that returns the typeahead results");this.el=e,this.showError=t,this.hideError=i,this.onFormElementUpdate=n,this.onFormElementFocus=r,this.onFormElementBlur=s,this.getTypeaheadResults=o,this._boundClickOutsideToCloseHandler=this._clickOutsideToCloseHandler.bind(this),this.allowFreeFormText=a,this._dropdownContainerEl=this.el.querySelector(j(Ie)),this._dropdownListEl=this.el.querySelector(j(Ae)),this._listId=this._dropdownListEl.id,this.textInputEl=this.el.querySelector(j(we)),this._typeaheadItemTemplate=this.el.querySelector(j(Le));const l=this._dropdownContainerEl.dataset.typeaheadQueryContext.split(",");this.typeaheadQueryParams={},l.map(e=>{const t=e.split("->");"bingGeoSubTypes"===t[0]?this.typeaheadQueryParams[t[0]]=t[1].split("|").join(","):this.typeaheadQueryParams[t[0]]=t[1]}),this.typeaheadQueryParams.typeaheadType=this._dropdownContainerEl.dataset.typeaheadType,this.typeaheadQuerySelected=!1,this._addEventListeners(),this._validateInput(this.textInputEl.value),this._updateResponse(this.textInputEl.value,this.textInputEl.dataset.selectedItemId),this._updateFormElement(),this._requestHandler=be(this._fetchResults.bind(this),500)}_addEventListeners(){this.hideListHandler=this._hideList.bind(this),this.textInputEl.addEventListener("blur",this._onInputBlur.bind(this)),this.textInputEl.addEventListener("focus",this._onInputFocus.bind(this)),this.textInputEl.addEventListener("input",this._onTextInput.bind(this)),this._dropdownListEl.addEventListener("mousedown",this._onDropdownItemSelect.bind(this))}_validateInput(){const e=this.textInputEl.required;this.allowFreeFormText?this.isValid=!e||e&&!!this.textInputEl.value:this.isValid=e?e&&!!this.textInputEl.value&&this.typeaheadQuerySelected:this.typeaheadQuerySelected||!this.textInputEl.value}_updateResponse(e="",t=""){this.displayValueText=e;const i=t?"urn:li:".concat(this.typeaheadQueryParams.typeaheadType.toLowerCase(),":").concat(t):void 0;this.response=i?{formElementUrn:this.textInputEl.id,selectedValuesResponse:[{value:e,valueUrn:i}]}:""===e?null:{formElementUrn:this.textInputEl.id,textResponse:e}}resetElement(e){Object.keys(e).length||(this.textInputEl.value="",this.textInputEl.dataset.selectedItemId="",this._validateInput(),this._updateResponse(),this._updateFormElement())}_updateFormElement(){this.onFormElementUpdate({isValid:this.isValid,response:this.response,displayValueText:this.displayValueText})}_showError(){this.textInputEl.classList.add(Te),this.showError()}_hideError(){this.textInputEl.classList.remove(Te),this.hideError()}_onInputBlur(){this._hideList(),this._validateAndHandleError(),this.onFormElementBlur()}_onInputFocus(){this.onFormElementFocus()}_onTextInput(){this.typeaheadQuerySelected=!1,this._isInputValid()&&this._requestHandler()}_onDropdownItemSelect(e){this.typeaheadQuerySelected=!0,e.target.classList.contains(Oe)?(this.textInputEl.value=e.target.textContent,this.textInputEl.dataset.selectedItemId=e.target.parentNode.dataset.itemId):(this.textInputEl.value=e.target.querySelector(j(Oe)).textContent,this.textInputEl.dataset.selectedItemId=e.target.dataset.itemId),this._validateAndHandleError()}_setHighlightedEl(e){this._highlighted&&this._highlighted.el&&(this._highlighted.el.classList.remove(Ne),this._highlighted.el.setAttribute("aria-selected",!1)),null===e?(this._highlighted={el:null,index:null},this.textInputEl.removeAttribute("aria-activedescendant")):(this._highlighted.el=this._dropdownListItemEls[e],this._highlighted.index=e,this._highlighted.el.setAttribute("aria-selected",!0),this._highlighted.el.classList.add(Ne),this.textInputEl.setAttribute("aria-activedescendant",this._highlighted.el.id))}_showList(){this._shouldShowList()?(this._dropdownContainerEl.classList.add(Se),document.body.addEventListener("click",this._boundClickOutsideToCloseHandler),this._setExpandedState(!0)):(this._hideList(),this._setExpandedState(!1))}_hideList(){this._isListActive()&&(this.el.querySelector("#".concat(this._listId)).innerHTML="",this._resetState(),this._dropdownContainerEl.classList.remove(Se),document.body.removeEventListener("click",this._boundClickOutsideToCloseHandler))}_shouldShowList(){return this._dropdownListItemEls.length>0&&this._isInputValid()}_clickOutsideToCloseHandler(e){e.target!==this.textInputEl&&this._hideList()}_setExpandedState(e){this.el.setAttribute("aria-expanded",e),e&&(this.el.setAttribute("aria-owns",this._listId),this.textInputEl.setAttribute("aria-controls",this._listId))}_resetState(){this._dropdownListItemEls=[],this._setHighlightedEl(null),this._setExpandedState(!1)}_isListActive(){return this.el.getAttribute("aria-owns")===this._listId&&"true"===this.el.getAttribute("aria-expanded")}async _fetchResults(){if(this._isInputValid()){this.typeaheadQueryParams.query=this.textInputEl.value;const e=await this.getTypeaheadResults(this.typeaheadQueryParams);this._appendResults(e),this._showList()}}_appendResults(e=[]){e.forEach((e,t)=>{const i=document.importNode(this._typeaheadItemTemplate.content,!0);i.querySelector(j(Re)).id="".concat(this.textInputEl.name,"-").concat(t+1),i.querySelector(j(Re)).dataset.itemId=e.id,i.querySelector(j(Oe)).textContent=e.displayName,this._dropdownListEl.appendChild(i)}),this._dropdownListItemEls=ve(this._dropdownListEl.children)}_isInputValid(){return this.textInputEl.value.length>1}_validateAndHandleError(){this._validateInput(this.textInputEl.value),this._updateResponse(this.textInputEl.value,this.textInputEl.dataset.selectedItemId),this.isValid?this._hideError():this._showError(),this._updateFormElement()}}const Pe=Object.freeze({FORM_ELEMENT:"form-element",TITLE_REQUIRED:"form-element__title--is-required",ERROR_MESSAGE:"form-element__error-message",ERROR_MESSAGE_SHOW:"form-element__error-message--show"});class Fe{constructor(e,{onFormElementUpdate:t=q,onFormElementFocus:i=q,onFormElementBlur:n=q,onFormElementFileUpload:r=q,getTypeaheadResults:s=q,allowFreeFormText:o=!0}={}){this.el=e,this.onFormElementUpdate=t,this.onFormElementFocus=i,this.onFormElementBlur=n,this.onFormElementFileUpload=r,this.getTypeaheadResults=s,this.formElementEl=this.el.querySelector(j(Pe.FORM_ELEMENT)),this.errorMessageEl=this.formElementEl.querySelector(j(Pe.ERROR_MESSAGE)),this.formElementUrn=this.formElementEl.dataset.formElementUrn,this.allowFreeFormText=o,this.formElement=this._initFormElement(this.formElementEl.dataset.formElementType)}showError(){this.errorMessageEl&&(this.errorMessageEl.classList.add(Pe.ERROR_MESSAGE_SHOW),this.errorMessageEl.setAttribute("aria-live","assertive"),this.formElementEl.setAttribute("aria-invalid","true"))}hideError(){this.errorMessageEl&&(this.errorMessageEl.classList.remove(Pe.ERROR_MESSAGE_SHOW),this.errorMessageEl.setAttribute("aria-live","off"),this.formElementEl.setAttribute("aria-invalid","false"))}resetFormElement(e={}){this.formElement.resetElement(e)}_initFormElement(e){const t={showError:this.showError.bind(this),hideError:this.hideError.bind(this),onFormElementUpdate:this._onFormElementUpdate.bind(this),onFormElementFocus:this._onFormElementFocus.bind(this),onFormElementBlur:this._onFormElementBlur.bind(this),onFormElementFileUpload:this._onFormElementFileUpload.bind(this),getTypeaheadResults:this._getTypeaheadResults.bind(this),allowFreeFormText:this.allowFreeFormText};return function(e,t,i={}){if("string"!=typeof e)throw new Error("Type of ".concat(e," element is required to be a string."));if(!t)throw new Error("DOM element is required.");switch(t.dataset.isTypeahead&&(e=he.TYPEAHEAD),e){case he.SINGLE_LINE_TEXT:return new _e(t,i);case he.TYPEAHEAD:return new Ce(t,i);case he.MULTI_LINE_TEXT:return new ye(t,i);case he.AMBRY_MEDIA:return new Y(t,i);case he.CHECKBOX:return new Q(t,i);case he.DATEPICKER:return new te(t,i);case he.DROPDOWN:return new oe(t,i);case he.RADIO:return new Ee(t,i);case he.DATE_RANGE:return new re(t,i);default:throw new Error("".concat(e," type form element component does not exist."))}}(e,this.formElementEl,t)}_onFormElementBlur(){this.onFormElementBlur()}_onFormElementFocus(){this.onFormElementFocus()}_onFormElementUpdate(e){const{response:t,isValid:i,displayValueText:n}=e;return this.displayValueText=n,this.isValid=i,this.response=t,this.onFormElementUpdate(t)}_onFormElementFileUpload(e){return this.onFormElementFileUpload(e)}_getTypeaheadResults(e){return this.getTypeaheadResults(e)}}const ke=Object.freeze({TEXT:"vol-self-id__text",SEE_MORE_TEXT:"vol-self-id__see-more-text",SEE_MORE_TEXT_HIDDEN:"vol-self-id__see-more-text--hide",SEE_MORE_BTN:"vol-self-id__see-more-btn",SEE_MORE_BTN_HIDE:"vol-self-id__see-more-btn--hide",SEE_LESS_BTN:"vol-self-id__see-less-btn"});class Me{constructor(e){this.el=e,this.seeMoreBtnEl=this.el.querySelector(j(ke.SEE_MORE_BTN)),this.seeLessBtnEl=this.el.querySelector(j(ke.SEE_LESS_BTN)),this.seeMoreEl=this.el.querySelector(j(ke.SEE_MORE_TEXT)),this._addEventListeners()}_addEventListeners(){this.seeMoreBtnEl.addEventListener("click",this._onSeeMoreText.bind(this)),this.seeLessBtnEl.addEventListener("click",this._onSeeLessText.bind(this))}_onSeeMoreText(){this.seeMoreEl.classList.remove(ke.SEE_MORE_TEXT_HIDDEN),this.seeMoreBtnEl.classList.add(ke.SEE_MORE_BTN_HIDE)}_onSeeLessText(){this.seeMoreEl.classList.add(ke.SEE_MORE_TEXT_HIDDEN),this.seeMoreBtnEl.classList.remove(ke.SEE_MORE_BTN_HIDE)}}const De=Object.freeze({EASY_APPLY_FORM_SECTION:"easy-apply-form-section",EASY_APPLY_FORM_SECTION_GROUPING:"easy-apply-form-section__grouping",EASY_APPLY_FORM_SECTION_ELEMENT:"easy-apply-form-section__element",VOL_SELF_ID:"easy-apply-form-section__vol-self-id",PRE_REQ_ELEMENT:"easy-apply-form-section__pre-req-element",PRE_REQ_ELEMENT_HIDDEN:"easy-apply-form-section__pre-req-element--hide"});class Ue{constructor(e,{onFormElementFileUpload:t=q,getTypeaheadResults:i=q}){this.el=e,this.volSelfIdEl=this.el.querySelector(j(De.VOL_SELF_ID)),this.onFormElementFileUpload=t,this.getTypeaheadResults=i,this.easyApplyFormSectionElements=this.el.querySelectorAll(j(De.EASY_APPLY_FORM_SECTION_ELEMENT)),this.preReqEl=this.el.querySelector(j(De.PRE_REQ_ELEMENT)),this._initFormSectionElements(this.easyApplyFormSectionElements),this.volSelfIdEl&&new Me(this.volSelfIdEl),this.preReqEl&&(this.preReqUrn=this.preReqEl.dataset.preReqUrn,this.preReqValue=this.preReqEl.dataset.preReqValue,this.preReqElement=this.formElementSectionCollection.find(e=>e.formElementUrn===this.preReqUrn),this.dependentElement=this.formElementSectionCollection.find(e=>e.formElementUrn!==this.preReqUrn),this.dependentElement.isValid=!0)}_initFormSectionElements(e){this.formElementSectionCollection=Array.from(e).map(e=>new Fe(e,{onFormElementFileUpload:this._onFormElementFileUpload.bind(this),getTypeaheadResults:this._getTypeaheadResults.bind(this),onFormElementUpdate:this._onFormElementUpdate.bind(this),allowFreeFormText:!1}))}_showDependentElement(){this.preReqEl.classList.remove(De.PRE_REQ_ELEMENT_HIDDEN),this.dependentElement.isValid=!1}_hideDependentElement(){this.preReqEl.classList.add(De.PRE_REQ_ELEMENT_HIDDEN),this.preReqEl.querySelectorAll('input[type="radio"]').forEach(e=>{e.checked=!1}),this.dependentElement.isValid=!0,this.dependentElement.response=null}_onFormElementFileUpload(e){return this.onFormElementFileUpload(e)}_getTypeaheadResults(e){return this.getTypeaheadResults(e)}_onFormElementUpdate(e){if(e&&this.preReqElement&&e.formElementUrn===this.preReqElement.formElementUrn)return e.selectedValuesResponse[0].value===this.preReqValue?this._showDependentElement():this._hideDependentElement()}}const xe=Object.freeze({FORM_SECTION:"repeatable-grouping-preview__form-section",DISPLAY_VALUE_TEXT:"repeatable-grouping-preview__display-value-text"});class Be{constructor(e){this.el=e,this.formSectionEl=this.el.querySelector(j(xe.FORM_SECTION))}insertFormElementDisplayValues(e){e.length&&e.forEach(e=>{const t=e.formElementUrn,i=this.formSectionEl.querySelector('[data-form-element-urn="'.concat(t,'"]')).querySelector(j(xe.DISPLAY_VALUE_TEXT));return e.displayValueText?B.setElementContent(i,e.displayValueText):B.setElementContent(i,"--")})}}var je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var qe=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var i="[object Arguments]",n="[object Map]",r="[object Object]",s="[object Set]",o=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l[n]=l["[object Number]"]=l[r]=l["[object RegExp]"]=l[s]=l["[object String]"]=l["[object WeakMap]"]=!1;var c="object"==typeof je&&je&&je.Object===Object&&je,h="object"==typeof self&&self&&self.Object===Object&&self,d=c||h||Function("return this")(),u=t&&!t.nodeType&&t,p=u&&e&&!e.nodeType&&e,m=p&&p.exports===u,_=m&&c.process,f=function(){try{return _&&_.binding&&_.binding("util")}catch(e){}}(),E=f&&f.isTypedArray;function g(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function y(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function b(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var v,w,T,S=Array.prototype,I=Function.prototype,A=Object.prototype,O=d["__core-js_shared__"],N=I.toString,R=A.hasOwnProperty,L=(v=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",C=A.toString,P=RegExp("^"+N.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=m?d.Buffer:void 0,k=d.Symbol,M=d.Uint8Array,D=A.propertyIsEnumerable,U=S.splice,x=k?k.toStringTag:void 0,B=Object.getOwnPropertySymbols,j=F?F.isBuffer:void 0,q=(w=Object.keys,T=Object,function(e){return w(T(e))}),H=fe(d,"DataView"),G=fe(d,"Map"),V=fe(d,"Promise"),z=fe(d,"Set"),J=fe(d,"WeakMap"),W=fe(Object,"create"),Y=be(H),K=be(G),Q=be(V),X=be(z),Z=be(J),$=k?k.prototype:void 0,ee=$?$.valueOf:void 0;function te(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ie(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ne(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function re(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new ne;++t<i;)this.add(e[t])}function se(e){var t=this.__data__=new ie(e);this.size=t.size}function oe(e,t){var i=Te(e),n=!i&&we(e),r=!i&&!n&&Se(e),s=!i&&!n&&!r&&Re(e),o=i||n||r||s,a=o?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!R.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ye(c,l))||a.push(c);return a}function ae(e,t){for(var i=e.length;i--;)if(ve(e[i][0],t))return i;return-1}function le(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":x&&x in Object(e)?function(e){var t=R.call(e,x),i=e[x];try{e[x]=void 0;var n=!0}catch(e){}var r=C.call(e);n&&(t?e[x]=i:delete e[x]);return r}(e):function(e){return C.call(e)}(e)}function ce(e){return Ne(e)&&le(e)==i}function he(e,t,o,a,l){return e===t||(null==e||null==t||!Ne(e)&&!Ne(t)?e!=e&&t!=t:function(e,t,o,a,l,c){var h=Te(e),d=Te(t),u=h?"[object Array]":ge(e),p=d?"[object Array]":ge(t),m=(u=u==i?r:u)==r,_=(p=p==i?r:p)==r,f=u==p;if(f&&Se(e)){if(!Se(t))return!1;h=!0,m=!1}if(f&&!m)return c||(c=new se),h||Re(e)?pe(e,t,o,a,l,c):function(e,t,i,r,o,a,l){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new M(e),new M(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ve(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case n:var c=y;case s:var h=1&r;if(c||(c=b),e.size!=t.size&&!h)return!1;var d=l.get(e);if(d)return d==t;r|=2,l.set(e,t);var u=pe(c(e),c(t),r,o,a,l);return l.delete(e),u;case"[object Symbol]":if(ee)return ee.call(e)==ee.call(t)}return!1}(e,t,u,o,a,l,c);if(!(1&o)){var E=m&&R.call(e,"__wrapped__"),g=_&&R.call(t,"__wrapped__");if(E||g){var v=E?e.value():e,w=g?t.value():t;return c||(c=new se),l(v,w,o,a,c)}}if(!f)return!1;return c||(c=new se),function(e,t,i,n,r,s){var o=1&i,a=me(e),l=a.length,c=me(t).length;if(l!=c&&!o)return!1;var h=l;for(;h--;){var d=a[h];if(!(o?d in t:R.call(t,d)))return!1}var u=s.get(e);if(u&&s.get(t))return u==t;var p=!0;s.set(e,t),s.set(t,e);var m=o;for(;++h<l;){d=a[h];var _=e[d],f=t[d];if(n)var E=o?n(f,_,d,t,e,s):n(_,f,d,e,t,s);if(!(void 0===E?_===f||r(_,f,i,n,s):E)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,o,a,l,c)}(e,t,o,a,he,l))}function de(e){return!(!Oe(e)||function(e){return!!L&&L in e}(e))&&(Ie(e)?P:o).test(be(e))}function ue(e){if(i=(t=e)&&t.constructor,n="function"==typeof i&&i.prototype||A,t!==n)return q(e);var t,i,n,r=[];for(var s in Object(e))R.call(e,s)&&"constructor"!=s&&r.push(s);return r}function pe(e,t,i,n,r,s){var o=1&i,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var h=-1,d=!0,u=2&i?new re:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var p=e[h],m=t[h];if(n)var _=o?n(m,p,h,t,e,s):n(p,m,h,e,t,s);if(void 0!==_){if(_)continue;d=!1;break}if(u){if(!g(t,(function(e,t){if(o=t,!u.has(o)&&(p===e||r(p,e,i,n,s)))return u.push(t);var o}))){d=!1;break}}else if(p!==m&&!r(p,m,i,n,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function me(e){return function(e,t,i){var n=t(e);return Te(e)?n:function(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}(n,i(e))}(e,Le,Ee)}function _e(e,t){var i,n,r=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof t?"string":"hash"]:r.map}function fe(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return de(i)?i:void 0}te.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},te.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},te.prototype.get=function(e){var t=this.__data__;if(W){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return R.call(t,e)?t[e]:void 0},te.prototype.has=function(e){var t=this.__data__;return W?void 0!==t[e]:R.call(t,e)},te.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=W&&void 0===t?"__lodash_hash_undefined__":t,this},ie.prototype.clear=function(){this.__data__=[],this.size=0},ie.prototype.delete=function(e){var t=this.__data__,i=ae(t,e);return!(i<0)&&(i==t.length-1?t.pop():U.call(t,i,1),--this.size,!0)},ie.prototype.get=function(e){var t=this.__data__,i=ae(t,e);return i<0?void 0:t[i][1]},ie.prototype.has=function(e){return ae(this.__data__,e)>-1},ie.prototype.set=function(e,t){var i=this.__data__,n=ae(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(G||ie),string:new te}},ne.prototype.delete=function(e){var t=_e(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return _e(this,e).get(e)},ne.prototype.has=function(e){return _e(this,e).has(e)},ne.prototype.set=function(e,t){var i=_e(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},re.prototype.add=re.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},re.prototype.has=function(e){return this.__data__.has(e)},se.prototype.clear=function(){this.__data__=new ie,this.size=0},se.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var i=this.__data__;if(i instanceof ie){var n=i.__data__;if(!G||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new ne(n)}return i.set(e,t),this.size=i.size,this};var Ee=B?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,s=[];++i<n;){var o=e[i];t(o,i,e)&&(s[r++]=o)}return s}(B(e),(function(t){return D.call(e,t)})))}:function(){return[]},ge=le;function ye(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function be(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ve(e,t){return e===t||e!=e&&t!=t}(H&&"[object DataView]"!=ge(new H(new ArrayBuffer(1)))||G&&ge(new G)!=n||V&&"[object Promise]"!=ge(V.resolve())||z&&ge(new z)!=s||J&&"[object WeakMap]"!=ge(new J))&&(ge=function(e){var t=le(e),i=t==r?e.constructor:void 0,o=i?be(i):"";if(o)switch(o){case Y:return"[object DataView]";case K:return n;case Q:return"[object Promise]";case X:return s;case Z:return"[object WeakMap]"}return t});var we=ce(function(){return arguments}())?ce:function(e){return Ne(e)&&R.call(e,"callee")&&!D.call(e,"callee")},Te=Array.isArray;var Se=j||function(){return!1};function Ie(e){if(!Oe(e))return!1;var t=le(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ne(e){return null!=e&&"object"==typeof e}var Re=E?function(e){return function(t){return e(t)}}(E):function(e){return Ne(e)&&Ae(e.length)&&!!l[le(e)]};function Le(e){return null!=(t=e)&&Ae(t.length)&&!Ie(t)?oe(e):ue(e);var t}e.exports=function(e,t){return he(e,t)}}));const He=Object.freeze({FORM_SECTION:"repeatable-grouping__form-section",FORM_CONTAINER:"repeatable-grouping__form-container",PREVIEW_CONTAINER:"repeatable-grouping__preview-container",HIDE_CONTAINER:"repeatable-grouping__container--hide",SAVE_BTN:"repeatable-grouping__save-btn",CANCEL_BTN:"repeatable-grouping__cancel-btn",EDIT_BTN:"repeatable-grouping__edit-btn",REMOVE_BTN:"repeatable-grouping__remove-btn",DISCARD_CONFIRMATION_MODAL:"repeatable-grouping__discard-confirmation-modal"});class Ge{constructor(e,{onFormElementFileUpload:t=q,getTypeaheadResults:i=q,handleAddMoreBtnDisability:n=q,handleRepeatableGroupingsValidation:r=q}){this.el=e,this.onFormElementFileUpload=t,this.getTypeaheadResults=i,this.handleAddMoreBtnDisability=n,this.handleRepeatableGroupingsValidation=r,this.formContainerEl=this.el.querySelector(j(He.FORM_CONTAINER)),this.previewContainerEl=this.el.querySelector(j(He.PREVIEW_CONTAINER)),this.discardConfirmationModalEl=this.el.querySelector(j(He.DISCARD_CONFIRMATION_MODAL)),this.discardConfirmationModal=new Z(this.el,{onConfirm:this._onDiscardRemove.bind(this)}),this.saveBtnEl=this.formContainerEl.querySelector(j(He.SAVE_BTN)),this.cancelBtnEl=this.formContainerEl.querySelector(j(He.CANCEL_BTN)),this.editBtnEl=this.previewContainerEl.querySelector(j(He.EDIT_BTN)),this.removeBtnEl=this.previewContainerEl.querySelector(j(He.REMOVE_BTN)),this.formSectionEl=this.formContainerEl.querySelector(j(He.FORM_SECTION)),this.formSection=new Ue(this.formSectionEl,{onFormElementFileUpload:this._onFormElementFileUpload.bind(this),getTypeaheadResults:this._getTypeaheadResults.bind(this)}),this.repeatableGroupingPreview=new Be(this.previewContainerEl),this._initiateGroupingState(),this._addEventListeners()}_initiateGroupingState(){this.formElementSectionCollection=this.formSection.formElementSectionCollection,this.formElementResponses=this.getGroupingResponses(),this.isEditing=!1,this.formElementResponses.length&&this._showSectionPreview()}_addEventListeners(){this.saveBtnEl.addEventListener("click",this._onSave.bind(this)),this.cancelBtnEl.addEventListener("click",this._onCancel.bind(this)),this.editBtnEl.addEventListener("click",this._onEdit.bind(this)),this.removeBtnEl.addEventListener("click",this._onRemove.bind(this))}getGroupingResponses(){return ce(this.formElementSectionCollection)}_isRepeatableGroupFormValid(){return le(this.formElementSectionCollection)}_handleElementErrors(){return ae(this.formElementSectionCollection)}_hideSectionPreview(){this.previewContainerEl.classList.add(He.HIDE_CONTAINER)}_showSectionPreview(){this.repeatableGroupingPreview.insertFormElementDisplayValues(this.formElementSectionCollection),this.previewContainerEl.classList.remove(He.HIDE_CONTAINER)}hideGroupingForm(){this.isEditing=!1,this.formContainerEl.classList.add(He.HIDE_CONTAINER)}showGroupingForm(){this.isEditing=!0,this.formContainerEl.classList.remove(He.HIDE_CONTAINER)}_handleRepeatableGroupingsState(){this.handleAddMoreBtnDisability(),this.handleRepeatableGroupingsValidation()}_handleSaveCancelGroupingState(){this.hideGroupingForm(),this._handleRepeatableGroupingsState(),this.formElementResponses.length&&this._showSectionPreview()}_onSave(){if(!this._isRepeatableGroupFormValid())return this._handleElementErrors();this.formElementResponses=this.getGroupingResponses(),this._handleSaveCancelGroupingState()}_onCancel(){const e=this.getGroupingResponses();if(!qe(this.formElementResponses,e)){const e=this.formElementResponses.reduce((e,t)=>(e[t.formElementUrn]=t,e),{});this.formElementSectionCollection.forEach(t=>{const i=e[t.formElementUrn]||{};t.resetFormElement(i)})}this._handleSaveCancelGroupingState()}_onEdit(){this._hideSectionPreview(),this.showGroupingForm()}_onRemove(){this.discardConfirmationModal.open()}_onDiscardRemove(){this.formElementSectionCollection.forEach(e=>{e.resetFormElement()}),this.formElementResponses=this.getGroupingResponses(),this._hideSectionPreview(),this._handleRepeatableGroupingsState(),this.repeatableGroupingPreview.insertFormElementDisplayValues(this.formElementSectionCollection)}_onFormElementFileUpload(e){return this.onFormElementFileUpload(e)}_getTypeaheadResults(e){return this.getTypeaheadResults(e)}}const Ve=Object.freeze({CONTAINER:"easy-apply-repeatable-groupings__container",REPEATABLE_GROUPINGS:"easy-apply-repeatable-groupings__grouping",ADD_MORE_BTN:"easy-apply-repeatable-groupings__add-more-btn",DISABLE_ADD_MORE_BTN:"easy-apply-repeatable-groupings__add-more-btn--disabled",ERROR_MESSAGE:"easy-apply-repeatable-groupings__error-message",SHOW_ERROR_MESSAGE:"easy-apply-repeatable-groupings__error-message--show"});class ze{constructor(e,{onFormElementFileUpload:t=q,getTypeaheadResults:i=q}){this.el=e,this.onFormElementFileUpload=t,this.getTypeaheadResults=i,this.containerEl=this.el.querySelector(j(Ve.CONTAINER)),this.addMoreBtnEl=this.containerEl.querySelector(j(Ve.ADD_MORE_BTN)),this.errorMessageEl=this.containerEl.querySelector(j(Ve.ERROR_MESSAGE)),this.repeatableGroupingEls=this.containerEl.querySelectorAll(j(Ve.REPEATABLE_GROUPINGS)),this.minRequiredQuestionGroupings=Number(this.containerEl.dataset.minRequiredGroupings),this._initRepeatableGroupings(this.repeatableGroupingEls),this._addEventListeners()}_initRepeatableGroupings(e){this.repeatableGroupingCollection=Array.from(e).map(e=>new Ge(e,{onFormElementFileUpload:this._onFormElementFileUpload.bind(this),getTypeaheadResults:this._getTypeaheadResults.bind(this),handleAddMoreBtnDisability:this.handleAddMoreBtnDisability.bind(this),handleRepeatableGroupingsValidation:this.handleRepeatableGroupingsValidation.bind(this)})),this.formSectionCollection=function(e){return e.length?e.map(e=>{if(e.formElementSectionCollection)return e.formElementSectionCollection}).filter(Boolean):[]}(this.repeatableGroupingCollection)}_addEventListeners(){this.addMoreBtnEl.addEventListener("click",this._onAddMore.bind(this))}_showRepeatableGroupingError(e){B.setElementContent(this.errorMessageEl,e),this.errorMessageEl.setAttribute("aria-live","assertive"),this.errorMessageEl.classList.add(Ve.SHOW_ERROR_MESSAGE)}_hideRepeatableGroupingError(){B.setElementContent(this.errorMessageEl,""),this.errorMessageEl.setAttribute("aria-live","off"),this.errorMessageEl.classList.remove(Ve.SHOW_ERROR_MESSAGE)}_disableAddMoreBtn(){this.addMoreBtnEl.disabled=!0,this.addMoreBtnEl.classList.add(Ve.DISABLE_ADD_MORE_BTN)}_enableAddMoreBtn(){this.addMoreBtnEl.disabled=!1,this.addMoreBtnEl.classList.remove(Ve.DISABLE_ADD_MORE_BTN)}getRepeatableGroupingResponses(){return this.repeatableGroupingCollection.map(e=>e.formElementResponses).filter(e=>e.length)}handleRepeatableGroupingsValidation(){const e=this.getRepeatableGroupingResponses().length>=this.minRequiredQuestionGroupings,t=this.repeatableGroupingCollection.some(e=>e.isEditing),i=this._getErrorMessage(t,e);return i?this._showRepeatableGroupingError(i):this._hideRepeatableGroupingError(),!t&&e}_getErrorMessage(e,t){return e?Object(n.w)("i18n_unfinished_save"):t?"":Object(n.w)("i18n_min_num_required")}handleAddMoreBtnDisability(){return this.containerEl.querySelectorAll(j(He.HIDE_CONTAINER)).length===this.formSectionCollection.length?this._disableAddMoreBtn():this._enableAddMoreBtn()}_onAddMore(){const e=this.repeatableGroupingCollection.find(e=>e.formContainerEl.classList.contains(He.HIDE_CONTAINER)&&e.previewContainerEl.classList.contains(He.HIDE_CONTAINER));e&&(e.showGroupingForm(),this.handleAddMoreBtnDisability())}_onFormElementFileUpload(e){return this.onFormElementFileUpload(e)}_getTypeaheadResults(e){return this.getTypeaheadResults(e)}}const Je=Object.freeze({EASY_APPLY_FORM_GROUPING:"easy-apply-form__grouping",EASY_APPLY_REPEATABLE_GROUPINGS:"easy-apply-form__repeatable-groupings"});class We{constructor(e,{onFormElementFileUpload:t=q,getTypeaheadResults:i=q}){this.el=e,this.onFormElementFileUpload=t,this.getTypeaheadResults=i,this.easyApplyFormGroupingsEls=this.el.querySelectorAll(j(Je.EASY_APPLY_FORM_GROUPING)),this.easyApplyRepeatableGroupingsEl=this.el.querySelector(j(Je.EASY_APPLY_REPEATABLE_GROUPINGS)),this.easyApplyFormGroupingsEls.length&&this._initFormGroupingSections(this.easyApplyFormGroupingsEls),this.easyApplyRepeatableGroupingsEl&&this._initFormRepeatableGroupings(this.easyApplyRepeatableGroupingsEl)}_initFormGroupingSections(e){var t;this.eaFormSectionsCollection=Array.from(e).map(e=>new Ue(e,{onFormElementFileUpload:this._onFormElementFileUpload.bind(this),getTypeaheadResults:this._getTypeaheadResults.bind(this)})),this.formElementsCollection=(t=this.eaFormSectionsCollection).length?[].concat(...t.map(e=>{if(e.formElementSectionCollection)return e.formElementSectionCollection})).filter(Boolean):[]}_initFormRepeatableGroupings(e){this.eaFormRepeatableGroupings=new ze(e,{onFormElementFileUpload:this._onFormElementFileUpload.bind(this),getTypeaheadResults:this._getTypeaheadResults.bind(this)})}isEasyApplyFormValid(){return this.easyApplyRepeatableGroupingsEl?this.eaFormRepeatableGroupings.handleRepeatableGroupingsValidation():le(this.formElementsCollection)}handleElementErrors(){return ae(this.formElementsCollection)}getEasyApplyFormResponses(){return this.easyApplyRepeatableGroupingsEl?[].concat(...this.eaFormRepeatableGroupings.getRepeatableGroupingResponses()):ce(this.formElementsCollection)}setInvalidElementFocus(){const e=this.el.querySelectorAll(j("".concat(Pe.FORM_ELEMENT,"[aria-invalid='true']")));e.length&&e[0].focus()}_onFormElementFileUpload(e){return this.onFormElementFileUpload(e)}_getTypeaheadResults(e){return this.getTypeaheadResults(e)}}}).call(this,i(4))},function(e,t,i){"use strict";i.r(t);var n=i(0);class r{init(e){this.pages=e,this._currentPage=this.pages[0],this._currentIndex=0,this._applyDataCache={},this._currentPage.show()}setModalDismissButton(e){this._modalDismissButtonEl=e}next(){this._currentIndex<this.pages.length-1&&(this._currentIndex++,this._changePage(),this._modalDismissButtonEl&&this._modalDismissButtonEl.focus())}previous(){this._currentIndex>0&&(this._currentIndex--,this._changePage(),this._modalDismissButtonEl&&this._modalDismissButtonEl.focus())}_changePage(){this._currentPage.hide(),this._currentPage=this.pages[this._currentIndex],this._currentPage.show()}resetState(){this._currentIndex=0,this._currentPage.hide(),this._currentPage=this.pages[0],this._currentPage.show()}prefillEmailFields(e){this.pages.forEach(t=>{t.hasSetPrefillEmailField&&t.setPrefillEmailField(e)})}prefillFirstNameInHeaders(e){e&&this.pages.forEach(t=>{t.hasSetFirstNameInHeader&&t.setFirstNameInHeader(e)})}prefillNameFields(e){this.pages.forEach(t=>{t.hasSetPrefillNameFields&&t.setPrefillNameFields(e)})}collectFormElementResponses(){return[].concat(...this.pages.map(e=>{if(e.easyApplyForm)return e.easyApplyForm.getEasyApplyFormResponses()})).filter(Boolean)}getEmail(){return this._applyDataCache.emailAddress}setEmail(e){this._applyDataCache.emailAddress=e}getIsProfileCreated(){return this._applyDataCache.isProfileCreated}setIsProfileCreated(e){this._applyDataCache.isProfileCreated=e}getIsApplicationSubmitted(){return this._applyDataCache.isApplicationSubmitted}setIsApplicationSubmitted(e){this._applyDataCache.isApplicationSubmitted=e}getIsApplyingAsGuest(){return this._applyDataCache.isApplyingAsGuest}setIsApplyingAsGuest(e){this._applyDataCache.isApplyingAsGuest=e}prefillApplicationFields(e){this.pages.forEach(t=>{t.hasSetPrefillApplicationFields&&t.setPrefillApplicationFields(e)})}}var s=i(1);class o{constructor(e,t,{onNext:i,onPrevious:n,onShow:r,loader:o={show:s.g,hide:s.g}}={}){this.el=e,this.lazyloader=window.lazyloader,this.applyPageStateManager=t,this.onShow=r,this.loader=o,this.questionGroupingType="BASIC",this.el.classList.add("unify-apply-modal__page--hidden"),this.nextButtonEl=this.el.querySelector(".unify-apply-modal__next-button"),this.el.querySelectorAll(".unify-apply-modal__next-button").forEach(e=>e.addEventListener("click",e=>{e.preventDefault(),i?i():this.next()}));const a=this.el.querySelector(".unify-apply-modal__prev-button");a&&a.addEventListener("click",e=>{e.preventDefault(),n?n():this.previous()})}show(){this.el.classList.remove("unify-apply-modal__page--hidden"),this.lazyloader&&this.lazyloader.then(e=>e.refreshLoader()),this.onShow&&this.onShow()}hide(){this.el.classList.add("unify-apply-modal__page--hidden")}next(){this.applyPageStateManager.next()}previous(){this.applyPageStateManager.previous()}enableNextButton(){this.nextButtonEl.removeAttribute("disabled")}disableNextButton(){this.nextButtonEl.setAttribute("disabled","")}setQuestionGroupingType(e){this.questionGroupingType=e}getQuestionGroupingType(){return this.questionGroupingType}get hasSetPrefillNameFields(){return!!this.setPrefillNameFields&&"function"==typeof this.setPrefillNameFields}get hasSetPrefillEmailField(){return!!this.setPrefillEmailField&&"function"==typeof this.setPrefillEmailField}get hasSetFirstNameInHeader(){return!!this.setFirstNameInHeader&&"function"==typeof this.setFirstNameInHeader}get hasSetPrefillApplicationFields(){return!!this.setPrefillApplicationFields&&"function"==typeof this.setPrefillApplicationFields}}const a=Object.freeze({UNIFY_JOB_APPLICATION_SUBMIT_EVENT:"UnifyJobApplicationSubmitEvent",UNIFY_JOB_APPLICATION_START_EVENT:"UnifyJobApplicationStartEvent",UNIFY_NON_DEFAULT_RESUME_SELECTED_EVENT:"UnifyJobApplicationNonDefaultResumeSelectedEvent",UNIFY_JOB_APPLICATION_CANCEL_EVENT:"UnifyJobApplicationCancelEvent"}),l=async({eventName:e,eventData:t})=>(await window.tracking).fireTrackingEvent(e,t),c=async({jobId:e=Number(Object(n.w)("jobId")),referenceId:t=Object(n.w)("referenceId")||null,trackingCode:i=n.y.getQueryParam(location.search,"trk")||null,isSuccess:r}={})=>{const s={eventName:a.UNIFY_JOB_APPLICATION_SUBMIT_EVENT,eventData:{header:{},jobPostingUrn:"urn:li:jobPosting:".concat(e),referenceId:t,trackingCode:i,isSuccess:r}};return await l(s)},h=async({jobId:e=Number(Object(n.w)("jobId")),referenceId:t=Object(n.w)("referenceId")||null,trackingCode:i=n.y.getQueryParam(location.search,"trk")||null}={})=>{const r={eventName:a.UNIFY_JOB_APPLICATION_START_EVENT,eventData:{header:{},jobPostingUrn:"urn:li:jobPosting:".concat(e),referenceId:t,trackingCode:i}};return await l(r)};var d=i(9),u=i(3);const p=Object.freeze({EMAIL_INPUT_PAGE_MODIFIER:"unify-email-input-page",EMAIL_INPUT_FORM_INPUT:"guest-input__field[name=email-input-page__input]",APPLY_AS_GUEST:"unify-email-input-page__body--link",SIGN_IN_FORM_ELEMENT:"unify-apply-sign-in-form"});class m extends o{constructor(e,t,i){super(e,t,{loader:i,onNext:()=>this.next()}),this.applyAsGuestEl=e.querySelector(Object(s.f)(p.APPLY_AS_GUEST)),this.applyAsGuestEl&&this.applyAsGuestEl.addEventListener("click",this.applyAsGuest.bind(this)),this.baseEmailInputPage=new d.a(e,{flowType:u.a.EASY_APPLY,loader:i,signInFormClass:p.SIGN_IN_FORM_ELEMENT}),this._initEventListeners()}_initEventListeners(){this.el.addEventListener("guestEmailSubmitted",e=>this._handleGuestEmailSubmission(e)),this.el.addEventListener("emailCheckError",()=>this.baseEmailInputPage._showInvalidEmailErrorMessage())}async next(){super.disableNextButton(),await this.baseEmailInputPage.checkEmail(),super.enableNextButton()}async _handleGuestEmailSubmission(e){this.applyPageStateManager.prefillEmailFields(e.detail.emailAddress),this.applyPageStateManager.setEmail(e.detail.emailAddress),await h(),super.next()}hide(){this.baseEmailInputPage.reset(),super.hide()}applyAsGuest(){const e=this.el.querySelector(Object(s.f)(p.EMAIL_INPUT_FORM_INPUT)).value;this.applyPageStateManager.prefillEmailFields(e),this.applyPageStateManager.setEmail(e),this.applyPageStateManager.setIsApplyingAsGuest(!0),h(),super.next()}}var _=i(24),f=i(7);const{getCookie:E,getQueryParam:g,addQueryParam:y}=n.y,b="/psettings/email/cors/confirm/pin",v="/checkpoint/challenges/cors/emailVerificationChallenge",w="/jobs-guest/jobs/guestResumeUpload",T="/psettings/email/cors/emailConfirmationMessages?usePin=true&emailKey=email_confirm_your_email_with_pin_single_01",S="/jobs-guest/jobs/api/jobApplication",I="/jobs-guest/api/typeaheadHits",A="/jobs-guest/jobs/api/guestEmailChallenge",O="/checkpoint/challengesV0/",N="/checkpoint/challengesV0/verify",R=(e,{addCsrfToken:t,id:i,addQueryParams:r}={})=>{let s=e;return i&&(s+="/".concat(i)),t&&(s=y(s,"csrfToken",(()=>{const e=E("bcookie");return Array.isArray(e)?null:n.z.trimDoubleQuotes(e)})())),r&&"object"==typeof r&&Object.keys(r).forEach(e=>s=y(s,e,r[e])),s},L=(e,t=window.location.host)=>{if(Object(f.a)("urlPath cannont be undefined",e),!t)return e;const i=t.includes("qprod")?1:0,n=t.split(".");if(1===n.length)return e;n[i]="www";const r=n.join(".");return"https://".concat(r).concat(e)},C=Object.freeze({APPLY_FORM_EMAIL_INPUT:"input[data-prefill=EMAIL_ADDRESS]",APPLY_FORM_FIRST_NAME:"input[data-prefill=FIRST_NAME]",APPLY_FORM_LAST_NAME:"input[data-prefill=LAST_NAME]",APPLY_FORM_PHONE_NUMBER:"input[data-prefill=PHONE_NUMBER]",JOIN_FORM_EMAIL_INPUT:".input__input#email-address",JOIN_FORM_FIRST_NAME:".input__input#first-name",JOIN_FORM_LAST_NAME:".input__input#last-name",EMAIL_VERIFICATION_FIRST_NAME:".unify-email-verification-form__header-first-name",APPLY_CONFIRMATION_FIRST_NAME:".unify-apply-confirmation-page__header-first-name",TH_APPLY_CONFIRMATION_FIRST_NAME:".unify-th-apply-confirmation-page__header-first-name",APPLY_CONFIRMATION_EMAIL:".unify-apply-confirmation-page__body-email",TH_APPLY_CONFIRMATION_EMAIL:".unify-th-apply-confirmation-page__body-email"}),P=Object.freeze({APPLY_PAGE_CONTENT:"unify-apply-page__content",APPLY_PAGE_SUBMIT:"unify-apply-page__submit-button",SUBMISSION_ERROR:"unify-apply-page__submission-error",SUBMISSION_ERROR_SHOW:"unify-apply-page__submission-error--show"}),F=[{key:"firstName",selector:C.APPLY_FORM_FIRST_NAME},{key:"lastName",selector:C.APPLY_FORM_LAST_NAME},{key:"phoneNumber",selector:C.APPLY_FORM_PHONE_NUMBER}];class k extends o{constructor(e,t,i){super(e,t,{loader:i,onNext:()=>{this.next()}}),this.el=e;const r=e.dataset.questionGroupingType;r&&super.setQuestionGroupingType(r),this.easyApplyForm=new _.a(e,{onFormElementFileUpload:this.onFormElementFileUpload.bind(this),getTypeaheadResults:this.getTypeaheadResults.bind(this)}),this.applyPageContentEl=this.el.querySelector(Object(s.f)(P.APPLY_PAGE_CONTENT)),this.firstNameEl=this.el.querySelector(C.APPLY_FORM_FIRST_NAME),this.lastNameEl=this.el.querySelector(C.APPLY_FORM_LAST_NAME),this.isSkipUnifyApplySubmitEnabled=Boolean(Object(n.w)("isSkipUnifyApplySubmitEnabled")),this.enablePrefillApplicationFieldsForUnify=e.dataset.enablePrefillApplicationFields,this.enablePrefillApplicationFieldsForUnify&&(this.prefillElements=F.map(e=>{const t=this.el.querySelector(e.selector);if(t)return{key:e.key,el:t}}).filter(e=>e))}async onFormElementFileUpload(e={}){const t=new FormData;t.append("file",e);try{const e=await this._uploadFile(t),i=Object(s.i)(e);if(i.resumeAmbryUrn){if(await(async({jobId:e=Number(Object(n.w)("jobId")),referenceId:t=Object(n.w)("referenceId")||null,trackingCode:i=n.y.getQueryParam(location.search,"trk"),resumeSource:r="UPLOADED_NEW"}={})=>{const s={eventName:a.UNIFY_NON_DEFAULT_RESUME_SELECTED_EVENT,eventData:{header:{},jobPostingUrn:"urn:li:jobPosting:".concat(e),referenceId:t,resumeSource:r,trackingCode:i}};return await l(s)})(),this.enablePrefillApplicationFieldsForUnify){const e=this._serializeResumeResponse(i);this.applyPageStateManager.prefillApplicationFields(e)}return i.resumeAmbryUrn}return""}catch(e){return""}}_uploadFile(e){const t=L(w);return Object(n.A)(t,{method:"POST",postData:e})}setPrefillEmailField(e){const t=this.el.querySelector(C.APPLY_FORM_EMAIL_INPUT);if(t){t.setAttribute("value",e);const i=new Event("input");t.dispatchEvent(i)}}_handleNamePrefills(){const e=this.firstNameEl.value,t=this.lastNameEl.value;this.applyPageStateManager.prefillNameFields({firstName:e,lastName:t}),this.applyPageStateManager.prefillFirstNameInHeaders(e)}async next(){if(!this.easyApplyForm.isEasyApplyFormValid())return this.easyApplyForm.handleElementErrors(),void this.easyApplyForm.setInvalidElementFocus();this.firstNameEl&&this.lastNameEl&&this._handleNamePrefills(),super.next()}setPrefillApplicationFields(e){this.prefillElements.map(t=>{const i=e[t.key];i&&!t.el.value&&(t.el.setAttribute("value",i),t.el.dispatchEvent(new Event("input")))})}_serializeResumeResponse({firstName:e="",lastName:t="",phoneNumbers:i=[]}={}){return{firstName:e,lastName:t,phoneNumber:i.length&&i[0].number}}async getTypeaheadResults({typeaheadType:e,geoVersion:t,bingGeoSubTypes:i,query:r}={}){try{const s=R(I,{addQueryParams:{typeaheadType:e,geoParamsVersion:t,geoTypes:i,query:r}}),o=await Object(n.A)(s,{method:"GET",headers:{"content-type":"application/json; charset=UTF-8"}});return JSON.parse(o.responseText)}catch(e){return[]}}}var M=i(6);const D=Object.freeze({APPLY_JOIN_FORM_ERROR_MESSAGE:"unify-apply-join-form__error",APPLY_JOIN_FORM_ERROR_MESSAGE_HIDE:"unify-apply-join-form__error--hidden",APPLY_JOIN_FORM_LEGAL_AGREEMENT:"unify-apply-join-form__agreement",APPLY_JOIN_FORM_LEGAL_AGREEMENT_HIDE:"unify-apply-join-form__agreement--hidden",JOIN_FORM_SUBMIT_BUTTON_AGREE:"join-form__form-body-submit-button-agree",JOIN_FORM_SUBMIT_BUTTON_AGREE_HIDE:"join-form__form-body-submit-button-agree--hidden",JOIN_FORM_SUBMIT_BUTTON_CONTINUE:"join-form__form-body-submit-button-continue",JOIN_FORM_SUBMIT_BUTTON_CONTINUE_HIDE:"join-form__form-body-submit-button-continue--hidden"});class U{constructor(e,{onNext:t}){if(!t)throw new Error("onNext function is required");this.el=e,this.accountCreationErrorEl=this.el.querySelector(Object(s.f)(D.APPLY_JOIN_FORM_ERROR_MESSAGE)),this.legalAgreementEl=this.el.querySelector(Object(s.f)(D.APPLY_JOIN_FORM_LEGAL_AGREEMENT)),this.joinFormSubmitButtonAgreeEl=this.el.querySelector(Object(s.f)(D.JOIN_FORM_SUBMIT_BUTTON_AGREE)),this.joinFormSubmitButtonContinueEl=this.el.querySelector(Object(s.f)(D.JOIN_FORM_SUBMIT_BUTTON_CONTINUE)),this.el.addEventListener(M.c.validationFailed,()=>this._hideAccountCreationError()),this.el.addEventListener(M.c.validationSucceeded,()=>this._hideAccountCreationError()),this.el.addEventListener(M.c.accountCreationSucceeded,()=>t()),this.el.addEventListener(M.c.accountCreationFailed,e=>this._showAccountCreationError(e.detail.translatedMessage)),this.el.addEventListener(M.c.splitJoinFormStepChange,e=>this._handleStepChange(e)),this.joinForm=new M.b(this.el)}_showAccountCreationError(e){this.accountCreationErrorEl.classList.remove(D.APPLY_JOIN_FORM_ERROR_MESSAGE_HIDE),this.accountCreationErrorEl.textContent=e}_hideAccountCreationError(){this.accountCreationErrorEl.classList.add(D.APPLY_JOIN_FORM_ERROR_MESSAGE_HIDE)}_handleStepChange(e){const{splitJoinStepNum:t}=e.detail;1===t?(this.legalAgreementEl.classList.add(D.APPLY_JOIN_FORM_LEGAL_AGREEMENT_HIDE),this.joinFormSubmitButtonContinueEl.classList.remove(D.JOIN_FORM_SUBMIT_BUTTON_CONTINUE_HIDE),this.joinFormSubmitButtonAgreeEl.classList.add(D.JOIN_FORM_SUBMIT_BUTTON_AGREE_HIDE)):(this.legalAgreementEl.classList.remove(D.APPLY_JOIN_FORM_LEGAL_AGREEMENT_HIDE),this.joinFormSubmitButtonAgreeEl.classList.remove(D.JOIN_FORM_SUBMIT_BUTTON_AGREE_HIDE),this.joinFormSubmitButtonContinueEl.classList.add(D.JOIN_FORM_SUBMIT_BUTTON_CONTINUE_HIDE))}}const x=Object.freeze({PAGE_CONTENT:"unify-profile-complete-page__content"});class B extends o{constructor(e,t){if(super(e,t),this.joinFormEl=e.querySelector(".join-form"),this.firstNameInputEl=this.joinFormEl.querySelector("#first-name"),this.lastNameInputEl=this.joinFormEl.querySelector("#last-name"),this.pageContentEl=e.querySelector(Object(s.f)(x.PAGE_CONTENT)),this.isSkipUnifyApplySubmitEnabled=Boolean(Object(n.w)("isSkipUnifyApplySubmitEnabled")),this.isSkipUnifyApplySubmitEnabled){e.querySelector(".join-form__form-body-submit-button").addEventListener("click",e=>{e.preventDefault(),this._next()})}else this.joinForm=new U(this.joinFormEl,{onNext:()=>this._next()})}_next(){this.applyPageStateManager.prefillFirstNameInHeaders(this.firstNameInputEl.value),this.applyPageStateManager.setIsProfileCreated(!0),super.next()}setPrefillEmailField(e){const t=this.el.querySelector(C.JOIN_FORM_EMAIL_INPUT);t&&t.setAttribute("value",e)}setPrefillNameFields({firstName:e="",lastName:t=""}){e&&(this.firstNameInputEl.value=e,this.firstNameInputEl.disabled=!0),t&&(this.lastNameInputEl.value=t,this.lastNameInputEl.disabled=!0)}}const j=Object.freeze({PIN_INPUT:"unify-email-verification-form__input",RESEND_PIN_LINK:"unify-email-verification-form__resend-code-link",SEND_PIN_ERROR:"unify-email-verification-form__send-pin-error",SEND_PIN_ERROR_SHOW:"unify-email-verification-form__send-pin-error--show",SEND_PIN_ERROR_RESEND:"unify-email-verification-form__send-pin-error-link",PIN_ERROR:"unify-email-verification-form__pin-error",PIN_ERROR_SHOW:"unify-email-verification-form__pin-error--show",PIN_ERROR_RESEND:"unify-email-verification-form__pin-error-link",SUBMISSION_ERROR:"unify-email-verification-form__submission-error",SUBMISSION_ERROR_SHOW:"unify-email-verification-form__submission-error--show",EMAIL:"unify-email-verification-form__email"});class q extends o{constructor(e,t,i,r=!1){super(e,t,{loader:i,onNext:()=>this.submit(),onShow:()=>this._sendPin()}),this.isSkipUnifyApplySubmitEnabled=Boolean(Object(n.w)("isSkipUnifyApplySubmitEnabled")),this.pinInputEl=this.el.querySelector(Object(s.f)(j.PIN_INPUT)),this.resendPinEl=this.el.querySelector(Object(s.f)(j.RESEND_PIN_LINK)),this.sendPinErrorEl=this.el.querySelector(Object(s.f)(j.SEND_PIN_ERROR)),this.sendPinErrorResendEl=this.el.querySelector(Object(s.f)(j.SEND_PIN_ERROR_RESEND)),this.pinErrorEl=this.el.querySelector(Object(s.f)(j.PIN_ERROR)),this.pinErrorResendEl=this.el.querySelector(Object(s.f)(j.PIN_ERROR_RESEND)),this.submissionErrorEl=this.el.querySelector(Object(s.f)(j.SUBMISSION_ERROR)),this.emailEl=this.el.querySelector(Object(s.f)(j.EMAIL)),this.firstNameEl=this.el.querySelector(C.EMAIL_VERIFICATION_FIRST_NAME),this.resendPinEl.addEventListener("click",this._resendPin.bind(this)),this.sendPinErrorResendEl.addEventListener("click",this._resendPin.bind(this)),this.pinErrorResendEl.addEventListener("click",this._resendPin.bind(this)),this.isTalentHubFlow=r}async submit(){if(this._hideAllErrors(),super.disableNextButton(),this.loader.show(),this.isSkipUnifyApplySubmitEnabled)return super.next(),this.loader.hide(),void super.enableNextButton();const e=this.pinInputEl.value;try{await this._verifyPin(e),this.isTalentHubFlow||await this._confirmEmail(),await this._submitApplication(),this.applyPageStateManager.setIsApplicationSubmitted(!0),super.next()}finally{this.loader.hide(),super.enableNextButton()}}_containsError(e){const{globalError:t,errorKey:i,responseCode:n}=Object(s.i)(e);return n&&200!==n?"Request failed with status code: ".concat(n):i?"Request successful but an error occurred: ".concat(i):t}async _sendPin(){const e=this.applyPageStateManager.getEmail();if(!this.isSkipUnifyApplySubmitEnabled)try{let t,i;this.isTalentHubFlow?(i=R(L(A),{addCsrfToken:!1,addQueryParams:{emailAddress:e}}),t="GET"):(i=R(L(T),{addCsrfToken:!0}),t="POST");const n=JSON.stringify({emailAddress:e}),r=await this._sendRequest(t,i,n),o=this._containsError(r);if(o)throw new Error(o);const{pinId:a,messageId:l,challengeId:c}=Object(s.i)(r);if(a&&l&&(this.pinId=a,this.messageId=l),c){const e=R(L(O+c),{addCsrfToken:!1}),t=await this._sendRequest("GET",e),{displayTime:i,challengeType:n,challengeSource:r,challengeDetails:o,encryptedChallengeViewData:a,requestSubmissionId:l}=Object(s.i)(t);this.challengeId=c,this.displayTime=i,this.challengeType=n,this.challengeSource=r,this.challengeDetails=o,this.challengeData=a,this.requestSubmissionId=l}return r}catch(e){this._showSendPinError()}}_resendPin(){return this._hideAllErrors(),this.pinInputEl.value="",this._sendPin()}async _verifyPin(e){const t=Number(new Date);try{let i,n;this.isTalentHubFlow?(i=R(L(N),{addCsrfToken:!1}),n=JSON.stringify({csrfToken:E("JSESSIONID")||[],challengeId:this.challengeId,displayTime:this.displayTime,challengeType:this.challengeType,challengeSource:this.challengeSource,requestSubmissionId:this.requestSubmissionId,challengeData:this.challengeData,pin:e})):(i=R(L(v),{id:this.pinId,addCsrfToken:!0,addQueryParams:{displayTime:t}}),n=JSON.stringify({pin:e}));const r=await this._sendRequest("POST",i,n),s=this._containsError(r);if(s)throw new Error(s);return r}catch(e){return this._showInvalidPinError(),Promise.reject(e)}}async _confirmEmail(){const e=this.applyPageStateManager.getEmail();try{const t=L(b),i=R(t,{addCsrfToken:!0}),n=JSON.stringify({email:e,messageId:this.messageId,pinId:this.pinId}),r=await this._sendRequest("POST",i,n),s=this._containsError(r);if(s)throw new Error(s);return r}catch(e){return this._showSubmissionError(),Promise.reject(e)}}async _submitApplication(){const e=this.applyPageStateManager.getEmail(),t=this.applyPageStateManager.collectFormElementResponses(),i=this.challengeId;let r;try{r=await(e=>{const t=L(S);return Object(n.A)(t,{method:"POST",postData:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"}})})({submitAsGuest:this.isTalentHubFlow,emailAddress:e,responses:t,guestChallengeId:i}),c({isSuccess:!0})}catch(e){return this._showSubmissionError(),c({isSuccess:!1}),Promise.reject(e)}return r}setFirstNameInHeader(e){this.firstNameEl.textContent=e}setPrefillEmailField(e){this.emailEl.textContent=e}_showSendPinError(){this.sendPinErrorEl.classList.add(j.SEND_PIN_ERROR_SHOW)}_hideSendPinError(){this.sendPinErrorEl.classList.remove(j.SEND_PIN_ERROR_SHOW)}_showInvalidPinError(){this.pinErrorEl.classList.add(j.PIN_ERROR_SHOW),this.pinInputEl.focus()}_hideInvalidPinError(){this.pinErrorEl.classList.remove(j.PIN_ERROR_SHOW)}_showSubmissionError(){this.submissionErrorEl.classList.add(j.SUBMISSION_ERROR_SHOW)}_hideSubmissionError(){this.submissionErrorEl.classList.remove(j.SUBMISSION_ERROR_SHOW)}_hideAllErrors(){this._hideSendPinError(),this._hideInvalidPinError(),this._hideSubmissionError()}_sendRequest(e,t,i=""){return Object(n.A)(t,{method:e,postData:i,headers:{"content-type":"application/json; charset=UTF-8"}})}}class H extends o{constructor(e,t){super(e,t),this.firstNameEl=e.querySelector(C.APPLY_CONFIRMATION_FIRST_NAME),this.emailEl=e.querySelector(C.APPLY_CONFIRMATION_EMAIL)}setFirstNameInHeader(e){this.firstNameEl.textContent=e}setPrefillEmailField(e){this.emailEl.textContent=e}}const G=Object.freeze({CREATE_PROFILE:"unify-th-apply-confirmation-page__create-profile",CREATE_PROFILE_SHOW:"unify-th-apply-confirmation-page__create-profile--show",SIGN_IN:"unify-th-apply-confirmation-page__sign-in",SIGN_IN_SHOW:"unify-th-apply-confirmation-page__sign-in--show",CTA_CREATE_PROFILE:"unify-th-apply-confirmation-page__cta-create-profile",CTA_CREATE_PROFILE_SHOW:"unify-th-apply-confirmation-page__cta-create-profile--show",CTA_SIGN_IN:"unify-th-apply-confirmation-page__cta-sign-in",CTA_SIGN_IN_SHOW:"unify-th-apply-confirmation-page__cta-sign-in--show"});class V extends o{constructor(e,t){super(e,t,{onShow:()=>this._onShow()}),this.firstNameEl=e.querySelector(C.TH_APPLY_CONFIRMATION_FIRST_NAME),this.emailEl=e.querySelector(C.TH_APPLY_CONFIRMATION_EMAIL),this.createProfileEl=e.querySelector(Object(s.f)(G.CREATE_PROFILE)),this.signInEl=e.querySelector(Object(s.f)(G.SIGN_IN)),this.ctaCreateProfileEl=e.querySelector(Object(s.f)(G.CTA_CREATE_PROFILE)),this.ctaSignInEl=e.querySelector(Object(s.f)(G.CTA_SIGN_IN))}_onShow(){this.applyPageStateManager.getIsApplyingAsGuest()?(this.createProfileEl.classList.remove(G.CREATE_PROFILE_SHOW),this.ctaCreateProfileEl.classList.remove(G.CTA_CREATE_PROFILE_SHOW),this.signInEl.classList.add(G.SIGN_IN_SHOW),this.ctaSignInEl.classList.add(G.CTA_SIGN_IN_SHOW)):(this.signInEl.classList.remove(G.SIGN_IN_SHOW),this.ctaSignInEl.classList.remove(G.CTA_SIGN_IN_SHOW),this.createProfileEl.classList.add(G.CREATE_PROFILE_SHOW),this.ctaCreateProfileEl.classList.add(G.CTA_CREATE_PROFILE_SHOW))}setFirstNameInHeader(e){this.firstNameEl.textContent=e}setPrefillEmailField(e){this.emailEl.textContent=e}}var z=i(2),J=i.n(z);const W=Object.freeze({CREATE_PROFILE:"unify-th-post-apply-page__create-profile",CREATE_PROFILE_SHOW:"unify-th-post-apply-page__create-profile--show",SIGN_IN:"unify-th-post-apply-page__sign-in",SIGN_IN_SHOW:"unify-th-post-apply-page__sign-in--show",SIGN_IN_EMAIL_INPUT:"sign-in-form__inputs [name=session_key]",SIGN_IN_FORM_ELEMENT:"unify-post-apply-sign-in-form"});class Y extends o{constructor(e,t){super(e,t,{onShow:()=>this._onShow()}),this.joinFormEl=this.el.querySelector(".join-form"),this.joinForm=new U(this.joinFormEl,{onNext:()=>this._onCreateAccount()});const i=this.el.querySelector(Object(s.f)(W.SIGN_IN_FORM_ELEMENT));this.unifySignInForm=new n.r(i),this.createProfileEl=this.el.querySelector(Object(s.f)(W.CREATE_PROFILE)),this.createProfileEmailInput=this.el.querySelector(C.JOIN_FORM_EMAIL_INPUT),this.createProfileFirstNameInput=this.el.querySelector(C.JOIN_FORM_FIRST_NAME),this.createProfileLastNameInput=this.el.querySelector(C.JOIN_FORM_LAST_NAME),this.signInEl=this.el.querySelector(Object(s.f)(W.SIGN_IN)),this.signInEmailInputEl=this.el.querySelector(Object(s.f)(W.SIGN_IN_EMAIL_INPUT))}_onShow(){this.applyPageStateManager.getIsApplyingAsGuest()?(this.createProfileEl.classList.remove(W.CREATE_PROFILE_SHOW),this.signInEl.classList.add(W.SIGN_IN_SHOW)):(this.signInEl.classList.remove(W.SIGN_IN_SHOW),this.createProfileEl.classList.add(W.CREATE_PROFILE_SHOW))}_onCreateAccount(){const e=Object(n.w)("neptuneOnboardingUrl");J.a.redirect(e)}setPrefillNameFields({firstName:e="",lastName:t=""}){this.createProfileFirstNameInput.value=e,this.createProfileLastNameInput.value=t}setPrefillEmailField(e){this.signInEmailInputEl.value=e,this.createProfileEmailInput.value=e}}class K extends n.k{constructor(e){super(e),this.applyModalPageManager=new r,this.loaderEl=e.querySelector(".loader"),this.modalMainEl=e.querySelector(".modal__main"),this.loader=new n.j(this.loaderEl,{wrapperEl:this.modalMainEl}),this.modalPages=[...e.querySelectorAll(".unify-apply-modal__page")].map(e=>this._getPageController(e)),this.modalDismissButton=e.querySelector(".modal__dismiss"),this.applyModalPageManager.setModalDismissButton(this.modalDismissButton)}close(){if(this.applyModalPageManager.getIsApplicationSubmitted()||this._fireUnifyCloseEvent(),this.applyModalPageManager.getIsProfileCreated()){const e=Object(n.w)("neptuneOnboardingUrl");J.a.redirect(e)}else this.applyModalPageManager.resetState(),super.close()}open(){this.applyModalPageManager.init(this.modalPages),super.open()}_getPageController(e){switch(!0){case e.classList.contains(s.b.emailInputPage):return new m(e,this.applyModalPageManager,this.loader);case e.classList.contains(s.b.profileCompletePage):return new B(e,this.applyModalPageManager);case e.classList.contains(s.b.emailVerificationPage):return new q(e,this.applyModalPageManager,this.loader);case e.classList.contains(s.b.applyConfirmationPage):return new H(e,this.applyModalPageManager);case e.classList.contains(s.b.thApplyConfirmationPage):return new V(e,this.applyModalPageManager);case e.classList.contains(s.b.thPostApplyPage):return new Y(e,this.applyModalPageManager);case e.classList.contains(s.b.thEmailVerificationPage):return new q(e,this.applyModalPageManager,this.loader,!0);default:return new k(e,this.applyModalPageManager,this.loader)}}async _fireUnifyCloseEvent(){return await(async({jobId:e=Number(Object(n.w)("jobId")),referenceId:t=Object(n.w)("referenceId")||null,trackingCode:i=n.y.getQueryParam(location.search,"trk")||null,questionGroupingType:r,currentPageNumber:s,totalPageCount:o})=>{const c={eventName:a.UNIFY_JOB_APPLICATION_CANCEL_EVENT,eventData:{header:{},jobPostingUrn:"urn:li:jobPosting:".concat(e),referenceId:t,questionGroupingType:r,currentPageNumber:s,totalPageCount:o,trackingCode:i}};return await l(c)})({questionGroupingType:this.applyModalPageManager._currentPage.getQuestionGroupingType(),currentPageNumber:this.applyModalPageManager._currentIndex,totalPageCount:this.applyModalPageManager.pages.length})}}class Q{constructor(){this.unifyApplyModalEl=document.querySelector(".unify-apply-modal")}initApplyFlow(){this.unifyApplyModalEl&&(this.unifyApplyModal=new K(this.unifyApplyModalEl),g(location.search,"showGuestApplyModal")&&this.unifyApplyModal.open())}}(new Q).initApplyFlow()}]);